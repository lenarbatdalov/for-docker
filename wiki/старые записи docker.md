> Работа с образами
Работа с образами
docker run hello-world

Образы, доступные в Docker Hub, можно искать с помощью команды docker и подкоманды search
docker search ubuntu

Чтобы загрузить официальный образ ubuntu на свой компьютер
docker pull ubuntu

Для просмотра загруженных на компьютер образов нужно ввести
docker images

> Запуск контейнера
В качестве примера запустим контейнер с помощью последней версии образа Ubuntu. Комбинация параметров -i и -t обеспечивает интерактивный доступ к командному процессору контейнера:
docker run -it ubuntu
Командная строка должна измениться, показывая, что мы теперь работаем в контейнере.
Теперь можно запускать любые команды внутри контейнера.

> Управление контейнерами
Просмотр активных контейнеров:
docker ps
Чтобы увидеть и активные, и неактивные контейнеры
docker ps -a
Чтобы увидеть последние из созданных контейнеров, задаем параметр -l:
docker ps -l
Запустим загруженный из Ubuntu контейнер с идентификатором d9b100f2f636:
docker start d9b100f2f636
Для остановки запущенного контейнера используем команду docker stop, затем указываем идентификатор контейнера или его имя.
docker stop sharp_volhard
Если вам контейнер больше не нужен, удаляем его командой docker rm с указанием либо идентификатора, либо имени контейнера.
docker rm festive_williams

Запустить новый контейнер и задать ему имя можно с помощью параметра --name. Параметр --rm позволяет создать контейнер, который самостоятельно удалится после остановки. Для более подробной информации о данных и других опциях используйте команду docker run help.

> Сохранение изменений в контейнере в образ
Затем подтверждаем изменения в новом образе Docker с помощью следующей команды. 
docker commit -m "What you did to the image" -a "Author Name" container_id repository/new_image_name

Параметр -m позволяет задать сообщение подтверждения, чтобы облегчить вам и другим пользователям образа понимание того, какие изменения были внесены, а параметр -a позволяет указать автора.
Если вы не создавали дополнительных репозиториев в Docker Hub, имя репозитория (repository) обычно является вашим именем пользователя в Docker Hub.

Например, для пользователя sammy и идентификатора контейнера d9b100f2f636 команда будет выглядеть следующим образом:
docker commit -m "added Node.js" -a "sammy" d9b100f2f636 sammy/ubuntu-nodejs

> Отправка контейнеров Docker в репозиторий
Для отправки образов в Docker Hub или другой Docker-реестр, у вас должна быть в нем учетная запись.
Чтобы отправить свой образ, осуществляем вход на Docker Hub.
docker login -u docker-registry-username

Примечание: Если имя пользователя в Docker-реестре отличается от локального имени пользователя, которое использовалось для создания образа, необходимо привязать свой образ к имени пользователя в реестре. Чтобы отправить пример из предыдущего шага, вводим:
docker tag sammy/ubuntu-nodejs docker-registry-username/ubuntu-nodejs

Затем можно отправлять собственный образ:
docker push docker-registry-username/docker-image-name

После отправки образа в реестр, его имя должно появиться в списке панели управления вашей учетной записи.

Теперь с помощью команды docker pull sammy/ubuntu-nodejs можно загрузить образ на новую машину и использовать его для запуска нового контейнера.

> TEST
```
docker -v
sudo systemctl status docker
docker images
docker search tomcat
docker pull tomcat  (просто скачать)

ifconfig   (ip адрес)

docker run -it -p 1234:8080 tomcat
-it  (интерактивно)
-p (перенапровление порта на 1234)
достучаться до контейнера можно по адресу  -  ip:1234

docker run -d -p 1235:8080 tomcat   (запустить в режиме демона)

docker run -d -p 1236:80 nginx  (запустить nginx на порте 1236)

docker rm hello-world (стереть контейнер)
docker rmi hello-world (стереть image)

docker tag oldname:v1 newname:v2 (создать копию image с другим тагом и именем)

mkdir newdir    (создать докер файл)
vi Dockerfile
docker build -t myimage:v3  (создать image из локального докер файла)

docker commit 5267e10re4 newimage:v4   (создать image с именем newimage:v4 из контейнера с ID 5267e10re4)
```
