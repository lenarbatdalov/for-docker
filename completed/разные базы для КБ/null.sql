-- ' version 030001 ' -- ' revision 21415 ' -- ' prefix f_ ' --
create table `f_acc_buttons` (`id` int(11) auto_increment, primary key (`id`), `group_id` int(11) default '0'  NOT NULL , key `group_id` (`group_id`), `button_id` int(11) default '0'  NOT NULL , key `button_id` (`button_id`), `access` tinyint(1) default '0'  NOT NULL )engine=innodb default charset=utf8 collate=utf8_general_ci;
create table `f_acc_buttons_par` (`id` int(11) auto_increment, primary key (`id`), `group_id` int(11) default '0'  NOT NULL , key `group_id` (`group_id`), `button_id` int(11) default '0'  NOT NULL , key `button_id` (`button_id`), `access` tinyint(1) default '0'  NOT NULL )engine=innodb default charset=utf8 collate=utf8_general_ci;
create table `f_acc_calendars` (`id` int(11) auto_increment, primary key (`id`), `group_id` int(11) default '0'  NOT NULL , key `group_id` (`group_id`), `calendar_id` int(11) default '0'  NOT NULL , key `calendar_id` (`calendar_id`), `access` tinyint(1) default '0'  NOT NULL )engine=innodb default charset=utf8 collate=utf8_general_ci;
create table `f_acc_calendars_par` (`id` int(11) auto_increment, primary key (`id`), `group_id` int(11) default '0'  NOT NULL , key `group_id` (`group_id`), `calendar_id` int(11) default '0'  NOT NULL , key `calendar_id` (`calendar_id`), `access` tinyint(1) default '0'  NOT NULL )engine=innodb default charset=utf8 collate=utf8_general_ci;
create table `f_acc_cats` (`cat_id` int(11) default '0'  NOT NULL , key `cat_id` (`cat_id`), `group_id` int(11) default '0'  NOT NULL , key `group_id` (`group_id`), `access` tinyint(4) default '0'  NOT NULL )engine=innodb default charset=utf8 collate=utf8_general_ci;
create table `f_acc_cats_par` (`cat_id` int(11) default '0'  NOT NULL , key `cat_id` (`cat_id`), `group_id` int(11) default '0'  NOT NULL , key `group_id` (`group_id`), `access` tinyint(4) default '0'  NOT NULL )engine=innodb default charset=utf8 collate=utf8_general_ci;
create table `f_acc_fields` (`id` int(11) auto_increment, primary key (`id`), `group_id` int(11) default '0'  NOT NULL , key `group_id` (`group_id`), `table_id` int(11) default '0'  NOT NULL , key `table_id` (`table_id`), `field_id` int(11) default '0'  NOT NULL , key `field_id` (`field_id`), `view_tb` tinyint(1) default '0'  NOT NULL , `view_sub` tinyint(1) default '0'  NOT NULL , `view_add` tinyint(1) default '0'  NOT NULL , `view_edit` tinyint(1) default '0'  NOT NULL , `view` tinyint(1) default '0'  NOT NULL , `read_acc` tinyint(1) default '0'  NOT NULL , `write_acc` tinyint(1) default '0'  NOT NULL )engine=innodb default charset=utf8 collate=utf8_general_ci;
insert into `f_acc_fields` values (7331, 1, 281, 4665, 1, 1, 0, 0, 1, 0, 0);
insert into `f_acc_fields` values (7332, 2, 281, 4665, 1, 1, 0, 0, 1, 0, 0);
insert into `f_acc_fields` values (7333, 1, 281, 4666, 1, 1, 0, 0, 1, 0, 0);
insert into `f_acc_fields` values (7334, 2, 281, 4666, 1, 1, 0, 0, 1, 0, 0);
insert into `f_acc_fields` values (7335, 1, 281, 4667, 1, 1, 0, 0, 1, 0, 0);
insert into `f_acc_fields` values (7336, 2, 281, 4667, 1, 1, 0, 0, 1, 0, 0);
insert into `f_acc_fields` values (7337, 1, 281, 4668, 1, 1, 0, 0, 1, 0, 0);
insert into `f_acc_fields` values (7338, 2, 281, 4668, 1, 1, 0, 0, 1, 0, 0);
create table `f_acc_fields_par` (`id` int(11) auto_increment, primary key (`id`), `group_id` int(11) default '0'  NOT NULL , key `group_id` (`group_id`), `table_id` int(11) default '0'  NOT NULL , key `table_id` (`table_id`), `field_id` int(11) default '0'  NOT NULL , key `field_id` (`field_id`), `view_tb` tinyint(1) default '0'  NOT NULL , `view_sub` tinyint(1) default '0'  NOT NULL , `view_add` tinyint(1) default '0'  NOT NULL , `view_edit` tinyint(1) default '0'  NOT NULL , `view` tinyint(1) default '0'  NOT NULL , `read_acc` tinyint(1) default '0'  NOT NULL , `write_acc` tinyint(1) default '0'  NOT NULL )engine=innodb default charset=utf8 collate=utf8_general_ci;
create table `f_acc_filters` (`id` int(11) auto_increment, primary key (`id`), `group_id` int(11) default '0'  NOT NULL , key `group_id` (`group_id`), `table_id` int(11) default '0'  NOT NULL , key `table_id` (`table_id`), `filter_id` int(11) default '0'  NOT NULL , key `filter_id` (`filter_id`), `access` tinyint(1) default '0'  NOT NULL , `def_use` tinyint(1) default '0'  NOT NULL )engine=innodb default charset=utf8 collate=utf8_general_ci;
create table `f_acc_filters_par` (`id` int(11) auto_increment, primary key (`id`), `group_id` int(11) default '0'  NOT NULL , key `group_id` (`group_id`), `table_id` int(11) default '0'  NOT NULL , key `table_id` (`table_id`), `filter_id` int(11) default '0'  NOT NULL , key `filter_id` (`filter_id`), `access` tinyint(1) default '0'  NOT NULL , `def_use` tinyint(1) default '0'  NOT NULL )engine=innodb default charset=utf8 collate=utf8_general_ci;
create table `f_acc_forms` (`id` int(11) auto_increment, primary key (`id`), `group_id` int(11) default '0'  NOT NULL , key `group_id` (`group_id`), `table_id` int(11) default '0'  NOT NULL , key `table_id` (`table_id`), `form_id` int(11) default '0'  NOT NULL , key `form_id` (`form_id`), `read_acc` tinyint(1) default '0'  NOT NULL , `edit_acc` tinyint(1) default '0'  NOT NULL , `del_acc` tinyint(1) default '0'  NOT NULL )engine=innodb default charset=utf8 collate=utf8_general_ci;
create table `f_acc_forms_par` (`id` int(11) auto_increment, primary key (`id`), `group_id` int(11) default '0'  NOT NULL , key `group_id` (`group_id`), `table_id` int(11) default '0'  NOT NULL , key `table_id` (`table_id`), `form_id` int(11) default '0'  NOT NULL , key `form_id` (`form_id`), `read_acc` tinyint(1) default '0'  NOT NULL , `edit_acc` tinyint(1) default '0'  NOT NULL , `del_acc` tinyint(1) default '0'  NOT NULL )engine=innodb default charset=utf8 collate=utf8_general_ci;
create table `f_acc_messages` (`id` int(11) auto_increment, primary key (`id`), `group_id` int(11) default '0'  NOT NULL , key `group_id` (`group_id`), `access` tinyint(1) default '0'  NOT NULL )engine=innodb default charset=utf8 collate=utf8_general_ci;
create table `f_acc_reports` (`id` int(11) auto_increment, primary key (`id`), `group_id` int(11) default '0'  NOT NULL , key `group_id` (`group_id`), `report_id` int(11) default '0'  NOT NULL , key `report_id` (`report_id`), `access` tinyint(1) default '0'  NOT NULL )engine=innodb default charset=utf8 collate=utf8_general_ci;
create table `f_acc_reports_par` (`id` int(11) auto_increment, primary key (`id`), `group_id` int(11) default '0'  NOT NULL , key `group_id` (`group_id`), `report_id` int(11) default '0'  NOT NULL , key `report_id` (`report_id`), `access` tinyint(1) default '0'  NOT NULL )engine=innodb default charset=utf8 collate=utf8_general_ci;
create table `f_acc_reports_users` (`id` int(11) auto_increment, primary key (`id`), `report_id` int(11) default '0'  NOT NULL , key `report_id` (`report_id`), `user_id` int(11) default '0'  NOT NULL , key `user_id` (`user_id`), `access` tinyint(1) default '0'  NOT NULL )engine=innodb default charset=utf8 collate=utf8_general_ci;
create table `f_acc_rules` (`id` int(11) auto_increment, primary key (`id`), `name` varchar(255) character set utf8 collate utf8_general_ci NOT NULL , `num` int(11) default '0'  NOT NULL , `table_id` int(11) default '0'  NOT NULL , key `table_id` (`table_id`), `group_id` int(11) default '0'  NOT NULL , key `group_id` (`group_id`), `global` tinyint(1) default '0'  NOT NULL , `condition_set` text character set utf8 collate utf8_general_ci NOT NULL , `condition_php` text character set utf8 collate utf8_general_ci NOT NULL , `rights` text character set utf8 collate utf8_general_ci NOT NULL )engine=innodb default charset=utf8 collate=utf8_general_ci;
create table `f_acc_subadmin` (`group_id` int(11) default '0'  NOT NULL , primary key (`group_id`), `acc` text character set utf8 collate utf8_general_ci NOT NULL )engine=innodb default charset=utf8 collate=utf8_general_ci;
create table `f_acc_subadmin_rules` (`id` int(11) auto_increment, primary key (`id`), `group_id` int(11) default '0'  NOT NULL , key `group_id` (`group_id`), `name` text character set utf8 collate utf8_general_ci NOT NULL , `key` text character set utf8 collate utf8_general_ci NOT NULL , `value` int(11) default '0'  NOT NULL , `acc` int(11) default '0'  NOT NULL )engine=innodb default charset=utf8 collate=utf8_general_ci;
create table `f_acc_subtable_rules` (`id` int(11) auto_increment, primary key (`id`), `group_id` int(11) default '0'  NOT NULL , key `group_id` (`group_id`), `subtable_id` int(11) default '0'  NOT NULL , key `subtable_id` (`subtable_id`), `field_id` int(11) default '0'  NOT NULL , key `field_id` (`field_id`), `access` tinyint(1) default '0'  NOT NULL )engine=innodb default charset=utf8 collate=utf8_general_ci;
create table `f_acc_sync` (`id` int(11) auto_increment, primary key (`id`), `sync_id` int(11) default '0'  NOT NULL , key `sync_id` (`sync_id`), `table_id` int(11) default '0'  NOT NULL , key `table_id` (`table_id`), `add_acc` tinyint(1) default '0'  NOT NULL , `del_acc` tinyint(1) default '0'  NOT NULL )engine=innodb default charset=utf8 collate=utf8_general_ci;
create table `f_acc_tables` (`id` int(11) auto_increment, primary key (`id`), `group_id` int(11) default '0'  NOT NULL , key `group_id` (`group_id`), `table_id` int(11) default '0'  NOT NULL , key `table_id` (`table_id`), `acc` tinyint(1) default '0'  NOT NULL , `vis_acc` tinyint(1) default '0'  NOT NULL , `add_acc` tinyint(1) default '0'  NOT NULL , `del_acc` tinyint(1) default '0'  NOT NULL , `arc_acc` tinyint(1) default '0'  NOT NULL , `imp_acc` tinyint(1) default '0'  NOT NULL , `exp_acc` tinyint(1) default '0'  NOT NULL , `adf_acc` tinyint(1) default '0'  NOT NULL , `bed_acc` tinyint(1) default '0'  NOT NULL , `ext_acc` tinyint(1) default '0'  NOT NULL , `rule_filter` text character set utf8 collate utf8_general_ci NOT NULL , `adf_acc_send` int(11) default '0'  NOT NULL , `adf_acc_print` int(11) default '0'  NOT NULL , `adf_acc_sms` int(11) default '0'  NOT NULL , `free_sms_template` int(11) default '0'  NOT NULL , `free_mail_template` int(11) default '0'  NOT NULL , `standart_template` tinyint(1) default '0'  NOT NULL )engine=innodb default charset=utf8 collate=utf8_general_ci;
insert into `f_acc_tables` values (1211, 1, 281, 1, 1, 0, 0, 1, 0, 0, 0, 0, 0, '', 0, 0, 0, 0, 0, 1);
insert into `f_acc_tables` values (1212, 2, 281, 1, 1, 0, 0, 1, 0, 0, 0, 0, 0, '', 0, 0, 0, 0, 0, 1);
create table `f_acc_tables_par` (`id` int(11) auto_increment, primary key (`id`), `group_id` int(11) default '0'  NOT NULL , key `group_id` (`group_id`), `table_id` int(11) default '0'  NOT NULL , key `table_id` (`table_id`), `acc` tinyint(1) default '0'  NOT NULL , `vis_acc` tinyint(1) default '0'  NOT NULL , `add_acc` tinyint(1) default '0'  NOT NULL , `del_acc` tinyint(1) default '0'  NOT NULL , `arc_acc` tinyint(1) default '0'  NOT NULL , `imp_acc` tinyint(1) default '0'  NOT NULL , `exp_acc` tinyint(1) default '0'  NOT NULL , `adf_acc` tinyint(1) default '0'  NOT NULL , `bed_acc` tinyint(1) default '0'  NOT NULL , `ext_acc` tinyint(1) default '0'  NOT NULL , `adf_acc_send` int(11) default '0'  NOT NULL , `adf_acc_print` int(11) default '0'  NOT NULL , `adf_acc_sms` int(11) default '0'  NOT NULL , `free_sms_template` int(11) default '0'  NOT NULL , `free_mail_template` int(11) default '0'  NOT NULL , `standart_template` tinyint(1) default '0'  NOT NULL )engine=innodb default charset=utf8 collate=utf8_general_ci;
create table `f_acc_tips` (`id` int(11) auto_increment, primary key (`id`), `group_id` int(11) default '0'  NOT NULL , key `group_id` (`group_id`), `table_id` int(11) default '0'  NOT NULL , key `table_id` (`table_id`), `tip_id` int(11) default '0'  NOT NULL , key `tip_id` (`tip_id`), `access` tinyint(1) default '0'  NOT NULL )engine=innodb default charset=utf8 collate=utf8_general_ci;
create table `f_acc_tips_par` (`id` int(11) auto_increment, primary key (`id`), `group_id` int(11) default '0'  NOT NULL , key `group_id` (`group_id`), `table_id` int(11) default '0'  NOT NULL , key `table_id` (`table_id`), `tip_id` int(11) default '0'  NOT NULL , key `tip_id` (`tip_id`), `access` tinyint(1) default '0'  NOT NULL )engine=innodb default charset=utf8 collate=utf8_general_ci;
create table `f_activity_buttons` (`id` int(11) auto_increment, primary key (`id`), `user_id` int(11) default '0'  NOT NULL , key `user_id` (`user_id`), `table_id` int(11) default '0'  NOT NULL , key `table_id` (`table_id`), `button_id` int(11) default '0'  NOT NULL , key `button_id` (`button_id`), `button_sys` varchar(255) character set utf8 collate utf8_general_ci NOT NULL , `clicks` int(11) default '0'  NOT NULL , `last_click` timestamp default '0000-00-00 00:00:00'  NOT NULL )engine=innodb default charset=utf8 collate=utf8_general_ci;
create table `f_activity_reltables` (`id` int(11) auto_increment, primary key (`id`), `user_id` int(11) default '0'  NOT NULL , key `user_id` (`user_id`), `table_id` int(11) default '0'  NOT NULL , key `table_id` (`table_id`), `rel_table` int(11) default '0'  NOT NULL , key `rel_table` (`rel_table`), `rel_field` int(11) default '0'  NOT NULL , key `rel_field` (`rel_field`), `clicks` int(11) default '0'  NOT NULL , `last_click` timestamp default '0000-00-00 00:00:00'  NOT NULL )engine=innodb default charset=utf8 collate=utf8_general_ci;
create table `f_addon_groups` (`id` int(11) auto_increment, primary key (`id`), `addon_id` int(11) default '0'  NOT NULL , `old_group_id` int(11) default '0'  NOT NULL , `new_group_id` int(11) default '0'  NOT NULL )engine=innodb default charset=utf8 collate=utf8_general_ci;
create table `f_addon_parts` (`id` int(11) auto_increment, primary key (`id`), `addon_id` int(11) default '0'  NOT NULL , `part_type` varchar(10) character set utf8 collate utf8_general_ci NOT NULL , `part_id` int(11) default '0'  NOT NULL )engine=innodb default charset=utf8 collate=utf8_general_ci;
insert into `f_addon_parts` values (1, 1, 'table', 281);
create table `f_addons` (`id` int(11) auto_increment, primary key (`id`), `name` varchar(255) character set utf8 collate utf8_general_ci NOT NULL , `revision` timestamp default '0000-00-00 00:00:00'  NOT NULL , `inactive` tinyint(1) default '0'  NOT NULL , `url` varchar(255) character set utf8 collate utf8_general_ci NOT NULL , `uninstall_code` text character set utf8 collate utf8_general_ci NOT NULL )engine=innodb default charset=utf8 collate=utf8_general_ci;
insert into `f_addons` values (1, 'Логи', '0000-00-00 00:00:00', 1, '', '');
create table `f_anti_bot` (`ip` varchar(50) character set utf8 collate utf8_general_ci NOT NULL , key `ip` (`ip`), `date` timestamp default '0000-00-00 00:00:00'  NOT NULL , key `date` (`date`))engine=innodb default charset=utf8 collate=utf8_general_ci;
create table `f_api_forms` (`id` int(11) auto_increment, primary key (`id`), `name_form` text character set utf8 collate utf8_general_ci NOT NULL , `user` int(11) default '0'  NOT NULL , `table_id` int(11) default '0'  NOT NULL , `filter_id` int(11) default '0'  NOT NULL , `limits` int(11) default '0'  NOT NULL , `views` int(11) default '0'  NOT NULL , `type_form` tinyint(4) default '0'  NOT NULL , `adds` tinyint(4) default '0'  NOT NULL , `shows` tinyint(4) default '0'  NOT NULL , `edits` tinyint(4) default '0'  NOT NULL , `searchs` tinyint(4) default '0'  NOT NULL )engine=innodb default charset=utf8 collate=utf8_general_ci;
create table `f_bgroups` (`id` int(11) auto_increment, primary key (`id`), `table_id` int(11) default '0'  NOT NULL , `num` int(11) default '0'  NOT NULL , `name` varchar(255) character set utf8 collate utf8_general_ci NOT NULL , `color` varchar(255) character set utf8 collate utf8_general_ci default 'default'  NOT NULL , `text_color` varchar(255) character set utf8 collate utf8_general_ci default '0'  NOT NULL , `color_mode` tinyint(1) default '0'  NOT NULL , `disabled` tinyint(1) default '0'  NOT NULL )engine=innodb default charset=utf8 collate=utf8_general_ci;
create table `f_bizproc` (`id` int(11) auto_increment, primary key (`id`), `name` varchar(255) character set utf8 collate utf8_general_ci NOT NULL , `icon` longblob NOT NULL , `autostart` tinyint(1) default '0'  NOT NULL , `rights` text character set utf8 collate utf8_general_ci NOT NULL , `bp_type` int(11) default '0'  NOT NULL )engine=innodb default charset=utf8 collate=utf8_general_ci;
create table `f_bizproc_steps` (`id` int(11) auto_increment, primary key (`id`), `proc_id` int(11) default '0'  NOT NULL , key `proc_id` (`proc_id`), `num` int(11) default '0'  NOT NULL , `name` varchar(255) character set utf8 collate utf8_general_ci NOT NULL , `description` text character set utf8 collate utf8_general_ci NOT NULL , `table_id` int(11) default '0'  NOT NULL , key `table_id` (`table_id`), `action` varchar(255) character set utf8 collate utf8_general_ci NOT NULL , `autostep` tinyint(1) default '0'  NOT NULL , `video` varchar(255) character set utf8 collate utf8_general_ci NOT NULL , `att_file` longblob NOT NULL , `att_file_name` varchar(255) character set utf8 collate utf8_general_ci NOT NULL , `att_file_type` varchar(255) character set utf8 collate utf8_general_ci NOT NULL , `g_button` int(11) default '0'  NOT NULL , `b_button` int(11) default '0'  NOT NULL , `b_link` text character set utf8 collate utf8_general_ci default NULL , `g_link` text character set utf8 collate utf8_general_ci default NULL , `g_text` text character set utf8 collate utf8_general_ci default NULL , `b_text` text character set utf8 collate utf8_general_ci default NULL , `table_type` text character set utf8 collate utf8_general_ci default NULL , `cond_set` text character set utf8 collate utf8_general_ci default NULL , `cond_value` text character set utf8 collate utf8_general_ci default NULL , `subtable_id` int(11) default NULL , key `subtable_id` (`subtable_id`), `conditions_execution` int(11) default NULL , `records_number` int(11) default NULL , `used_fields` text character set utf8 collate utf8_general_ci default NULL )engine=innodb default charset=utf8 collate=utf8_general_ci;
create table `f_button_colors` (`color_id` int(11) auto_increment, primary key (`color_id`), `color_name` varchar(255) character set utf8 collate utf8_general_ci default '0'  NOT NULL , `background_color` varchar(255) character set utf8 collate utf8_general_ci default '0'  NOT NULL , `word_color` varchar(255) character set utf8 collate utf8_general_ci default '0'  NOT NULL , `status` tinyint(1) default '0'  NOT NULL )engine=innodb default charset=utf8 collate=utf8_general_ci;
insert into `f_button_colors` values (1, 'default', '#ededed', '#4B4B4B', 0);
insert into `f_button_colors` values (2, 'success', 'rgb(106, 168, 79)', 'white', 0);
insert into `f_button_colors` values (3, 'primary', 'rgb(61, 133, 198)', 'white', 0);
insert into `f_button_colors` values (4, 'info', 'rgb(69, 129, 142)', 'white', 0);
insert into `f_button_colors` values (5, 'warning', 'rgb(230, 145, 56)', 'white', 0);
insert into `f_button_colors` values (6, 'danger', 'rgb(204, 0, 0)', 'white', 0);
insert into `f_button_colors` values (7, 'bd_group_yellow', 'rgb(241, 194, 50)', 'white', 0);
insert into `f_button_colors` values (8, 'bd_group_maroon', 'rgb(166, 28, 0)', 'white', 0);
insert into `f_button_colors` values (9, 'bd_group_cyan', 'rgb(60, 120, 216)', 'white', 0);
insert into `f_button_colors` values (10, 'bd_group_violet', 'rgb(103, 78, 167)', 'white', 0);
insert into `f_button_colors` values (11, 'bd_group_purple', 'rgb(166, 77, 121)', 'white', 0);
insert into `f_button_colors` values (12, 'dark_grey', '#969696', 'white', 0);
insert into `f_button_colors` values (13, 'light_green', 'rgb(217, 234, 211)', 'rgb(56, 118, 29)', 0);
insert into `f_button_colors` values (14, 'light_blue', 'rgb(207, 226, 243)', 'rgb(11, 83, 148)', 0);
insert into `f_button_colors` values (15, 'light_turquoise', 'rgb(208, 224, 227)', 'rgb(19, 79, 92)', 0);
insert into `f_button_colors` values (16, 'light_orange', 'rgb(252, 229, 205)', 'rgb(180, 95, 6)', 0);
insert into `f_button_colors` values (17, 'light_red', 'rgb(244, 204, 204)', 'rgb(153, 0, 0)', 0);
insert into `f_button_colors` values (18, 'light_maroon', 'rgb(230, 184, 175)', 'rgb(133, 32, 12)', 0);
insert into `f_button_colors` values (19, 'light_yellow', 'rgb(255, 242, 204)', 'rgb(191, 144, 0)', 0);
insert into `f_button_colors` values (20, 'light_cyan', 'rgb(201, 218, 248)', 'rgb(17, 85, 204)', 0);
insert into `f_button_colors` values (21, 'light_violet', 'rgb(217, 210, 233)', 'rgb(53, 28, 117)', 0);
insert into `f_button_colors` values (22, 'light_purple', 'rgb(234, 209, 220)', 'rgb(116, 27, 71)', 0);
create table `f_buttons` (`id` int(11) auto_increment, primary key (`id`), `name` varchar(255) character set utf8 collate utf8_general_ci NOT NULL , `type` smallint(6) default '0'  NOT NULL , `javascript` text character set utf8 collate utf8_general_ci NOT NULL , `width` int(11) default '0'  NOT NULL , `height` int(11) default '0'  NOT NULL , `num` int(11) default '0'  NOT NULL , `table_id` int(11) default '0'  NOT NULL , key `table_id` (`table_id`), `help` text character set utf8 collate utf8_general_ci NOT NULL , `scroll_bar` smallint(1) default '0'  NOT NULL , `disable_csrf` tinyint(1) default '0'  NOT NULL , `color` varchar(255) character set utf8 collate utf8_general_ci default 'default'  NOT NULL , `use_params` tinyint(1) default '0'  NOT NULL , `group_id` int(11) default '0'  NOT NULL , `text_color` varchar(255) character set utf8 collate utf8_general_ci default '0'  NOT NULL , `color_mode` tinyint(1) default '0'  NOT NULL , `disabled` tinyint(1) default '0'  NOT NULL )engine=innodb default charset=utf8 collate=utf8_general_ci;
create table `f_buttons_parameters` (`id` int(11) auto_increment, primary key (`id`), `button_id` int(5) default '0'  NOT NULL , `name` varchar(255) character set utf8 collate utf8_general_ci NOT NULL , `params` longtext NOT NULL )engine=innodb default charset=utf8 collate=utf8_general_ci;
insert into `f_buttons_parameters` values (15, 151, 'Фактическое время', '{\n    "field": 4981,\n    "type_field": 1,\n    "default_value": {\n        "is_field": true,\n        "value": "4981"\n    },\n    "not_edit": 0\n}');
insert into `f_buttons_parameters` values (16, 151, 'Комментарий по заданию', '{\n    "field": 502,\n    "type_field": 3,\n    "default_value": {\n        "is_field": false,\n        "value": ""\n    },\n    "not_edit": 0\n}');
insert into `f_buttons_parameters` values (17, 141, 'Оценка', '{\n    "field": 4971,\n    "type_field": 4,\n    "default_value": {\n        "is_field": false,\n        "value": "\\u041d\\u0435\\u0439\\u0442\\u0440\\u0430\\u043b\\u044c\\u043d\\u043e"\n    },\n    "not_edit": 0\n}');
insert into `f_buttons_parameters` values (18, 141, 'Комментарий', '{\n    "field": 1090,\n    "type_field": 3,\n    "default_value": {\n        "is_field": false,\n        "value": ""\n    },\n    "not_edit": 0\n}');
create table `f_calc` (`id` int(11) auto_increment, primary key (`id`), `table_id` int(11) default '0'  NOT NULL , key `table_id` (`table_id`), `name` varchar(255) character set utf8 collate utf8_general_ci NOT NULL , `calculate` longtext NOT NULL , `old_format` int(11) default '0'  NOT NULL , `link_fields` text character set utf8 collate utf8_general_ci NOT NULL , `disabled` tinyint(1) default '0'  NOT NULL , `recursion_disabled` tinyint(1) default '0'  NOT NULL , `expert_mode` tinyint(1) default '1'  NOT NULL , `construct_params` longtext NOT NULL , `calc_type` int(11) default '0'  NOT NULL , `start_calc` tinyint(1) default '1'  NOT NULL )engine=innodb default charset=utf8 collate=utf8_general_ci;
insert into `f_calc` values (1, 0, 'Login/Logout пользователя', 'global $user;\nif ($event[''param'']==0) // Login\n   {\n   }\n   else\nif ($event[''param'']==1) // Auto Login\n   {\n   }\n   else\nif ($event[''param'']==2) // Logout\n   {\n   }', 0, '', 0, 0, 1, '', 0, 1);
insert into `f_calc` values (2, 0, 'Изменение настроек пользователя', '$user_id=$event[''param''];\n$change_act=$event[''param2''];\nif ($change_act==0) // Change\n   {\n   }\n   else\nif ($change_act==1) // Addition\n   {\n   }\n   else\nif ($change_act==2) // Removal\n   {\n   }\n   else\nif ($change_act==3) // Archiving\n   {\n   }   \n   else\nif ($change_act==4) // Restore\n   {\n   }', 0, '', 0, 0, 1, '', 0, 1);
create table `f_calc_cond` (`calc_id` int(11) default '0'  NOT NULL , key `calc_id` (`calc_id`), `type` int(11) default '0'  NOT NULL , `param` int(11) default '0'  NOT NULL , `param2` int(11) default '0'  NOT NULL )engine=innodb default charset=utf8 collate=utf8_general_ci;
insert into `f_calc_cond` values (1, 16, 0, 0);
insert into `f_calc_cond` values (2, 17, 0, 0);
create table `f_calc_template` (`id` int(11) auto_increment, primary key (`id`), `name` varchar(255) character set utf8 collate utf8_general_ci NOT NULL , `calculate_tpl` longtext NOT NULL , `params` longtext NOT NULL , `type` varchar(16) character set utf8 collate utf8_general_ci NOT NULL , `tpl_name` varchar(100) character set utf8 collate utf8_general_ci NOT NULL , `javascript_tpl` longtext NOT NULL , `tpl_category` int(11) default '0'  NOT NULL , `calc_types` varchar(255) character set utf8 collate utf8_general_ci default '[]'  NOT NULL , `calc_num` int(11) default '0'  NOT NULL )engine=innodb default charset=utf8 collate=utf8_general_ci;
insert into `f_calc_template` values (1, 'Сумма по подтаблице', 'if ($line[''{$gen_field.link_field_id}''][''raw''] > 0) {\r\n    $filter = sql_select_array(FILTERS_TABLE, ''id = '', get_filter_id({$filter|default:0}));\r\n    $result = data_select_field(\r\n        $table_id, \r\n        ''sum({$cur_field}) as f_sum'', \r\n        ''status = 0'' . ($event[''type''] === ''delete'' ? '' AND id != '' . $ID : '''') . \r\n        '' AND {$gen_field.link_field_id} = '' . (int)$line[''{$gen_field.link_field_id}''][''raw''] . \r\n        ($filter[''value''] ? '' AND ('' . filter_tpl_replace($filter[''value'']) . '')'' : '''')\r\n    );\r\n    $row = sql_fetch_assoc($result);\r\n    $line[''{$gen_field.link_field_id}''][''{$gen_field.field}''] = $row[''f_sum''];\r\n}', '{\r\n    "title": "Сумма по подтаблице",\r\n    "help": "tpl_sum_from_subtable",\r\n    "parameters": {\r\n        "cur_field": {\r\n            "type": "Field",\r\n            "name": "cur_field",\r\n            "description": "Выберите поле, по которому считать сумму",\r\n            "type_field": 1,\r\n            "help": "tpl_sum_field"\r\n        },\r\n        "filter": {\r\n            "type": "Filter",\r\n            "name": "filter",\r\n            "description": "Выберите фильтр",\r\n            "help": "tpl_sel_filter"\r\n        },\r\n        "gen_field": {\r\n            "type": "TableField",\r\n            "name": "gen_field",\r\n            "description": "Выберите основную таблицу",\r\n            "field_description": "Выберите поле, в которое подтягивать сумму",\r\n            "only_parent": true,\r\n            "type_field": 1,\r\n            "help": "tpl_sel_table",\r\n            "field_help": "tpl_sel_field"\r\n        }\r\n    },\r\n    "events": [\r\n        {\r\n            "type": 3,\r\n            "field": "cur_field"\r\n        },\r\n        {\r\n            "type": 4,\r\n            "field": ""\r\n        },\r\n        {\r\n            "type": 7,\r\n            "field": ""\r\n        }\r\n    ]\r\n}', 'calc', 'subtable_sum.tpl', '', 2, '[2]', 1);
insert into `f_calc_template` values (2, 'Копировать поле', '{if $list eq 0}\r\n{if $cur_field1_type eq 6 || $cur_field1_type eq 9}\r\n$user_agent = $_SERVER["HTTP_USER_AGENT"];\r\nif (strpos($user_agent, "MSIE") !== false) {\r\n    $exp = "\\n\\r";\r\n} else {\r\n    $exp = "\\r\\n";    \r\n}\r\n$files = explode($exp, $line[''{$cur_field2}'']);\r\nforeach ($files as $fname) {\r\n    $orig_fpath = get_file_path({$cur_field2|replace:''f'':''''}, $line[''id''], $fname);\r\n    save_data_file({$cur_field1|replace:''f'':''''}, $line[''id''], $fname, file_get_contents($orig_fpath));\r\n}\r\n{/if}\r\n$line[''{$cur_field1}''] = $line[''{$cur_field2}''];\r\n{else}\r\nif (!$line[''{$cur_field1}'']) {\r\n{if $cur_field1_type eq 6 || $cur_field1_type eq 9}\r\n    $user_agent = $_SERVER["HTTP_USER_AGENT"];\r\n    if (strpos($user_agent, "MSIE") !== false) {\r\n        $exp = "\\n\\r";\r\n    } else {\r\n        $exp = "\\r\\n";    \r\n    }\r\n    $files = explode($exp, $line[''{$cur_field2}'']);\r\n    foreach ($files as $fname) {\r\n        $orig_fpath = get_file_path({$cur_field2|replace:''f'':''''}, $line[''id''], $fname);\r\n        save_data_file({$cur_field1|replace:''f'':''''}, $line[''id''], $fname, file_get_contents($orig_fpath));\r\n    }\r\n{/if}\r\n    $line[''{$cur_field1}''] = $line[''{$cur_field2}''];\r\n}\r\n{/if}', '{\r\n    "title": "Копировать поле",\r\n    "help": "tpl_field_to_field",\r\n    "parameters": {\r\n        "cur_field1": {\r\n            "type": "Field",\r\n            "name": "cur_field1",\r\n            "help": "receiver_field",\r\n            "description": "Выберите поле-получатель"\r\n        },\r\n        "cur_field2": {\r\n            "type": "Field",\r\n            "name": "cur_field2",\r\n            "help": "source_field",\r\n            "description": "Выберите поле-источник"\r\n        },\r\n        "list": {\r\n            "type": "List",\r\n            "name": "list",\r\n            "help": "Overwrite_field",\r\n            "description": "Перезаписать поле",\r\n            "values": {\r\n              "0": "Да",\r\n              "1": "Нет"\r\n            }\r\n        }\r\n    },\r\n    "events": [\r\n        {\r\n            "type": 3,\r\n            "field": "cur_field2"\r\n        }\r\n    ]\r\n}', 'calc', 'change_field.tpl', '', 1, '[1]', 1);
insert into `f_calc_template` values (5, 'Копировать поле из связанной таблицы в текущую', '$line[''{$cur_field}''] = $line[''{$gen_field.link_field_id}''][''{$gen_field.field}''];\r\n{if $cur_field_type == 6 || $cur_field_type == 9}\r\n    $user_agent = $_SERVER["HTTP_USER_AGENT"];\r\n    if (strpos($user_agent, "MSIE") !== false) {\r\n        $exp = "\\n\\r";\r\n    } else {\r\n        $exp = "\\r\\n";    \r\n    }\r\n    $files = explode($exp, $line[''{$gen_field.link_field_id}''][''{$gen_field.field}'']);\r\n    foreach ($files as $fname) {\r\n        $orig_fpath = get_file_path({$gen_field.field|replace:''f'':''''}, $line[''{$gen_field.link_field_id}''][''id''], $fname);\r\n        save_data_file({$cur_field|replace:''f'':''''}, $line[''id''], $fname, file_get_contents($orig_fpath));\r\n    }\r\n{/if}', '{\r\n    "title": "Копировать поле из связанной таблицы",\r\n    "help": "tpl_link_to_field",\r\n    "parameters": {\r\n        "cur_field": {\r\n            "type": "Field",\r\n            "name": "cur_field",\r\n            "description": "Выберите поле, в которое сохранять значение",\r\n            "no_system": true,\r\n            "help": "tpl_result_field"\r\n        },\r\n        "gen_field": {\r\n            "type": "TableField",\r\n            "name": "gen_field",\r\n            "description": "Выберите таблицу, из которой тянуть значение",\r\n            "field_description": "Выберите поле, из которого тянуть значение",\r\n            "only_parent": "true",\r\n            "help": "tpl_sel_table",\r\n            "field_help": "tpl_sel_field"\r\n        }\r\n    },\r\n    "events": [\r\n        {\r\n            "type": 3,\r\n            "field": "gen_field"\r\n        }\r\n    ]\r\n}', 'calc', 'copy_from_link_table.tpl', '', 3, '[1]', 1);
insert into `f_calc_template` values (6, 'Дата: Установить текущую дату', '$line[''{$cur_field}''] = date(''Y-m-d H:i:s'');', '{\r\n    "title": "Дата: Установить текущую дату",\r\n    "help": "tpl_cur_date",\r\n    "parameters": {\r\n        "cur_field": {\r\n            "type": "Field",\r\n            "name": "cur_field",\r\n            "description": "Выберите поле, в которое сохранять дату",\r\n            "type_field": 2,\r\n            "no_system": true,\r\n            "help": "tpl_cur_date_field"\r\n        }        \r\n    }\r\n}', 'button', 'cur_date.tpl', '', 1, '[]', 8);
insert into `f_calc_template` values (7, 'Копировать поле', '{if $list eq 0}\r\n{if $cur_field1_type eq 6 || $cur_field1_type eq 9}\r\n$user_agent = $_SERVER["HTTP_USER_AGENT"];\r\nif (strpos($user_agent, "MSIE") !== false) {\r\n    $exp = "\\n\\r";\r\n} else {\r\n    $exp = "\\r\\n";    \r\n}\r\n$files = explode($exp, $line[''{$cur_field2}'']);\r\nforeach ($files as $fname) {\r\n    $orig_fpath = get_file_path({$cur_field2|replace:''f'':''''}, $line[''id''], $fname);\r\n    save_data_file({$cur_field1|replace:''f'':''''}, $line[''id''], $fname, file_get_contents($orig_fpath));\r\n}\r\n{/if}\r\n$line[''{$cur_field1}''] = $line[''{$cur_field2}''];\r\n{else}\r\nif (!$line[''{$cur_field1}'']) {\r\n{if $cur_field1_type eq 6 || $cur_field1_type eq 9}\r\n    $user_agent = $_SERVER["HTTP_USER_AGENT"];\r\n    if (strpos($user_agent, "MSIE") !== false) {\r\n        $exp = "\\n\\r";\r\n    } else {\r\n        $exp = "\\r\\n";    \r\n    }\r\n    $files = explode($exp, $line[''{$cur_field2}'']);\r\n    foreach ($files as $fname) {\r\n        $orig_fpath = get_file_path({$cur_field2|replace:''f'':''''}, $line[''id''], $fname);\r\n        save_data_file({$cur_field1|replace:''f'':''''}, $line[''id''], $fname, file_get_contents($orig_fpath));\r\n    }\r\n{/if}\r\n    $line[''{$cur_field1}''] = $line[''{$cur_field2}''];\r\n}\r\n{/if}', '{\r\n    "title": "Копировать поле",\r\n    "help": "tpl_field_to_field",\r\n    "parameters": {\r\n        "cur_field1": {\r\n            "type": "Field",\r\n            "name": "cur_field1",\r\n            "help": "receiver_field",\r\n            "description": "Выберите поле-получатель"\r\n        },\r\n        "cur_field2": {\r\n            "type": "Field",\r\n            "name": "cur_field2",\r\n            "help": "source_field",\r\n            "description": "Выберите поле-источник"\r\n        },\r\n        "list": {\r\n            "type": "List",\r\n            "name": "list",\r\n            "help": "Overwrite_field",\r\n            "description": "Перезаписать поле",\r\n            "values": {\r\n              "0": "Да",\r\n              "1": "Нет"\r\n            }\r\n        }\r\n    }\r\n}', 'button', 'change_field.tpl', '', 1, '[]', 1);
insert into `f_calc_template` values (8, 'Копировать поле из связанной таблицы в текущую', '$line[''{$cur_field}''] = $line[''{$gen_field.link_field_id}''][''{$gen_field.field}''];\r\n{if $cur_field_type == 6 || $cur_field_type == 9}\r\n    $user_agent = $_SERVER["HTTP_USER_AGENT"];\r\n    if (strpos($user_agent, "MSIE") !== false) {\r\n        $exp = "\\n\\r";\r\n    } else {\r\n        $exp = "\\r\\n";    \r\n    }\r\n    $files = explode($exp, $line[''{$gen_field.link_field_id}''][''{$gen_field.field}'']);\r\n    foreach ($files as $fname) {\r\n        $orig_fpath = get_file_path({$gen_field.field|replace:''f'':''''}, $line[''{$gen_field.link_field_id}''][''id''], $fname);\r\n        save_data_file({$cur_field|replace:''f'':''''}, $line[''id''], $fname, file_get_contents($orig_fpath));\r\n    }\r\n{/if}', '{\r\n    "title": "Копировать поле из связанной таблицы",\r\n    "help": "tpl_link_to_field",\r\n    "parameters": {\r\n        "cur_field": {\r\n            "type": "Field",\r\n            "name": "cur_field",\r\n            "description": "Выберите поле, в которое сохранять значение",\r\n            "no_system": true,\r\n            "help": "tpl_to_field"\r\n        },\r\n        "gen_field": {\r\n            "type": "TableField",\r\n            "name": "gen_field",\r\n            "description": "Выберите таблицу, из которой тянуть значение",\r\n            "field_description": "Выберите поле, из которого тянуть значение",\r\n            "only_parent": "true",\r\n            "help": "tpl_table_copy_line",\r\n            "field_help": "source_field"\r\n        }\r\n    }\r\n}', 'button', 'copy_from_link_table.tpl', '', 3, '[]', 1);
insert into `f_calc_template` values (10, 'Дата: Копировать дату или время', 'if(''{$put_value}'' == 1){\r\n    $line[''{$put_field}''] = date(''d.m.Y'', strtotime($line[''{$cond_field}'']));\r\n} else if(''{$put_value}'' == 2){\r\n    $line[''{$put_field}''] = date(''H:i:s'', strtotime($line[''{$cond_field}'']));\r\n}', '{\r\n    "title": "Дата: Копировать дату или время",\r\n    "help": "tpl_date_to_field",\r\n    "parameters": {\r\n        "cond_field": {\r\n            "type": "Field",\r\n            "name": "cond_field",\r\n            "type_field": [2,12],\r\n            "description": "Выберите поле, из которого будут тянутся данные",\r\n            "help": "tpl_source_field"\r\n        },\r\n        "put_field": {\r\n            "type": "Field",\r\n            "name": "put_field",\r\n            "type_field": "3",\r\n            "description": "Выберите поле, которое должно быть заполнено данными",\r\n            "no_system": true,\r\n            "help": "tpl_to_field"\r\n        },\r\n        "put_value": {\r\n            "type": "List",\r\n            "name": "put_value",\r\n            "values":{"1":"Дата","2":"Время"},\r\n            "description": "Выберите данные, которые должны быть переданы",\r\n            "help": "tpl_list_field"\r\n        }\r\n    },\r\n    "events": [\r\n        {\r\n            "type": 3,\r\n            "field": "cond_field"\r\n        }\r\n    ]\r\n}', 'calc', 'copy_date.tpl', '', 1, '[1]', 12);
insert into `f_calc_template` values (11, 'Текст: Найти и заменить текст', '$line[''{$cond_field}''] = str_replace(''{$give_value}'', ''{$put_value}'', $line[''{$cond_field}'']);', '{\r\n    "title": "Текст: Найти и заменить текст",\r\n    "help": "tpl_replace",\r\n    "parameters": {\r\n        "cond_field": {\r\n            "type": "Field",\r\n            "name": "cond_field",\r\n            "type_field": "3",\r\n            "description": "Выберите поле, которое должно быть изменено",\r\n            "help": "tpl_put_field"\r\n        },\r\n        "give_value": {\r\n            "type": "String",\r\n            "name": "give_value",\r\n            "description": " Введите значение для поиска",\r\n            "help": "tpl_search_value"\r\n        },\r\n        "put_value": {\r\n            "type": "String",\r\n            "name": "put_value",\r\n            "description": "Введите значение для замены",\r\n            "help": "tpl_replace_value"\r\n        }\r\n    },\r\n    "events": [\r\n        {\r\n            "type": 3,\r\n            "field": "cond_field"\r\n        }\r\n    ]\r\n}', 'calc', 'tpl_replace.tpl', '', 1, '[1]', 5);
insert into `f_calc_template` values (12, 'Среднее значение по подтаблице', '$filter = sql_select_array(FILTERS_TABLE, ''id = '', get_filter_id({$filter|default:0}));\r\n$result = data_select_field(\r\n    $table_id, \r\n    ''COUNT(id) AS cnt, SUM({$cur_field}) AS sum'', \r\n    ''status = 0'' . ($event[''type''] === ''delete'' ? '' AND id != '' . $ID : '''') . \r\n    '' AND {$gen_field.link_field_id} = '' . (int)$line[''{$gen_field.link_field_id}''][''raw''] . \r\n    ($filter[''value''] ? '' AND ('' . filter_tpl_replace($filter[''value'']) . '')'' : '''')\r\n);\r\nif ($row = sql_fetch_assoc($result)) {\r\n    $line[''{$gen_field.link_field_id}''][''{$gen_field.field}''] = $row[''sum''] / $row[''cnt''];\r\n} else {\r\n    $line[''{$gen_field.link_field_id}''][''{$gen_field.field}''] = 0;\r\n}', '{\r\n    "title": "Среднее значение по подтаблице",\r\n    "help": "tpl_average",\r\n    "parameters": {\r\n        "gen_field": {\r\n            "type": "TableField",\r\n            "name": "gen_field",\r\n            "only_parent": "false",\r\n            "type_field": [1,3],\r\n            "description": "Выберите таблицу, в которую будет записан результат",\r\n            "field_description": "Выберите поле, в которое будет записан результат",\r\n            "help": "tpl_sel_table",\r\n            "field_help": "tpl_sel_field"\r\n        },\r\n        "filter": {\r\n            "type": "Filter",\r\n            "name": "filter",\r\n            "description": "Выберите фильтр",\r\n            "help": "tpl_sel_filter"\r\n        },\r\n        "cur_field": {\r\n            "type": "Field",\r\n            "name": "cur_field",\r\n            "type_field": "1",\r\n            "description": "Выберите поле, по которому будет считаться среднее арифметическое",\r\n            "help": "tpl_source_field"\r\n        }\r\n    },\r\n    "events": [\r\n        {\r\n            "type": 3,\r\n            "field": "cur_field"\r\n        },\r\n        {\r\n            "type": 4,\r\n            "field": ""\r\n        },\r\n        {\r\n            "type": 7,\r\n            "field": ""\r\n        }\r\n    ]\r\n}', 'calc', 'subtable_avg.tpl', '', 2, '[2]', 2);
insert into `f_calc_template` values (13, 'Текст: Работа с ФИО', '$array = explode(" ", $line[''{$cond_field}'']);\r\nif (''{$put_value}'' === ''1'') {\r\n    $line[''{$cond_field}''] = $array[''1''];\r\n} else {\r\n    $line[''{$cond_field}''] = $array[''1''] . '' '' . $array[''2''];\r\n}', '{\r\n    "title": "Текст: Работа с ФИО",\r\n    "help": "tpl_explode_name",\r\n    "parameters": {\r\n        "cond_field": {\r\n            "type": "Field",\r\n            "name": "cond_field",\r\n            "type_field": "3",\r\n            "description": "Выберите поле, содержащее ФИО",\r\n            "help": "tpl_source_field"\r\n        },\r\n        "put_value": {\r\n            "type": "List",\r\n            "name": "put_value",\r\n            "values":{"1":"Имя","2":"Имя и отчество"},\r\n            "description": "Выберите данные, которые останутся в поле.",\r\n            "help": "tpl_option"\r\n        }\r\n    },\r\n    "events": [\r\n        {\r\n            "type": 3,\r\n            "field": "cond_field"\r\n        }\r\n    ]\r\n}', 'calc', 'fio_work.tpl', '', 1, '[1]', 6);
insert into `f_calc_template` values (14, 'Отмена редактирования поля', '$line[''{$field}''] = $event[''changed''][substr(''{$field}'',1)][''old''];', '{\r\n    "title": "Отмена редактирования поля",\r\n    "help": "tpl_disabled_edit_field",\r\n    "parameters": {\r\n        "field": {\r\n            "type": "Field",\r\n            "name": "field",\r\n            "description": "Запрет редактирования поля",\r\n            "no_system": true,\r\n            "help": "tpl_cancel_field"\r\n        }\r\n    },\r\n    "events": [\r\n        {\r\n            "type": 3,\r\n            "field": "field"\r\n        }\r\n    ]\r\n}', 'calc', 'disabled_edit_field.tpl', '', 6, '[1]', 1);
insert into `f_calc_template` values (15, 'Перевод суммы из числа в текст', '$line[''{$field2}''] = num2str($line[''{$field1}''], "", "", 0, 0, 0, "");\r\n', '{\r\n    "title": "Перевод суммы из числа в текст",\r\n    "help": "tpl_num_to_text",\r\n    "parameters": {\r\n        "field1": {\r\n            "type": "Field",\r\n            "name": "field1",\r\n            "type_field": "1",\r\n            "description": "Выберите исходное поле(число)",\r\n            "no_system": true,\r\n            "help": "source_field"\r\n        },\r\n        "field2": {\r\n            "type": "Field",\r\n            "name": "field2",\r\n            "type_field": "3",\r\n            "description": "Выберите поле записи суммы (текст)",\r\n            "no_system": true,\r\n            "help": "tpl_to_field"\r\n        }\r\n    },\r\n    "events": [\r\n        {\r\n            "type": 3,\r\n            "field": "field1"\r\n        }\r\n    ]\r\n}', 'calc', 'intsum_to_stringsum.tpl', '', 1, '[1]', 13);
insert into `f_calc_template` values (20, 'Сохранение пользователя, который измненил поле', '$line[''{$value}''] = $user[''id''];', '{\r\n    "title": "Сохранение пользователя, который измненил поле",\r\n    "help": "tpl_save_user_changed_field",\r\n    "parameters": {\r\n        "value": {\r\n            "type": "Field",\r\n            "name": "value",\r\n            "type_field": 7,\r\n            "description": "Выберите поле, в которое сохранять значение",\r\n            "no_system": true,\r\n            "help": "tpl_to_field"\r\n        }\r\n    },\r\n    "events": [\r\n        {\r\n            "type": 1,\r\n            "field": ""\r\n        }\r\n    ]\r\n}', 'calc', 'save_field_user.tpl', '', 1, '[1]', 14);
insert into `f_calc_template` values (21, 'Число: Математическая формула', '$line[''{$result}''] = {$flex_data|stripslashes|replace:'','':''.''};', '{\r\n     "title": "Число: Математическая формула",\r\n     "help": "tpl_math_formulas",\r\n     "parameters": {\r\n         "field1": {\r\n             "type": "Field",\r\n             "name": "field1",\r\n             "description": "Выберите поле",\r\n             "type_field": 1,\r\n             "help": "tpl_sel_field"\r\n         },\r\n         "func_row": {\r\n             "type": "String",\r\n             "name": "func_row",\r\n             "description": "Поле записи функции",\r\n             "textarea": true,\r\n             "help": "tpl_func_field"\r\n         },\r\n         "result": {\r\n             "type": "Field",\r\n             "name": "result",\r\n             "description": "Выберите поле записи результата",\r\n             "type_field": 1,\r\n             "help": "tpl_to_field"\r\n         },\r\n         "flex_data": {\r\n             "type": "String",\r\n             "name": "flex_data",\r\n             "description": "",\r\n             "help": "tpl_flex_string"\r\n         }\r\n     }\r\n}', 'calc', 'math_functions.tpl', '', 1, '[1]', 4);
insert into `f_calc_template` values (22, 'Сброс нумерации с нового года', 'if ($event[''line_id''] === ''new'') {\r\n    $res = data_select($table_id, ''status=0 and id!='' . $line[''id''] . '' ORDER BY id DESC LIMIT 1'');\r\n    $row = sql_fetch_assoc($res);\r\n    if (date(''Y'', strtotime($row[''add_time''])) >= date(''Y'')) {\r\n        $line[''{$field}''] = $row[''{$field}''] + 1;\r\n    } else {\r\n        $line[''{$field}''] = 1;\r\n    }\r\n}', '{\r\n    "title": "Сброс нумерации с нового года",\r\n    "help": "tpl_calc_numeric",\r\n    "parameters": {\r\n        "field": {\r\n            "type": "Field",\r\n            "name": "field",\r\n            "description": "Выберите поле",\r\n            "type_field": 1,\r\n            "help": "tpl_reset_field"\r\n        }\r\n    },\r\n    "events": [\r\n        {\r\n            "type": 1,\r\n            "field": ""\r\n        }\r\n    ]\r\n}\r\n', 'calc', 'autonum.tpl', '', 6, '[1]', 2);
insert into `f_calc_template` values (24, 'Очистить поле', '{if $field1_type eq "5" || $field1_type eq 1 || $field1_type eq 7}\n    $line[''{$field1}''] = 0;\n{else}\n    $line[''{$field1}''] = '''';\n{/if}', '{\r\n    "title": "Очистить поле",\r\n    "help": "tpl_clear_field",\r\n    "parameters": {\r\n        "field1": {\r\n            "type": "Field",\r\n            "name": "field1",\r\n            "description": "Выберите поле",\r\n            "no_system": true,\r\n            "help": "tpl_clear_field"\r\n        }\r\n    }\r\n}', 'button', 'field_clearing.tpl', '', 1, '[]', 3);
insert into `f_calc_template` values (25, 'Копировать поле из основной записи в подтаблицу', 'data_update({$subtable.table}, EVENTS_ENABLE, \r\n    [''{$subtable.field}'' => $line[''{$cur_field}'']{if $subtable.field_type == 5}[''raw'']{/if}], \r\n    ''status = 0 AND {$subtable.link_field_id} = '' . $line[''id'']\r\n);\r\n{if $subtable.field_type == 6 || $subtable.field_type == 9}\r\n$user_agent = $_SERVER["HTTP_USER_AGENT"];\r\nif (strpos($user_agent, "MSIE") !== false) {\r\n    $exp = "\\n\\r";\r\n} else {\r\n    $exp = "\\r\\n";    \r\n}\r\n$files = explode($exp, $line[''{$cur_field}'']);\r\n$res = data_select_field({$subtable.table}, ''id'',''status=0 and {$subtable.link_field_id} ='' . $line[''id'']);\r\nwhile ($row = sql_fetch_assoc($res)) {\r\n    foreach ($files as $fname) {\r\n        $orig_fpath = get_file_path({$cur_field|replace:''f'':''''}, $line[''id''], $fname);\r\n        save_data_file({$subtable.field|replace:''f'':''''}, $row[''id''], $fname, file_get_contents($orig_fpath));\r\n    }\r\n}\r\n{/if}', '{\r\n    "title": "Копировать поле из основной записи в подтаблицу",\r\n    "help": "tpl_from_table_in_subtable",\r\n    "parameters": {\r\n        "cur_field": {\r\n            "type": "Field",\r\n            "name": "cur_field",\r\n            "description": "Выберите поле, из которого тянуть данные",\r\n            "help": "source_field"\r\n        },\r\n        "subtable": {\r\n            "type": "TableField",\r\n            "name": "subtable",\r\n            "description": "Выберите подтаблицу",\r\n            "field_description": "Выберите поле, в которое тянуть значение",\r\n            "no_system": true,\r\n            "only_subtables": true,\r\n            "help": "tpl_table_copy_line",\r\n            "field_help": "tpl_to_field"\r\n        }\r\n    }\r\n}', 'button', 'from_table_in_subtable.tpl', '', 2, '[]', 5);
insert into `f_calc_template` values (26, 'Отправить шаблон рассылки', '$true = send_template({$send_tpl}, "id = " . $line[''id'']);\r\n if ($true) {\r\n    $display_message .= $lang[''Mailer_started''] ." <a style=''font-size:16px;'' href=edit_mailing.php>";\r\n    $display_message .= $lang[''Active_mailer''] . "</a>";\r\n    display_notification($display_message, 1);\r\n}', '{\r\n    "title": "Отправить шаблон рассылки",\r\n    "help": "tpl_send",\r\n    "parameters": {\r\n        "send_tpl": {\r\n            "type": "Template",\r\n            "name": "send_tpl",\r\n            "description": "Шаблон рассылки",\r\n            "tpl_type": "send",\r\n            "help": "tpl_send_template"\r\n        }\r\n    }\r\n}', 'button', 'tpl_send.tpl', '', 4, '[]', 1);
insert into `f_calc_template` values (27, 'Копировать поле из текущей таблицы в связанную', '$line[''{$gen_field.link_field_id}''][''{$gen_field.field}''] = $line[''{$cur_field}''];\r\n{if $cur_field_type == 6 || $cur_field_type == 9}\r\n    $user_agent = $_SERVER["HTTP_USER_AGENT"];\r\n    if (strpos($user_agent, "MSIE") !== false) {\r\n        $exp = "\\n\\r";\r\n    } else {\r\n        $exp = "\\r\\n";    \r\n    }\r\n    $files = explode($exp, $line[''{$cur_field}'']);\r\n    foreach ($files as $fname) {\r\n        $orig_fpath = get_file_path({$cur_field|replace:''f'':''''}, $line[''id''], $fname);\r\n        save_data_file({$gen_field.field|replace:''f'':''''}, $line[''{$gen_field.link_field_id}''][''id''], $fname, file_get_contents($orig_fpath));\r\n    }\r\n{/if}', '{\r\n    "title": "Копировать поле в связанную таблицу",\r\n    "help": "tpl_link_to_table",\r\n    "parameters": {\r\n        "cur_field": {\r\n            "type": "Field",\r\n            "name": "cur_field",\r\n            "description": "Выберите поле, из которого тянуть значение",\r\n            "help": "source_field"\r\n        },\r\n        "gen_field": {\r\n            "type": "TableField",\r\n            "name": "gen_field",\r\n            "description": "Выберите таблицу, в которое сохранять",\r\n            "field_description": "Выберите поле, в которое сохранять",\r\n            "only_parent": "true",\r\n            "help": "tpl_to_table",\r\n            "field_help": "tpl_to_field"\r\n        }\r\n    }\r\n}', 'button', 'copy_into_link_table.tpl', '', 3, '[]', 2);
insert into `f_calc_template` values (28, 'Копировать значение поля до изменения', '$line[''{$field}''] = $event[''changed''][substr(''{$field2}'',1)][''old''];', '{\r\n    "title": "Копировать значение поля до изменения",\r\n    "help": "tpl_save_old_value",\r\n    "parameters": {\r\n        "field": {\r\n            "type": "Field",\r\n            "name": "field",\r\n            "description": "Выберите поле записи",\r\n            "no_system": true,\r\n            "help": "tpl_put_field"\r\n        },\r\n        "field2": {\r\n            "type": "Field",\r\n            "name": "field2",\r\n            "description": "Выберите поле, чье старое значение нужно сохранить",\r\n            "no_system": true,\r\n            "help": "tpl_old_field"\r\n        }\r\n    },\r\n    "events": [\r\n        {\r\n            "type": 3,\r\n            "field": "field2"\r\n        }\r\n    ]\r\n}', 'calc', 'save_old_value.tpl', '', 6, '[1]', 3);
insert into `f_calc_template` values (29, 'Текст: Найти и заменить текст', '$line[''{$cond_field}''] = str_replace(''{$give_value}'', ''{$put_value}'', $line[''{$cond_field}'']);', '{\r\n    "title": "Текст: Найти и заменить текст",\r\n    "help": "tpl_replace",\r\n    "parameters": {\r\n        "cond_field": {\r\n            "type": "Field",\r\n            "name": "cond_field",\r\n            "type_field": "3",\r\n            "description": "Выберите поле, которое должно быть изменено",\r\n            "help": "tpl_put_field"\r\n        },\r\n        "give_value": {\r\n            "type": "String",\r\n            "name": "give_value",\r\n            "description": " Введите значение для поиска",\r\n            "help": "tpl_search_value"\r\n        },\r\n        "put_value": {\r\n            "type": "String",\r\n            "name": "put_value",\r\n            "description": "Введите значение для замены",\r\n            "help": "tpl_replace_value"\r\n        }\r\n    }\r\n}', 'button', 'tpl_replace.tpl', '', 1, '[]', 5);
insert into `f_calc_template` values (30, 'Дата: Изменить дату', '$orig_date = strtotime($line[''{$cur_field1}'']);\r\n$number = {if $number_value}{$number_value}{else}$line[''{$cur_field2}'']{/if};\r\n{if $case_measure == 1}\r\n$new_date = $orig_date {$operand} $number;\r\n{elseif $case_measure == 2}\r\n$new_date = $orig_date {$operand} $number * 60;\r\n{elseif $case_measure == 3}\r\n$new_date = $orig_date {$operand} $number * 3600;\r\n{elseif $case_measure == 4}\r\n$new_date = $orig_date {$operand} $number * 3600 * 24;\r\n{elseif $case_measure == 5}\r\n$new_date = $orig_date {$operand} $number * 3600 * 24 * 7;\r\n{elseif $case_measure == 6}\r\n$new_date = mktime(date(''H'', $orig_date), date(''i'', $orig_date), date(''s'', $orig_date), date(''n'', $orig_date) {$operand} $number, date(''j'', $orig_date), date(''Y'', $orig_date));\r\n{elseif $case_measure == 7}\r\n$new_date = mktime(date(''H'', $orig_date), date(''i'', $orig_date), date(''s'', $orig_date), date(''n'', $orig_date), date(''j'', $orig_date), date(''Y'', $orig_date) {$operand} $number);\r\n{/if}\r\n$line[''{$cur_field3}''] = date(''Y-m-d H:i:s'', $new_date);', '{\r\n    "title": "Дата: Изменить дату",\r\n    "help": "tpl_add_to_date",\r\n    "parameters": {\r\n        "cur_field1": {\r\n            "type": "Field",\r\n            "name": "cur_field1",\r\n            "description": "Выберите исходную дату",\r\n            "type_field": [2, 12],\r\n            "help": "tpl_date_field"\r\n        },\r\n        "operand": {\r\n            "type": "List",\r\n            "name": "operand",\r\n            "description": "Выберите опцию",\r\n            "values": {"+": "Прибавить", "-": "Отнять"},\r\n            "help": "tpl_option"\r\n        },\r\n        "number_value": {\r\n            "type": "String",\r\n            "name": "number_value",\r\n            "description": "Выберите число",\r\n            "help": "tpl_to_field"\r\n        },\r\n        "cur_field2": {\r\n            "type": "Field",\r\n            "name": "cur_field2",\r\n            "description": "либо Выберите поле с числом",\r\n            "type_field": 1,\r\n            "help": "tpl_sel_field"\r\n        },\r\n        "case_measure": {\r\n            "type": "List",\r\n            "name": "case_measure",\r\n            "values": {"1": "Секунд", "2": "Минут", "3": "Часов", "4": "Дней", "5": "Недель", "6": "Месяцев", "7": "Лет"},\r\n            "description": "Выберите единицу измерения",\r\n            "help": "tpl_to_field"\r\n        },\r\n        "cur_field3": {\r\n            "type": "Field",\r\n            "name": "cur_field3",\r\n            "description": "Выберите поле для записи результата",\r\n            "type_field": 2,\r\n            "help": "tpl_result_field"\r\n        }\r\n    }\r\n}', 'button', 'date_change.tpl', '', 1, '[]', 9);
insert into `f_calc_template` values (31, 'Копировать поле из основной записи в подтаблицу', 'data_update({$subtable.table}, {if $operand}EVENTS_ENABLE, {/if}\r\n    [''{$subtable.field}'' => $line[''{$cur_field}'']{if $subtable.field_type == 5}[''raw'']{/if}], \r\n    ''status = 0 AND {$subtable.link_field_id} = '' . $line[''id'']\r\n);\r\n{if $subtable.field_type == 6 || $subtable.field_type == 9}\r\n$user_agent = $_SERVER["HTTP_USER_AGENT"];\r\nif (strpos($user_agent, "MSIE") !== false) {\r\n    $exp = "\\n\\r";\r\n} else {\r\n    $exp = "\\r\\n";    \r\n}\r\n$files = explode($exp, $line[''{$cur_field}'']);\r\n$res = data_select_field({$subtable.table}, ''id'',''status=0 and {$subtable.link_field_id} ='' . $line[''id'']);\r\nwhile ($row = sql_fetch_assoc($res)) {\r\n    foreach ($files as $fname) {\r\n        $orig_fpath = get_file_path({$cur_field|replace:''f'':''''}, $line[''id''], $fname);\r\n        save_data_file({$subtable.field|replace:''f'':''''}, $row[''id''], $fname, file_get_contents($orig_fpath));\r\n    }\r\n}\r\n{/if}', '{\r\n    "title": "Копировать поле из основной записи в подтаблицу",\r\n    "help": "tpl_from_table_in_subtable",\r\n    "parameters": {\r\n        "cur_field": {\r\n            "type": "Field",\r\n            "name": "cur_field",\r\n            "description": "Выберите поле, из которого тянуть данные",\r\n            "help": "source_field"\r\n        },\r\n        "subtable": {\r\n            "type": "TableField",\r\n            "name": "subtable",\r\n            "description": "Выберите подтаблицу",\r\n            "field_description": "Выберите поле, в которое тянуть значение",\r\n            "no_system": true,\r\n            "only_subtables": true,\r\n            "help": "tpl_table_copy_line",\r\n            "field_help": "tpl_to_field"\r\n        },\r\n        "operand": {\r\n            "type": "List",\r\n            "name": "operand",\r\n            "description": "Запуск вычислений",\r\n            "values": {\r\n              "1": "Да",\r\n              "2": "Нет"\r\n            },\r\n            "help": "tpl_event_on"\r\n        }\r\n    },\r\n    "events": [\r\n        {\r\n            "type": 3,\r\n            "field": "cur_field"\r\n        }\r\n    ]\r\n}', 'calc', 'from_table_in_subtable.tpl', '', 2, '[4]', 5);
insert into `f_calc_template` values (33, 'Удалить запись', 'if ($line[''status''] != 2) {\r\n    $true = data_update(\r\n        $table_id,\r\n        EVENTS_ENABLE,\r\n        array(\r\n            ''status'' => 2\r\n        ),\r\n        ''status IN (0,1) AND id = '' . $line[''id'']\r\n    );\r\n}', '{\r\n    "title": "Удаление записи",\r\n    "help": "note_delete"\r\n}', 'button', 'null.tpl', '', 5, '[]', 1);
insert into `f_calc_template` values (34, 'Архивировать запись', 'if ($line[''status''] != 1) {\r\n    $true = data_update(\r\n        $table_id,\r\n        EVENTS_ENABLE,\r\n        array(\r\n            ''status'' => 1\r\n        ),\r\n        ''status IN (0,2) AND id = '' . $line[''id'']\r\n    );\r\n}', '{\r\n    "title": "Архивация записи",\r\n    "help": "note_archive"\r\n}', 'button', 'null.tpl', '', 5, '[]', 2);
insert into `f_calc_template` values (35, 'Восстановить запись', 'if ($line[''status''] != 0) {\r\n    $true = data_update(\r\n        $table_id,\r\n        EVENTS_ENABLE,\r\n        array(\r\n            ''status'' => 0\r\n        ),\r\n        ''status IN (1,2) AND id = '' . $line[''id'']\r\n    );\r\n}', '{\r\n    "title": "Восстановить запись",\r\n    "help": "note_restore"\r\n}', 'button', 'null.tpl', '', 5, '[]', 3);
insert into `f_calc_template` values (36, 'Количество записей в подтаблице', '$filter = sql_select_array(FILTERS_TABLE, ''id = '', get_filter_id({$filter|default:0}));\r\n$result = data_select_field(\r\n    $table_id,\r\n    ''COUNT(id) AS cnt'',\r\n    ''status = 0'' . ($event[''type''] === ''delete'' ? '' AND id != '' . $ID : '''') . \r\n    '' AND {$cond_table.link_field_id} = '' . (int)$line[''{$cond_table.link_field_id}''][''raw''] . \r\n    ($filter[''value''] ? '' AND ('' . filter_tpl_replace($filter[''value'']) . '')'' : '''')\r\n);\r\n$row = sql_fetch_assoc($result);\r\n{if $operand == 1}\r\n    $filter_str = '''';\r\n    if (isset($filter)) {\r\n        $filter_str = ''&filter='' . $filter[''id''];\r\n    }\r\n    $line_link = substr("{$cond_table.link_field_id}", 1);\r\n    $url = $config[''site_url''] . "/fields.php?table=" . $table_id . "&rel_search&rel_table=" . get_table_id({$cond_table.table}) . "&rel_line=" . \r\n    $line[''{$cond_table.link_field_id}''][''raw''] . "&rel_field=" . $line_link . $filter_str;\r\n    {if $cond_table.field_type eq 3}\r\n        $line[''{$cond_table.link_field_id}''][''{$cond_table.field}''] = "<a href=''" . $url . "''>" . $row[''cnt''] . "</a>";\r\n    {else} \r\n        $line[''{$cond_table.link_field_id}''][''{$cond_table.field}''] = $row[''cnt''];\r\n    {/if}\r\n{else}\r\n    $line[''{$cond_table.link_field_id}''][''{$cond_table.field}''] = $row[''cnt''];\r\n{/if}', '{\r\n    "title": "Количество записей в подтаблице",\r\n    "help": "subnotes_count",\r\n    "parameters": {\r\n        "cond_table": {\r\n            "type": "TableField",\r\n            "name": "cond_table",\r\n            "only_parent": "true",\r\n            "description": "Выберите таблицу, в которую будет записан результат",\r\n            "type_field": [1,3],\r\n            "help": "main_talbe",\r\n            "field_description": "Выберите поле, в которое будет записан результат",\r\n            "field_help": "main_table_field"\r\n        },\r\n        "filter": {\r\n            "type": "Filter",\r\n            "name": "filter",\r\n            "description": "Выберите фильтр",\r\n            "help": "filter_help"\r\n        },\r\n        "operand": {\r\n            "type": "List",\r\n            "name": "operand",\r\n            "description": "Добавить ссылку на записи",\r\n            "values": {\r\n              "1": "Да",\r\n              "2": "Нет"\r\n            },\r\n            "help": "link_in_res_table"\r\n        }\r\n    },\r\n    "events": [\r\n        {\r\n            "type": 1,\r\n            "field": ""\r\n        },\r\n        {\r\n            "type": 4,\r\n            "field": ""\r\n        },\r\n        {\r\n            "type": 7,\r\n            "field": ""\r\n        }\r\n    ]\r\n}', 'calc', 'subtable_cnt.tpl', '', 2, '[2]', 3);
insert into `f_calc_template` values (37, 'Удалить запись', 'if ($line[''status''] != 2) {\r\n    $true = data_update(\r\n        $table_id,\r\n        EVENTS_ENABLE,\r\n        array(\r\n            ''status'' => 2\r\n        ),\r\n        ''status IN (0,1) AND id = '' . $line[''id'']\r\n    );\r\n}', '{\r\n    "title": "Удалить запись",\r\n    "help": "note_delete",\r\n    "events": [\r\n        {\r\n            "type": 1,\r\n            "field": ""\r\n        }\r\n    ]\r\n}', 'calc', 'null.tpl', '', 5, '[1]', 1);
insert into `f_calc_template` values (38, 'Архивировать запись', 'if ($line[''status''] != 1) {\r\n    $true = data_update(\r\n        $table_id,\r\n        EVENTS_ENABLE,\r\n        array(\r\n            ''status'' => 1\r\n        ),\r\n        ''status IN (0,2) AND id = '' . $line[''id'']\r\n    );\r\n}', '{\r\n    "title": "Архивировать запись",\r\n    "help": "note_archive",\r\n    "events": [\r\n        {\r\n            "type": 1,\r\n            "field": ""\r\n        }\r\n    ]\r\n}', 'calc', 'null.tpl', '', 5, '[1]', 2);
insert into `f_calc_template` values (39, 'Восстановить запись', 'if ($line[''status''] != 0) {\r\n    $true = data_update(\r\n        $table_id,\r\n        EVENTS_ENABLE,\r\n        array(\r\n            ''status'' => 0\r\n        ),\r\n        ''status IN (1,2) AND id = '' . $line[''id'']\r\n    );\r\n}', '{\r\n    "title": "Восстановить запись",\r\n    "help": "note_restore",\r\n    "events": [\r\n        {\r\n            "type": 1,\r\n            "field": ""\r\n        }\r\n    ]\r\n}', 'calc', 'null.tpl', '', 5, '[1]', 3);
insert into `f_calc_template` values (40, 'Сохранить шаблон печати в файл', '$form = sql_select_array(FORMS_TABLE,\r\n    ''id = '' . get_form_id({$print_tpl})\r\n);\r\nif ($form[''type_form''] == 2 && $form[''pdf_import''] == 1) {\r\n    include $config[''site_path''] . "/include/mpdf/mpdf.php";\r\n    $mpdf = new mPDF("", "A4" . $form[''orientation''], "", "", $form[''margin_left''], $form[''margin_right''], $form[''margin_top''], $form[''margin_bottom'']);\r\n    $mpdf->SetDisplayMode(''fullwidth'');\r\n    $file_name = $form[''doc_name''] . ''.pdf'';\r\n    $form_text = '''';\r\n    if ($form[''head_form''] != '''') {\r\n        $mpdf->WriteHTML(form_template($form, $line, "head_form"));\r\n    }\r\n    $mpdf->WriteHTML(form_template($form, $line, "body_form"));\r\n    if ($form[''foot_form''] != '''') {\r\n        $mpdf->WriteHTML(form_template($form, $line, "foot_form"));\r\n    }\r\n    $form_text = $mpdf->Output($file_name, "S");\r\n    $save_link = substr("{$field}", 1);\r\n    save_data_file($save_link, $ID, $file_name, $form_text);\r\n    $line[''{$field}''] = $file_name;\r\n} else {\r\n    if ($form[''type_form''] == 5) {\r\n        $file_name = $form[''doc_name''] . ''.docx'';\r\n    } else if ($form[''type_form''] == 3) {\r\n        $file_name = $form[''doc_name''] . ''.rtf'';\r\n    } else if ($form[''type_form''] == 4) {\r\n        $file_name = $form[''doc_name''] . ''.odt'';\r\n    } else if ($form[''type_form''] == 6) {\r\n        $file_name = $form[''doc_name''] . ''.xls'';\r\n    }\r\n    $save_link = substr("{$field}", 1);\r\n    save_data_file($save_link, $ID, $file_name, form_template($form, $line, ''body_form''));\r\n    $line[''{$field}''] = $file_name;\r\n}', '{\r\n    "title": "Сохранить шаблон печати в файл",\r\n    "help": "tpl_print_save",\r\n    "parameters": {\r\n        "print_tpl": {\r\n            "type": "Template",\r\n            "name": "print_tpl",\r\n            "description": "Выберите шаблон печати",\r\n            "tpl_type": "print",\r\n            "help": "tpl_print_calc_save"\r\n        },\r\n        "field": {\r\n            "type": "Field",\r\n            "name": "field",\r\n            "description": "Выберите поле для сохранения шаблона",\r\n            "type_field": "6",\r\n            "help": "tpl_print_calc_field"\r\n        }\r\n    }\r\n}', 'button', 'save_tpl_in_field.tpl', '', 4, '[]', 4);
insert into `f_calc_template` values (41, 'Распечатать шаблон печати', '$print_tpl = get_form_id({$print_tpl});\r\n$_SESSION[$ses_id][''sel'' . $table_id][] = $ID;\r\n?>\r\n<script>\r\nvar url = ''<?=$config["site_url"]?>/forms.php?table=<?=$table_id?>&mode=print&form=<?=$print_tpl?>'';\r\nwindow.open(url);\r\n</script>\r\n<?php', '{\r\n    "title": "Распечатать шаблон печати",\r\n    "help": "tpl_print",\r\n    "parameters": {\r\n        "print_tpl": {\r\n            "type": "Template",\r\n            "name": "print_tpl",\r\n            "description": "Выберите шаблон печати",\r\n            "tpl_type": "print",\r\n            "help": "tpl_print_help"\r\n        }\r\n    }\r\n}', 'button', 'tpl_print.tpl', '', 4, '[]', 3);
insert into `f_calc_template` values (42, 'Копировать поле из подтаблицы в основную запись', '$filter = sql_select_array(FILTERS_TABLE, ''id = '', get_filter_id({$filter|default:0}));\r\n$result = data_select_field(\r\n    $table_id, \r\n    ''id, {$cur_field}'',\r\n    ''status = 0'' . ($event[''type''] === ''delete'' ? '' AND id != '' . $ID : '''') . \r\n    '' AND {$gen_field.link_field_id} = '' . (int)$line[''{$gen_field.link_field_id}''][''raw''] . \r\n    ($filter[''value''] ? '' AND ('' . filter_tpl_replace($filter[''value'']) . '')'' : '''') . \r\n    '' ORDER BY id {if $record == "last"}DESC{/if} LIMIT 1'');\r\n$row = sql_fetch_assoc($result);\r\n{if $add_value == ''yes''}\r\nif ($line[''{$gen_field.link_field_id}''][''{$gen_field.field}''] != '''') {\r\n    $line[''{$gen_field.link_field_id}''][''{$gen_field.field}''] .= "{$add_delim}" . $row[''{$cur_field}''];\r\n} else {\r\n    $line[''{$gen_field.link_field_id}''][''{$gen_field.field}''] = $row[''{$cur_field}''];\r\n}\r\n{else}\r\n$line[''{$gen_field.link_field_id}''][''{$gen_field.field}''] = $row[''{$cur_field}''];\r\n{/if}\r\n{if $cur_field_type == 6 || $cur_field_type == 9}\r\n$user_agent = $_SERVER["HTTP_USER_AGENT"];\r\nif (strpos($user_agent, "MSIE") !== false) {\r\n    $exp = "\\n\\r";\r\n} else {\r\n    $exp = "\\r\\n";    \r\n}\r\n$files = explode($exp, $row[''{$cur_field}'']);\r\nforeach ($files as $fname) {\r\n    $orig_fpath = get_file_path({$cur_field|replace:''f'':''''}, $row[''id''], $fname);\r\n    save_data_file({$cond_table.field|replace:''f'':''''}, $line[''{$cond_table.link_field_id}''][''id''], $fname, file_get_contents($orig_fpath));\r\n}\r\n{/if}', '{\r\n    "title": "Копировать поле из подтаблицы в основную запись",\r\n    "help": "last_record_data",\r\n    "parameters": {\r\n        "gen_field": {\r\n            "type": "TableField",\r\n            "name": "gen_field",\r\n            "only_parent": "true",\r\n            "description": "Выберите таблицу, в которую будет записан результат",\r\n            "field_description": "Выберите поле, в которое будет записан результат",\r\n            "help": "tpl_parent_table",\r\n            "field_help": "tpl_parent_field"\r\n         },\r\n        "filter": {\r\n            "type": "Filter",\r\n            "name": "filter",\r\n            "description": "Выберите фильтр",\r\n            "help": "tpl_filter"\r\n        },\r\n        "cur_field": {\r\n            "type": "Field",\r\n            "name": "cur_field",\r\n            "description": "Выберите поле",\r\n            "help": "tpl_field_out"\r\n        },\r\n        "record": {\r\n            "type": "List",\r\n            "name": "record",\r\n            "description": "Выберите запись",\r\n            "help": "tpl_record",\r\n            "values": {\r\n                "last": "последняя",\r\n                "first": "первая"\r\n            }\r\n        },\r\n        "add_value": {\r\n            "type": "List",\r\n            "name": "add_value",\r\n            "description": "Добавлять к существующему значению",\r\n            "help": "tpl_add_value",\r\n            "values": {\r\n                "no": "нет",\r\n                "yes": "да"\r\n            }\r\n        },\r\n        "add_delim": {\r\n            "type": "String",\r\n            "name": "add_delim",\r\n            "description": "Разделитель при добавлении",\r\n            "help": "tpl_add_delim"\r\n        }\r\n    },\r\n    "events": [\r\n        {\r\n            "type": 3,\r\n            "field": "cur_field"\r\n        },\r\n        {\r\n            "type": 4,\r\n            "field": ""\r\n        },\r\n        {\r\n            "type": 7,\r\n            "field": ""\r\n        }\r\n    ]\r\n}', 'calc', 'last_record_data.tpl', '', 2, '[2]', 4);
insert into `f_calc_template` values (43, 'Копировать поле из подтаблицы в основную запись', '$result = data_select_field({$sub_table.subTable}, ''id, {$sub_table.subField}'',\r\n    ''status = 0 AND {$sub_table.link_field_id} = '' . $ID . '' ORDER BY id {if $sub_record == "last"}DESC{/if} LIMIT 1'');\r\n$row = sql_fetch_assoc($result);\r\n{if $add_value == ''yes''}\r\nif ($line[''{$res_field}''] != '''') {\r\n    $line[''{$res_field}''] .= "{$add_delim}" . $row[''{$sub_table.subField}''];\r\n} else {\r\n    $line[''{$res_field}''] = $row[''{$sub_table.subField}''];\r\n}\r\n{else}\r\n$line[''{$res_field}''] = $row[''{$sub_table.subField}''];\r\n{/if}\r\n{if $res_field_type == 6 || $res_field_type == 9}\r\n    $user_agent = $_SERVER["HTTP_USER_AGENT"];\r\n    if (strpos($user_agent, "MSIE") !== false) {\r\n        $exp = "\\n\\r";\r\n    } else {\r\n        $exp = "\\r\\n";    \r\n    }\r\n    $files = explode($exp, $row[''{$sub_table.subField}'']);\r\n    foreach ($files as $fname) {\r\n        $orig_fpath = get_file_path({$sub_table.subField|replace:''f'':''''}, $row[''id''], $fname);\r\n        save_data_file({$res_field|replace:''f'':''''}, $line[''id''], $fname, file_get_contents($orig_fpath));\r\n    }\r\n{/if}', '{\r\n    "title": "Копировать поле из подтаблицы в основную запись",\r\n    "help": "last_record_data",\r\n    "parameters": {\r\n        "sub_table": {\r\n            "type": "SubField",\r\n            "name": "sub_table",\r\n            "description": "Выберите подтаблицу",\r\n            "sub_description": "Выберите поле подтаблицы",\r\n            "help": "tpl_sub_table",\r\n            "field_help": "tpl_sub_field"\r\n        },\r\n        "sub_record": {\r\n            "type": "List",\r\n            "name": "sub_record",\r\n            "description": "Выберите запись подтаблицы",\r\n            "help": "tpl_record",\r\n            "values": {\r\n                "last": "последняя",\r\n                "first": "первая"\r\n            }\r\n        },\r\n        "res_field": {\r\n            "type": "Field",\r\n            "name": "res_field",\r\n            "description": "Выберите поле, в которое будет записан результат",\r\n            "help": "tpl_field_in"\r\n        },\r\n        "add_value": {\r\n            "type": "List",\r\n            "name": "add_value",\r\n            "description": "Добавлять к существующему значению",\r\n            "help": "tpl_add_value",\r\n            "values": {\r\n                "no": "нет",\r\n                "yes": "да"\r\n            }\r\n        },\r\n        "add_delim": {\r\n            "type": "String",\r\n            "name": "add_delim",\r\n            "description": "Разделитель при добавлении",\r\n            "help": "tpl_add_delim"\r\n        }\r\n    }\r\n}', 'button', 'last_record_data.tpl', '', 2, '[]', 4);
insert into `f_calc_template` values (50, 'Копировать/создать запись', '$sel_table = get_table_id({$correlation[''table'']|default:0});\r\n$sel_fields = [\r\n    {foreach from = $correlation[''to_field''] item = field_id}get_field_id({$field_id|default:0}), {/foreach}\r\n];\r\n$cur_fields = [\r\n    {foreach from = $correlation[''cur_field''] item = field_id}get_field_id({$field_id|default:0}), {/foreach}\r\n];\r\n$def_vals = [\r\n    {foreach from = $correlation[''def_val''] item = value}''{$value}'', {/foreach}\r\n];\r\nif ($sel_table > 0) {\r\n    $ins_arr = [];\r\n    foreach ($sel_fields as $num => $field_id) {\r\n        $field_name = form_int_name($field_id);\r\n        if (!$field_name) continue;\r\n        if ($def_vals[$num] && $def_vals[$num] != ''null'') {\r\n            $ins_arr[$field_name] = $def_vals[$num];\r\n        } else {\r\n            if (is_int($cur_fields[$num])) $cur_field_name = form_int_name($cur_fields[$num]); else $cur_field_name = $cur_fields[$num];\r\n            if (is_array($line[$cur_field_name])) {\r\n                $ins_arr[$field_name] = $line[$cur_field_name][''raw''];\r\n            } else {\r\n                $ins_arr[$field_name] = $line[$cur_field_name];\r\n            }\r\n        }\r\n    }\r\n    if (count($ins_arr) > 0) {\r\n        if ($new_id = data_insert($sel_table, EVENTS_ENABLE, $ins_arr)) {\r\n{if $correlation[''save_field'']}\r\n            $line[''f{$correlation[''save_field'']}''] = $new_id;\r\n            data_update($table_id, EVENTS_ENABLE, [''f{$correlation[''save_field'']}'' => $new_id], ''id = '' . $ID);\r\n{/if}\r\n            // сохраняем файлы на диске\r\n            foreach ($sel_fields as $num => $field_id) {\r\n                if (!$def_vals[$num]) {\r\n                    $cur_field_name = form_int_name($cur_fields[$num]);\r\n                    $field_row = sql_select_array(FIELDS_TABLE, ''id = '' . $field_id);\r\n                    if ($field_row[''type_field''] == 6 || $field_row[''type_field''] == 9) { \r\n                        $user_agent = $_SERVER["HTTP_USER_AGENT"];\r\n                        if (strpos($user_agent, "MSIE") !== false) {      \r\n                            $exp = "\\n\\r";      \r\n                        } else {         \r\n                            $exp = "\\r\\n";    \r\n                        }   \r\n                        $files = explode($exp, $line[$cur_field_name]);      \r\n                        foreach ($files as $fname) {        \r\n                            $orig_fpath = get_file_path($cur_fields[$num], $line[''id''], $fname); \r\n                            save_data_file($field_id, $new_id, $fname, file_get_contents($orig_fpath));  \r\n                        }\r\n                    }      \r\n                }\r\n            }\r\n{if $addit neq ''stop''}\r\n{if $addit eq ''go_edit''}\r\n            if (isset($_REQUEST[''parameters''])) {\r\n                echo ''<script type="text/javascript">\r\n                    window.opener.location.href = "'' . $config[''site_root''] . ''/view_line2.php?table='' . $sel_table . ''&line='' . $new_id . ''&edit_mode=on";\r\n                    window.close();\r\n                    </script>'';\r\n            } else {\r\n                header(''Location: '' . $config[''site_root''] . ''/view_line2.php?table='' . $sel_table . ''&line='' . $new_id . ''&edit_mode=on''); exit;\r\n            }\r\n{else}\r\n            if (isset($_REQUEST[''parameters''])) {\r\n                echo ''<script type="text/javascript">\r\n                    window.opener.location.href = "'' . $config[''site_root''] . ''/view_line2.php?table='' . $sel_table . ''&line='' . $new_id . ''";\r\n                    window.close();\r\n                    </script>'';\r\n            } else {\r\n                header(''Location: '' . $config[''site_root''] . ''/view_line2.php?table='' . $sel_table . ''&line='' . $new_id); exit;\r\n            }\r\n{/if}\r\n{/if}\r\n        } else {\r\n            $error_trace[] = true;\r\n        }\r\n    } else {\r\n        $error_trace[] = true;\r\n    }\r\n} else {\r\n    $error_trace[] = true;\r\n}', '{\r\n    "title": "Копировать запись",\r\n    "help": "tpl_copy_line",\r\n    "parameters": {\r\n        "correlation": {\r\n            "type": "Correlation",\r\n            "name": "correlation",\r\n            "description": "Таблица-получатель",\r\n            "help": "tpl_table_copy_line",\r\n            "save_field": true\r\n        },\r\n        "addit": {\r\n            "type": "List",\r\n            "name": "addit",\r\n            "description": "Опция",\r\n            "help": "tpl_help",\r\n            "default_value": "stop",\r\n            "values": {\r\n              "go_edit": "Переходить на созданную запись в режиме редактирования",\r\n              "go": "Переходить на созданную запись",\r\n              "stop": "Оставаться в текущей записи"\r\n            }\r\n        }\r\n    }\r\n}', 'button', 'copy_line.tpl', '', 7, '[]', 4);
insert into `f_calc_template` values (51, 'Сохранить шаблон печати в файл', '$form = sql_select_array(FORMS_TABLE,\r\n    ''id = '' . get_form_id({$print_tpl})\r\n);\r\nif ($form[''type_form''] == 2 && $form[''pdf_import''] == 1) {\r\n    include $config[''site_path''] . "/include/mpdf/mpdf.php";\r\n    $mpdf = new mPDF("", "A4" . $form[''orientation''], "", "", $form[''margin_left''], $form[''margin_right''], $form[''margin_top''], $form[''margin_bottom'']);\r\n    $mpdf->SetDisplayMode(''fullwidth'');\r\n    $file_name = $form[''doc_name''] . ''.pdf'';\r\n    $form_text = '''';\r\n    if ($form[''head_form''] != '''') {\r\n        $mpdf->WriteHTML(form_template($form, $line, "head_form"));\r\n    }\r\n    $mpdf->WriteHTML(form_template($form, $line, "body_form"));\r\n    if ($form[''foot_form''] != '''') {\r\n        $mpdf->WriteHTML(form_template($form, $line, "foot_form"));\r\n    }\r\n    $form_text = $mpdf->Output($file_name, "S");\r\n    $save_link = substr("{$field}", 1);\r\n    save_data_file($save_link, $ID, $file_name, $form_text);\r\n    $line[''{$field}''] = $file_name;\r\n} else {\r\n    if ($form[''type_form''] == 5) {\r\n        $file_name = $form[''doc_name''] . ''.docx'';\r\n    } else if ($form[''type_form''] == 3) {\r\n        $file_name = $form[''doc_name''] . ''.rtf'';\r\n    } else if ($form[''type_form''] == 4) {\r\n        $file_name = $form[''doc_name''] . ''.odt'';\r\n    } else if ($form[''type_form''] == 6) {\r\n        $file_name = $form[''doc_name''] . ''.xls'';\r\n    }\r\n    $save_link = substr("{$field}", 1);\r\n    save_data_file($save_link, $ID, $file_name, form_template($form, $line, ''body_form''));\r\n    $line[''{$field}''] = $file_name;\r\n}', '{\r\n    "title": "Сохранить шаблон печати в файл",\r\n    "help": "tpl_print_save",\r\n    "parameters": {\r\n        "print_tpl": {\r\n            "type": "Template",\r\n            "name": "print_tpl",\r\n            "description": "Выберите шаблон печати",\r\n            "tpl_type": "print",\r\n            "help": "tpl_print_calc_save"\r\n        },\r\n        "field": {\r\n            "type": "Field",\r\n            "name": "field",\r\n            "description": "Выберите поле для сохранения шаблона",\r\n            "type_field": "6",\r\n            "help": "tpl_print_calc_field"\r\n        }\r\n    }\r\n}', 'calc', 'save_tpl_in_field.tpl', '', 4, '[1]', 4);
insert into `f_calc_template` values (60, 'Создать запись в подтаблице', '$sel_table = get_table_id({$correlation[''table'']|default:0});\r\n$sel_fields = [\r\n    {foreach from = $correlation[''to_field''] item = field_id}get_field_id({$field_id|default:0}), {/foreach}\r\n];\r\n$sel_def_vals = [\r\n    {foreach from = $correlation[''def_val''] item = value}''{$value}'', {/foreach}\r\n];\r\n$cur_fields = [\r\n    {foreach from = $correlation[''cur_field''] item = field_id}get_field_id({$field_id|default:0}), {/foreach}\r\n];\r\n$link_field = get_field_id({$correlation[''link_field_id'']|default:0});\r\nif ($sel_table > 0) {\r\n    $ins_arr = [];\r\n    foreach ($sel_fields as $num => $field_id) {\r\n        if (!$field_id) continue;\r\n        $def_val = $sel_def_vals[$num];\r\n        if ($def_val) {\r\n             $ins_arr[''f'' . $field_id] = $def_val;\r\n        } else {\r\n             if (is_array($line[$cur_field[$num]])) {\r\n                 $ins_arr[''f'' . $field_id] = $line[''f'' . $cur_fields[$num]][''raw''];\r\n             } else {\r\n                 $ins_arr[''f'' . $field_id] = $line[''f'' . $cur_fields[$num]];\r\n             }\r\n        }\r\n    }\r\n    if ($link_field) {\r\n        $ins_arr[''f'' . $link_field] = $ID;\r\n    }\r\n    if (count($ins_arr) > 0) {\r\n        data_insert($sel_table, EVENTS_ENABLE, $ins_arr);\r\n    } else {\r\n        $error_trace[] = true;\r\n    }\r\n} else {\r\n    $error_trace[] = true;\r\n}', '{\r\n    "title": "Создать запись в подтаблице",\r\n    "help": "tpl_copy_line",\r\n    "parameters": {\r\n        "correlation": {\r\n            "type": "Correlation",\r\n            "name": "correlation",\r\n            "description": "Таблица-получатель",\r\n            "help": "tpl_table_copy_line",\r\n            "only_subtables": true\r\n        }\r\n    }\r\n}', 'button', 'copy_line_subtable.tpl', '', 2, '[]', 0);
insert into `f_calc_template` values (61, 'Распечатать шаблон печати', '$print_tpl = get_form_id({$print_tpl});\r\n$_SESSION[$ses_id][''sel'' . $table_id][] = $ID;\r\n?>\r\n<script>\r\nvar url = ''<?=$config["site_url"]?>/forms.php?table=<?=$table_id?>&mode=print&form=<?=$print_tpl?>'';\r\nwindow.open(url);\r\n</script>', '{\r\n    "title": "Распечатать шаблон печати",\r\n    "help": "tpl_print",\r\n    "parameters": {\r\n        "print_tpl": {\r\n            "type": "Template",\r\n            "name": "print_tpl",\r\n            "description": "Выберите шаблон печати",\r\n            "tpl_type": "print",\r\n            "help": "tpl_print_help"\r\n        }\r\n    }\r\n}', 'calc', 'tpl_print.tpl', '', 4, '[1]', 3);
insert into `f_calc_template` values (62, 'Изменить поле', '{if $put_field_type eq 2}\r\n{if $case_type eq 2}\r\n$line[''{$put_field.field}''] = date(''Y-m-d H:i:s'');\r\n{else}\r\n$line[''{$put_field.field}''] = date(''Y-m-d H:i:s'', strtotime(''{$put_field.set_value}''));\r\n{/if}\r\n{else}\r\n$line[''{$put_field.field}''] = ''{$put_field.set_value}'';\r\n{/if}', '{\r\n    "title": "Изменить поле",\r\n    "help": "tpl_field_change",\r\n    "parameters": {\r\n        "put_field": {\r\n            "type": "Field",\r\n            "name": "put_field",\r\n            "description": "Выберите поле для замены значения",\r\n            "no_system": true,\r\n            "help": "tpl_put_field",\r\n            "set_value": "true",\r\n            "set_value_description": "Введите значение, которое должно быть присвоено полю",\r\n            "set_help": "tpl_set_value"\r\n        },\r\n        "case_type": {\r\n            "type": "List",\r\n            "name": "case_type",\r\n            "values": {"1": "Ввод даты", "2": "Текущая дата"},\r\n            "description": "Вариант ввода",\r\n            "help": "tpl_to_field"\r\n        }\r\n    }\r\n}', 'button', 'field_change.tpl', '', 1, '[]', 2);
insert into `f_calc_template` values (74, 'Копировать значение поля до изменения', '$line[''{$field}''] = $event[''changed''][substr(''{$field2}'',1)][''old''];', '{\r\n    "title": "Копировать значение поля до изменения",\r\n    "help": "tpl_save_old_value",\r\n    "parameters": {\r\n        "field": {\r\n            "type": "Field",\r\n            "name": "field",\r\n            "description": "Выберите поле записи",\r\n            "no_system": true,\r\n            "help": "tpl_put_field"\r\n        },\r\n        "field2": {\r\n            "type": "Field",\r\n            "name": "field2",\r\n            "description": "Выберите поле, чье старое значение нужно сохранить",\r\n            "no_system": true,\r\n            "help": "tpl_old_field"\r\n        }\r\n    }\r\n}', 'button', 'save_old_value.tpl', '', 6, '[]', 3);
insert into `f_calc_template` values (75, 'Число: Математическая формула', '$line[''{$result}''] = {$flex_data|stripslashes|replace:'','':''.''};', '{\r\n     "title": "Число: Математическая формула",\r\n     "help": "tpl_math_formulas",\r\n     "parameters": {\r\n         "field1": {\r\n             "type": "Field",\r\n             "name": "field1",\r\n             "description": "Выберите поле",\r\n             "type_field": 1,\r\n             "help": "tpl_sel_field"\r\n         },\r\n         "func_row": {\r\n             "type": "String",\r\n             "name": "func_row",\r\n             "description": "Поле записи функции",\r\n             "textarea": true,\r\n             "help": "tpl_func_field"\r\n         },\r\n         "result": {\r\n             "type": "Field",\r\n             "name": "result",\r\n             "description": "Выберите поле записи результата",\r\n             "type_field": 1,\r\n             "help": "tpl_to_field"\r\n         },\r\n         "flex_data": {\r\n             "type": "String",\r\n             "name": "flex_data",\r\n             "description": "",\r\n             "help": "tpl_flex_string"\r\n         }\r\n     }\r\n}\r\n', 'button', 'math_functions.tpl', '', 1, '[]', 4);
insert into `f_calc_template` values (76, 'Отправить шаблон рассылки', '$true = send_template({$send_tpl}, "id = " . $line[''id'']);\r\n if ($true) {\r\n    $display_message .= $lang[''Mailer_started''] ." <a style=''font-size:16px;'' href=edit_mailing.php>";\r\n    $display_message .= $lang[''Active_mailer''] . "</a>";\r\n    display_notification($display_message, 1);\r\n}', '{\r\n    "title": "Отправить шаблон рассылки",\r\n    "help": "tpl_send",\r\n    "parameters": {\r\n        "send_tpl": {\r\n            "type": "Template",\r\n            "name": "send_tpl",\r\n            "description": "Шаблон рассылки",\r\n            "tpl_type": "send",\r\n            "help": "tpl_send_template"\r\n        }\r\n    }\r\n}', 'calc', 'tpl_send.tpl', '', 4, '[1]', 1);
insert into `f_calc_template` values (77, 'Копировать поле из текущей таблицы в связанную', '$line[''{$gen_field.link_field_id}''][''{$gen_field.field}''] = $line[''{$cur_field}''];\r\n{if $cur_field_type == 6 || $cur_field_type == 9}\r\n    $user_agent = $_SERVER["HTTP_USER_AGENT"];\r\n    if (strpos($user_agent, "MSIE") !== false) {\r\n        $exp = "\\n\\r";\r\n    } else {\r\n        $exp = "\\r\\n";    \r\n    }\r\n    $files = explode($exp, $line[''{$cur_field}'']);\r\n    foreach ($files as $fname) {\r\n        $orig_fpath = get_file_path({$cur_field|replace:''f'':''''}, $line[''id''], $fname);\r\n        save_data_file({$gen_field.field|replace:''f'':''''}, $line[''{$gen_field.link_field_id}''][''id''], $fname, file_get_contents($orig_fpath));\r\n    }\r\n{/if}', '{\r\n    "title": "Копировать поле в связанную таблицу",\r\n    "help": "tpl_link_to_table",\r\n    "parameters": {\r\n        "cur_field": {\r\n            "type": "Field",\r\n            "name": "cur_field",\r\n            "description": "Выберите поле, из которого тянуть значение",\r\n            "help": "source_field"\r\n        },\r\n        "gen_field": {\r\n            "type": "TableField",\r\n            "name": "gen_field",\r\n            "description": "Выберите таблицу, в которое сохранять",\r\n            "field_description": "Выберите поле, в которое сохранять",\r\n            "only_parent": "true",\r\n            "help": "tpl_to_table",\r\n            "field_help": "tpl_to_field"\r\n        }\r\n    },\r\n    "events": [\r\n        {\r\n            "type": 3,\r\n            "field": "cur_field"\r\n        }\r\n    ]\r\n}', 'calc', 'copy_into_link_table.tpl', '', 3, '[1]', 2);
insert into `f_calc_template` values (78, 'Копировать/создать запись', '$sel_table = get_table_id({$correlation[''table'']|default:0});\r\n$sel_fields = [\r\n    {foreach from = $correlation[''to_field''] item = field_id}get_field_id({$field_id|default:0}), {/foreach}\r\n];\r\n$cur_fields = [\r\n    {foreach from = $correlation[''cur_field''] item = field_id}get_field_id({$field_id|default:0}), {/foreach}\r\n];\r\n$def_vals = [\r\n    {foreach from = $correlation[''def_val''] item = value}''{$value}'', {/foreach}\r\n];\r\nif ($sel_table > 0) {\r\n    $ins_arr = [];\r\n    foreach ($sel_fields as $num => $field_id) {\r\n        $field_name = form_int_name($field_id);\r\n        if (!$field_name) continue;\r\n        if ($def_vals[$num] && $def_vals[$num] != ''null'') {\r\n            $ins_arr[$field_name] = $def_vals[$num];\r\n        } else {\r\n            if (is_int($cur_fields[$num])) $cur_field_name = form_int_name($cur_fields[$num]); else $cur_field_name = $cur_fields[$num];\r\n            if (is_array($line[$cur_field_name])) {\r\n                $ins_arr[$field_name] = $line[$cur_field_name][''raw''];\r\n            } else {\r\n                $ins_arr[$field_name] = $line[$cur_field_name];\r\n            }\r\n        }\r\n    }\r\n    if (count($ins_arr) > 0) {\r\n        if ($new_id = data_insert($sel_table, EVENTS_ENABLE, $ins_arr)) {\r\n{if $correlation[''save_field'']}\r\n            $line[''f{$correlation[''save_field'']}''] = $new_id;\r\n            data_update($table_id, EVENTS_ENABLE, [''f{$correlation[''save_field'']}'' => $new_id], ''id = '' . $ID);\r\n{/if}\r\n            // сохраняем файлы на диске\r\n            foreach ($sel_fields as $num => $field_id) {\r\n                if (!$def_vals[$num]) {\r\n                    $cur_field_name = form_int_name($cur_fields[$num]);\r\n                    $field_row = sql_select_array(FIELDS_TABLE, ''id = '' . $field_id);\r\n                    if ($field_row[''type_field''] == 6 || $field_row[''type_field''] == 9) { \r\n                        $user_agent = $_SERVER["HTTP_USER_AGENT"];\r\n                        if (strpos($user_agent, "MSIE") !== false) {      \r\n                            $exp = "\\n\\r";      \r\n                        } else {         \r\n                            $exp = "\\r\\n";    \r\n                        }   \r\n                        $files = explode($exp, $line[$cur_field_name]);      \r\n                        foreach ($files as $fname) {        \r\n                            $orig_fpath = get_file_path($cur_fields[$num], $line[''id''], $fname); \r\n                            save_data_file($field_id, $new_id, $fname, file_get_contents($orig_fpath));  \r\n                        }\r\n                    }      \r\n                }\r\n            }\r\n        } \r\n    }\r\n}', '{\r\n    "title": "Копировать запись",\r\n    "help": "tpl_copy_line",\r\n    "parameters": {\r\n        "correlation": {\r\n            "type": "Correlation",\r\n            "name": "correlation",\r\n            "description": "Таблица-получатель",\r\n            "help": "tpl_table_copy_line",\r\n            "save_field": true\r\n        },\r\n        "addit": {\r\n            "type": "List",\r\n            "name": "addit",\r\n            "description": "Опция",\r\n            "help": "tpl_help",\r\n            "default_value": "stop",\r\n            "values": {\r\n              "go_edit": "Переходить на созданную запись в режиме редактирования",\r\n              "go": "Переходить на созданную запись",\r\n              "stop": "Оставаться в текущей записи"\r\n            }\r\n        }\r\n    }\r\n}', 'calc', 'copy_line.tpl', '', 7, '[1]', 4);
insert into `f_calc_template` values (79, 'Очистить поле', '{if $field1_type eq "5" || $field1_type eq 1 || $field1_type eq 7}\n    $line[''{$field1}''] = 0;\n{else}\n    $line[''{$field1}''] = '''';\n{/if}', '{\n    "title": "Очистить поле",\n    "help": "tpl_clear_field",\n    "parameters": {\n        "field1": {\n            "type": "Field",\n            "name": "field1",\n            "description": "Выберите поле",\n            "no_system": true,\n            "help": "tpl_clear_field"\n        }\n    },\n    "events": [\n        {\n            "type": 1,\n            "field": ""\n        }\n    ]\n}', 'calc', 'field_clearing.tpl', '', 1, '[1]', 3);
insert into `f_calc_template` values (80, 'Отправить шаблон смс рассылки', '$true = send_template({$send_tpl}, "id = " . $line[''id'']);\r\n if ($true) {\r\n    $display_message .= $lang[''Mailer_started''] ." <a style=''font-size:16px;'' href=edit_smsing.php>";\r\n    $display_message .= $lang[''Active_mailer''] . "</a>";\r\n    display_notification($display_message, 1);\r\n}', '{\r\n    "title": "Отправить шаблон рассылки",\r\n    "help": "tpl_send",\r\n    "parameters": {\r\n        "send_tpl": {\r\n            "type": "Template",\r\n            "name": "send_tpl",\r\n            "description": "Шаблон смс рассылки",\r\n            "tpl_type": "sms",\r\n            "help": "tpl_send_sms_template"\r\n        }\r\n    }\r\n}', 'calc', 'tpl_send_sms.tpl', '', 4, '[1]', 2);
insert into `f_calc_template` values (81, 'Отправить шаблон смс рассылки', '$true = send_template({$send_tpl}, "id = " . $line[''id'']);\r\n if ($true) {\r\n    $display_message .= $lang[''Mailer_started''] ." <a style=''font-size:16px;'' href=edit_smsing.php>";\r\n    $display_message .= $lang[''Active_mailer''] . "</a>";\r\n    display_notification($display_message, 1);\r\n}', '{\r\n    "title": "Отправить шаблон рассылки",\r\n    "help": "tpl_send",\r\n    "parameters": {\r\n        "send_tpl": {\r\n            "type": "Template",\r\n            "name": "send_tpl",\r\n            "description": "Шаблон смс рассылки",\r\n            "tpl_type": "sms",\r\n            "help": "tpl_send_sms_template"\r\n        }\r\n    }\r\n}', 'button', 'tpl_send_sms.tpl', '', 4, '[]', 2);
insert into `f_calc_template` values (82, 'Дата: Вычислить день недели', 'if ($line[''{$cur_field}''] == ''0000-00-00 00:00:00''){\r\n    $line[''{$put_field}''] = '''';\r\n} else {\r\n    $week_name = [\r\n        ''Воскресенье'',\r\n        ''Понедельник'',\r\n        ''Вторник'',\r\n        ''Среда'',\r\n        ''Четверг'',\r\n        ''Пятница'',\r\n        ''Суббота'',\r\n    ];\r\n    $week_day = date(''w'', strtotime($line[''{$cur_field}'']));\r\n    $line[''{$put_field}''] = $week_name[$week_day];\r\n}', '{\r\n    "title": "Дата: Вычислить день недели",\r\n    "help": "761",\r\n    "parameters": {\r\n        "cond_field": {\r\n            "type": "Field",\r\n            "name": "cur_field",\r\n            "type_field": [2,12],\r\n            "description": "Выберите поле, из которого будет тянуться дата",\r\n            "help": "762"\r\n        },\r\n        "put_field": {\r\n            "type": "Field",\r\n            "name": "put_field",\r\n            "description": "Выберите поле, которое должно быть заполнено данными",\r\n            "no_system": true,\r\n            "help": "763"\r\n        }\r\n    },\r\n    "events": [\r\n        {\r\n            "type": 3,\r\n            "field": "cur_field"\r\n        }\r\n    ]\r\n}', 'calc', 'week_day.tpl', '', 1, '[1]', 11);
insert into `f_calc_template` values (83, 'Текст: Обработка ФИО', '$array = explode(" ", $line[''{$field1}'']);\n$name1 = '''';\n$name2 = '''';\n$surname = '''';\n$i = 0;\n$sex = 0;\n$lit_sname = {literal}''{Фамилия}''{/literal};\n$lit_sname_s = {literal}''{Ф}''{/literal};\n$lit_name1 = {literal}''{Имя}''{/literal};\n$lit_name1_s = {literal}''{И}''{/literal};\n$lit_name2 = {literal}''{Отчество}''{/literal};\n$lit_name2_s = {literal}''{О}''{/literal};\n$pattern = ''{$flex_data}'';\nif (count($array) > 1){\n // определение поля по отчеству\n foreach($array as $value){\n  if (mb_strlen($value )> 2){\n   $s1 = mb_substr($value,-3);\n   if ($s1 == ''вна'' || $s1 == ''чна''){\n    $sex = 2;\n    break;\n   }\n   elseif ($s1 == ''вич'' || $s1 == ''ьич''){\n    $sex = 1;\n   }\n  }\n }\n $ich = 0;\n // количество вхождений -ич\n foreach($array as $value){\n  if (mb_strlen($value )> 2){\n   if (mb_substr($value,-2) == ''ич''){\n    $ich++;\n   }\n  }\n }\n // определение фамилии\n foreach($array as $value){\n  if (empty($surname) && mb_strlen($value) > 2){\n   $s1 = mb_substr($value,-2);\n   $s2 = '''';\n   if (mb_strlen($value) > 2){\n    $s2 = mb_substr($value,-3);\n   }\n   $s3 = '''';\n   if (mb_strlen($value) > 3){\n    $s3 = mb_substr($value,-4);\n   }\n   if ($s1 == ''ин'' || $s1 == ''ев'' || $s1 == ''ов'' || $s1 == ''ан'' || $s1 == ''ын'' || $s1 == ''ых'' || $s1 == ''ян'' || $s1 == ''ко'' || $s1 == ''ук'' || $s1 == ''ик'' || $s1 == ''те'' || $s1 == ''ни'' || $s1 == ''юк''\n    || $s2 == ''ина'' || $s2 == ''ына'' || $s2 == ''ева'' || $s2 == ''ова'' || $s2 == ''янц'' || $s2 == ''нок'' || $s2 == ''дзе'' || $s2 == ''ава'' || $s2 == ''сон''\n    || $s3 == ''ских'' || $s3 == ''ский'' || $s3 == ''ская'' || $s3 == ''тейн'' || $s3 == ''блюм'' || $s3 == ''баум'' || $s3 == ''берг'' || $s3 == ''вили'' || $s3 == ''заде'' || $s3 == ''оглу''){\n    $surname = $value;\n    $i++;\n    break;\n   }\n   elseif ($s1 == ''ич'' && (($ich == 1 && $sex == 2) || ($ich == 2 && $sex == 1))){\n    $surname = $value;\n    $i++;\n    break;\n   }\n  }\n }\n // определение отчества\n foreach($array as $value){\n  if ($value != $surname && empty($name2) && mb_strlen($value )> 3){\n   $s1 = mb_substr($value,-3);\n   if ($s1 == ''вич'' || $s1 == ''ьич'' || $s1 == ''вна'' || $s1 == ''чна''){\n    $name2 = $value;\n    $i++;\n    break;\n   }\n  }\n }\n // определение имени\n if (count($array) > $i){\n  foreach($array as $value){\n   if ($value != $name2 && $value != $surname){\n    $name1 = $value;\n    $i++;\n    break;\n   }\n  }\n }\n // допределение фамилии\n if (count($array) > $i){\n  foreach($array as $value){\n   if ($value != $name1 && $value != $name2){\n    $surname = $value;\n    break;\n   }\n  }\n }\n}\nelse{\n $surname = $line[''{$field1}''];\n}\n// падеж\n$case = ''{$case_value}'';\n// падеж для полной фамилии\nif (!empty($surname) && $sex > 0 && $case != ''1'' && mb_strpos($pattern, $lit_sname) !== false){\n $s1 = mb_substr($surname,-2);\n if ($sex == 1) {\n  switch ($case) {\n   case ''2'':\n    if ($s1 == ''ов'' || $s1 == ''ев'' || $s1 == ''ин'' || $s1 == ''ын'' || $s1 == ''ых'' || $s1 == ''ан'' || $s1 == ''ян'' || $s1 == ''нц'' || $s1 == ''ик'' || $s1 == ''ук'' || $s1 == ''юк'' \n     || $s1 == ''он'' || $s1 == ''йн'' || $s1 == ''юм'' || $s1 == ''ич'' || $s1 == ''рг'' ){\n     $surname = $surname . ''а'';\n    }\n    elseif ($s1 == ''ий''){\n     $surname = mb_substr($surname, 0, -2) . ''ого'';\n    }\n    break;\n   case ''3'':\n    if ($s1 == ''ов'' || $s1 == ''ев'' || $s1 == ''ин'' || $s1 == ''ын'' || $s1 == ''ых'' || $s1 == ''ан'' || $s1 == ''ян'' || $s1 == ''нц'' || $s1 == ''ик'' || $s1 == ''ук'' || $s1 == ''юк'' \n     || $s1 == ''он'' || $s1 == ''йн'' || $s1 == ''юм'' || $s1 == ''ич'' || $s1 == ''рг'' ){\n     $surname = $surname . ''у'';\n    }\n    elseif ($s1 == ''ий''){\n     $surname = mb_substr($surname, 0, -2) . ''ому'';\n    }\n    break;\n   case ''4'':\n    if ($s1 == ''ов'' || $s1 == ''ев'' || $s1 == ''ин'' || $s1 == ''ын'' || $s1 == ''ых'' || $s1 == ''ан'' || $s1 == ''ян'' || $s1 == ''нц'' || $s1 == ''ик'' || $s1 == ''ук'' || $s1 == ''юк'' \n     || $s1 == ''он'' || $s1 == ''йн'' || $s1 == ''юм'' || $s1 == ''ич'' || $s1 == ''рг'' ){\n     $surname = $surname . ''а'';\n    }\n    elseif ($s1 == ''ий''){\n     $surname = mb_substr($surname, 0, -2) . ''ого'';\n    }\n    break;\n   case ''5'':\n    if ($s1 == ''ов'' || $s1 == ''ев'' || $s1 == ''ин'' || $s1 == ''ын''){\n     $surname = $surname . ''ым'';\n    }\n    elseif ($s1 == ''ян'' || $s1 == ''ан'' || $s1 == ''юк'' || $s1 == ''ук'' || $s1 == ''юм'' || $s1 == ''ик'' || $s1 == ''он'' || $s1 == ''йн'' || $s1 == ''рг''){\n     $surname = $surname . ''ом'';\n    }\n    elseif ($s1 == ''ич'' || $s1 == ''нц''){\n     $surname = $surname . ''ем'';\n    }\n    elseif ($s1 == ''ий''){\n     $surname = mb_substr($surname, 0, -2) . ''им'';\n    }\n    break;\n   case ''6'':\n    if ($s1 == ''ов'' || $s1 == ''ев'' || $s1 == ''ин'' || $s1 == ''ын'' || $s1 == ''ых'' || $s1 == ''ан'' || $s1 == ''ян'' || $s1 == ''нц'' || $s1 == ''ик'' || $s1 == ''ук'' || $s1 == ''юк'' \n     || $s1 == ''он'' || $s1 == ''йн'' || $s1 == ''юм'' || $s1 == ''ич'' || $s1 == ''рг'' ){\n     $surname = $surname . ''е'';\n    }\n    elseif ($s1 == ''ий''){\n     $surname = mb_substr($surname, 0, -2) . ''ом'';\n    }\n    break;\n  }\n }\n else {\n  if ($case == ''4'') {\n   if ($s1 == ''ва'' || $s1 == ''на''){\n    $surname = mb_substr($surname, 0, -1) . ''у'';\n   }\n   elseif ($s1 == ''ая''){\n    $surname = mb_substr($surname, 0, -2) . ''ую'';\n   }\n  }\n  else {\n   if ($s1 == ''ва'' || $s1 == ''на''){\n    $surname = mb_substr($surname, 0, -1) . ''ой'';\n   }\n   elseif ($s1 == ''ая''){\n    $surname = mb_substr($surname, 0, -2) . ''ой'';\n   }\n  }\n }\n}\n// падеж для полного имени\nif (!empty($name1) && $case != ''1'' && $sex > 0 && mb_strpos($pattern, $lit_name1) !== false){\n $s1 = mb_substr($name1,-1);\n if ($sex == 1) {\n  if ($s1 === ''й'' || $s1 === ''ь'') {\n   switch ($case) {\n    case ''2'':\n    case ''4'':\n     $name1 = mb_substr($name1, 0, -1) . ''я'';\n     break;\n    case ''3'':\n     $name1 = mb_substr($name1, 0, -1) . ''ю'';\n     break;\n    case ''5'':\n     $name1 = mb_substr($name1, 0, -1) . ''ем'';\n     break;\n    case ''6'':\n     if (mb_substr($name1,-2) === ''ий''){ \n      $name1 = mb_substr($name1, 0, -1) . ''и'';\n     }\n     else {\n      $name1 = mb_substr($name1, 0, -1) . ''е'';\n     }\n     break;\n   }\n  }\n  elseif ($s1 === ''я'') {\n   switch ($case) {\n    case ''2'':\n     $name1 = mb_substr($name1, 0, -1) . ''и'';\n     break;\n    case ''3'':\n    case ''6'':\n     $name1 = mb_substr($name1, 0, -1) . ''е'';\n     break;\n    case ''4'':\n     $name1 = mb_substr($name1, 0, -1) . ''ю'';\n     break;\n    case ''5'':\n     $name1 = mb_substr($name1, 0, -1) . ''ёй'';\n     break;\n   }\n  }\n  elseif ($s1 === ''л'') {\n   switch ($case) {\n    case ''2'':\n    case ''4'':\n     $name1 = mb_substr($name1, 0, -2) . ''ла'';\n     break;\n    case ''3'':\n     $name1 = mb_substr($name1, 0, -2) . ''лу'';\n     break;\n    case ''5'':\n     $name1 = mb_substr($name1, 0, -2) . ''лом'';\n     break;\n    case ''6'':\n     $name1 = mb_substr($name1, 0, -2) . ''ле'';\n     break;\n   }\n  }\n  else {\n   switch ($case) {\n    case ''2'':\n    case ''4'':\n     $name1 = $name1 . ''а'';\n     break;\n    case ''3'':\n     $name1 = $name1 . ''у'';\n     break;\n    case ''5'':\n     $name1 = $name1 . ''ом'';\n     break;\n    case ''6'':\n     $name1 = $name1 . ''е'';\n     break;\n   }\n  }\n }\n else {\n  if ($s1 === ''я'') {\n   switch ($case) {\n    case ''2'':\n    case ''3'':\n    case ''6'':\n     $name1 = mb_substr($name1, 0, -1) . ''и'';\n     break;\n    case ''4'':\n     $name1 = mb_substr($name1, 0, -1) . ''ю'';\n     break;\n    case ''5'':\n     $name1 = mb_substr($name1, 0, -1) . ''ей'';\n     break;\n   }\n  }\n  elseif ($s1 === ''ь'') {\n   switch ($case) {\n    case ''2'':\n    case ''3'':\n    case ''6'':\n     $name1 = mb_substr($name1, 0, -1) . ''и'';\n     break;\n     break;\n    case ''5'':\n     $name1 = $name1 . ''ю'';\n     break;\n   }\n  }\n  else {\n   switch ($case) {\n    case ''2'':\n     $name1 = mb_substr($name1, 0, -1) . ''ы'';\n     break;\n    case ''3'':\n    case ''6'':\n     $name1 = mb_substr($name1, 0, -1) . ''е'';\n     break;\n    case ''4'':\n     $name1 = mb_substr($name1, 0, -1) . ''у'';\n     break;\n    case ''5'':\n     $name1 = mb_substr($name1, 0, -1) . ''ой'';\n     break;\n   }\n  }\n }\n}\n// падеж для полного отчества\nif (!empty($name2) && $case != ''1'' && mb_strpos($pattern, $lit_name2) !== false){\n $s1 = mb_substr($name2,-2);\n switch ($case) {\n  case ''2'':\n   if ($s1 == ''ич''){\n    $name2 = $name2 . ''а'';\n   }\n   elseif ($s1 == ''на''){\n    $name2 = mb_substr($name2, 0, -1) . ''ы'';\n   }\n   break;\n  case ''3'':\n   if ($s1 == ''ич''){\n    $name2 = $name2 . ''у'';\n   }\n   elseif ($s1 == ''на''){\n    $name2 = mb_substr($name2, 0, -1) . ''е'';\n   }\n   break;\n  case ''4'':\n   if ($s1 == ''ич''){\n    $name2 = $name2 . ''а'';\n   }\n   elseif ($s1 == ''на''){\n    $name2 = mb_substr($name2, 0, -1) . ''у'';\n   }\n   break;\n  case ''5'':\n   if ($s1 == ''ич''){\n    $name2 = $name2 . ''ем'';\n   }\n   elseif ($s1 == ''на''){\n    $name2 = mb_substr($name2, 0, -1) . ''ой'';\n   }\n   break;\n  case ''6'':\n   if ($s1 == ''ич''){\n    $name2 = $name2 . ''е'';\n   }\n   elseif ($s1 == ''на''){\n    $name2 = mb_substr($name2, 0, -1) . ''е'';\n   }\n   break;\n }\n}\n// шаблон\n$s = $pattern;\nif (mb_strpos($s, $lit_sname) !== false){\n $s = str_replace($lit_sname, $surname, $s);\n}\nif (mb_strpos($s, $lit_sname_s) !== false){\n $s = str_replace($lit_sname_s, mb_substr($surname,0,1), $s);\n}\nif (mb_strpos($s, $lit_name1) !== false){\n $s = str_replace($lit_name1, $name1, $s);\n}\nif (mb_strpos($s, $lit_name1_s) !== false){\n $s = str_replace($lit_name1_s, mb_substr($name1,0,1), $s);\n}\nif (mb_strpos($s, $lit_name2) !== false){\n $s = str_replace($lit_name2, $name2, $s);\n}\nif (mb_strpos($s, $lit_name2_s) !== false){\n $s = str_replace($lit_name2_s, mb_substr($name2,0,1), $s);\n}\n$line[''{$result}''] = $s;\n', '{\n     "title": "Текст: Обработка ФИО",\n     "help": "764",\n     "parameters": {\n         "field1": {\n             "type": "Field",\n             "name": "field1",\n             "description": "Выберите поле с ФИО",\n             "type_field": 3,\n             "help": "765"\n         },\n         "func_row": {\n             "type": "String",\n             "name": "func_row",\n             "description": "Поле записи шаблона",\n             "textarea": true,\n             "help": "767"\n         },\n         "result": {\n             "type": "Field",\n             "name": "result",\n             "description": "Выберите поле записи результата",\n             "type_field": 3,\n             "help": "766"\n         },\n        "put_value": {\n            "type": "List",\n            "name": "case_value",\n            "values":{"1":"Именительный","2":"Родительный","3":"Дательный","4":"Винительный","5":"Творительный","6":"Предложный"},\n            "description": "Выберите падеж",\n            "help": "768"\n        },\n         "flex_data": {\n             "type": "String",\n             "name": "flex_data",\n             "description": "",\n             "help": "tpl_flex_string"\n         }\n     },\n    "events": [\n        {\n            "type": 3,\n            "field": "field1"\n        }\n    ]\n}', 'calc', 'fio_processing.tpl', '', 1, '[1]', 7);
insert into `f_calc_template` values (84, 'Дата: Разница между датами', 'if ($line[''{$field}''] == ''0000-00-00 00:00:00'' || $line[''{$field1}''] == ''0000-00-00 00:00:00''){\r\n    $line[''{$value}''] = 0;\r\n} else {\r\n{if $case_type == 2}\r\n    $datetime1 = strtotime($line[''{$field}'']);\r\n    $datetime2 = strtotime($line[''{$field1}'']);\r\n    $interval = $datetime2 - $datetime1;\r\n{if $case_measure == 1}\r\n    $total = $interval;\r\n{elseif $case_measure == 2}\r\n    $total = $interval / 60;\r\n{elseif $case_measure == 3}\r\n    $total = $interval / 3600;\r\n{elseif $case_measure == 4}\r\n    $total = $interval / (3600 * 24);\r\n{elseif $case_measure == 5}\r\n    $total = $interval / (3600 * 24 * 7);\r\n{elseif $case_measure == 6}\r\n    $total = $interval / (3600 * 24 * 30);\r\n{elseif $case_measure == 7}\r\n    $total = $interval / (3600 * 24 * 365.25);\r\n{/if}\r\n    $line[''{$value}''] = round($total, {$decimal_places|default:0}, PHP_ROUND_HALF_DOWN);\r\n{else}\r\n    $datetime1 = date_create($line[''{$field}'']);\r\n    $datetime2 = date_create($line[''{$field1}'']);\r\n    $interval = date_diff($datetime1, $datetime2);\r\n    $date = $interval->format(''%a д. %H ч. %I м.'');\r\n    $result = str_replace(''0 д.,'', '''', $date);\r\n    $result = str_replace(''0 м.,'', '''', $result);\r\n    $result = str_replace(''0 ч.,'', '''', $result);\r\n    $line[''{$value}''] = $result;\r\n{/if}\r\n}', '{\r\n    "title": "Дата: Разница между датами",\r\n    "help": "tpl_diff_dates",\r\n    "parameters": {\r\n        "field": {\r\n            "type": "Field",\r\n            "name": "field",\r\n            "type_field": [2,12],\r\n            "description": "Выберите поле первой даты",\r\n            "help": "tpl_first_field"\r\n        },\r\n        "field1": {\r\n            "type": "Field",\r\n            "name": "field1",\r\n            "type_field": [2,12],\r\n            "description": "Выберите поле второй даты",\r\n            "help": "tpl_second_field"\r\n        },\r\n        "case_type": {\r\n            "type": "List",\r\n            "name": "case_type",\r\n            "values":{"1":"Текст","2":"Число"},\r\n            "description": "Записывать результат в виде",\r\n            "help": "tpl_to_field"\r\n },\r\n        "value": {\r\n            "type": "Field",\r\n            "name": "value",\r\n            "type_field": [1,3],\r\n            "description": "Выберите поле, в которое сохранять значение",\r\n            "no_system": true,\r\n            "help": "tpl_to_field"\r\n        },\r\n        "case_measure": {\r\n            "type": "List",\r\n            "name": "case_measure",\r\n            "values":{"1":"Секунд","2":"Минут","3":"Часов","4":"Дней","5":"Недель","6":"Месяцев","7":"Лет"},\r\n            "description": "Выберите единицу измерения",\r\n            "help": "tpl_to_field"\r\n },\r\n         "decimal_places": {\r\n            "type": "String",\r\n            "name": "decimal_places",\r\n            "description": "Знаков после запятой",\r\n            "help": "tpl_to_field"\r\n        }\r\n   },\r\n    "events": [\r\n        {\r\n            "type": 3,\r\n            "field": "field"\r\n        },\r\n        {\r\n            "type": 3,\r\n            "field": "field1"\r\n        }\r\n    ]\r\n}', 'calc', 'date_diff.tpl', '', 1, '[1]', 10);
insert into `f_calc_template` values (85, 'Изменить поле', '{if $put_field_type eq 2}\r\n{if $case_type eq 2}\r\n$line[''{$put_field.field}''] = date(''Y-m-d H:i:s'');\r\n{else}\r\n$line[''{$put_field.field}''] = date(''Y-m-d H:i:s'', strtotime(''{$put_field.set_value}''));\r\n{/if}\r\n{else}\r\n$line[''{$put_field.field}''] = ''{$put_field.set_value}'';\r\n{/if}', '{\r\n    "title": "Изменить поле",\r\n    "help": "tpl_field_change",\r\n    "parameters": {\r\n        "put_field": {\r\n            "type": "Field",\r\n            "name": "put_field",\r\n            "description": "Выберите поле для замены значения",\r\n            "no_system": true,\r\n            "help": "tpl_put_field",\r\n            "set_value": "true",\r\n            "set_value_description": "Введите значение, которое должно быть присвоено полю",\r\n            "set_help": "tpl_set_value"\r\n        },\r\n        "case_type": {\r\n            "type": "List",\r\n            "name": "case_type",\r\n            "values": {"1": "Ввод даты", "2": "Текущая дата"},\r\n            "description": "Вариант ввода",\r\n            "help": "tpl_to_field"\r\n        }\r\n    },\r\n    "events": [\r\n        {\r\n            "type": 1,\r\n            "field": ""\r\n        }\r\n    ]\r\n}', 'calc', 'field_change.tpl', '', 1, '[1]', 2);
insert into `f_calc_template` values (86, 'Дата: Изменить дату', '$orig_date = strtotime($line[''{$cur_field1}'']);\r\n$number = {if $number_value}{$number_value}{else}$line[''{$cur_field2}'']{/if};\r\n{if $case_measure == 1}\r\n$new_date = $orig_date {$operand} $number;\r\n{elseif $case_measure == 2}\r\n$new_date = $orig_date {$operand} $number * 60;\r\n{elseif $case_measure == 3}\r\n$new_date = $orig_date {$operand} $number * 3600;\r\n{elseif $case_measure == 4}\r\n$new_date = $orig_date {$operand} $number * 3600 * 24;\r\n{elseif $case_measure == 5}\r\n$new_date = $orig_date {$operand} $number * 3600 * 24 * 7;\r\n{elseif $case_measure == 6}\r\n$new_date = mktime(date(''H'', $orig_date), date(''i'', $orig_date), date(''s'', $orig_date), date(''n'', $orig_date) {$operand} $number, date(''j'', $orig_date), date(''Y'', $orig_date));\r\n{elseif $case_measure == 7}\r\n$new_date = mktime(date(''H'', $orig_date), date(''i'', $orig_date), date(''s'', $orig_date), date(''n'', $orig_date), date(''j'', $orig_date), date(''Y'', $orig_date) {$operand} $number);\r\n{/if}\r\n$line[''{$cur_field3}''] = date(''Y-m-d H:i:s'', $new_date);', '{\r\n    "title": "Дата: Изменить дату",\r\n    "help": "tpl_add_to_date",\r\n    "parameters": {\r\n        "cur_field1": {\r\n            "type": "Field",\r\n            "name": "cur_field1",\r\n            "description": "Выберите исходную дату",\r\n            "type_field": [2,12],\r\n            "help": "tpl_date_field"\r\n        },\r\n        "operand": {\r\n            "type": "List",\r\n            "name": "operand",\r\n            "description": "Выберите опцию",\r\n            "values": {\r\n              "+": "Прибавить",\r\n              "-": "Отнять"\r\n            },\r\n            "help": "tpl_option"\r\n        },\r\n         "number_value": {\r\n            "type": "String",\r\n            "name": "number_value",\r\n            "description": "Выберите число",\r\n            "help": "tpl_to_field"\r\n        },\r\n        "cur_field2": {\r\n            "type": "Field",\r\n            "name": "cur_field2",\r\n            "description": "либо Выберите поле с числом",\r\n            "type_field": 1,\r\n            "help": "tpl_sel_field"\r\n        },\r\n        "case_measure": {\r\n            "type": "List",\r\n            "name": "case_measure",\r\n            "values":{"1":"Секунд","2":"Минут","3":"Часов","4":"Дней","5":"Недель","6":"Месяцев","7":"Лет"},\r\n            "description": "Выберите единицу измерения",\r\n            "help": "tpl_to_field"\r\n },\r\n        "cur_field3": {\r\n            "type": "Field",\r\n            "name": "cur_field3",\r\n            "description": "Выберите поле для записи результата",\r\n            "type_field": 2,\r\n            "help": "tpl_result_field"\r\n        }\r\n    },\r\n    "events": [\r\n        {\r\n            "type": 3,\r\n            "field": "cur_field1"\r\n        },\r\n        {\r\n            "type": 3,\r\n            "field": "cur_field2"\r\n        }\r\n    ]\r\n}', 'calc', 'date_change.tpl', '', 1, '[1]', 9);
insert into `f_calc_template` values (87, 'Изменить поле в связанной таблице', '$line[''{$gen_field.link_field_id}''][''{$gen_field.field}''] = ''{$gen_field.set_value}'';', '{\r\n    "title": "Изменить поле в связанной таблице",\r\n    "help": "tpl_link_to_table",\r\n    "parameters": {\r\n        "gen_field": {\r\n            "type": "TableField",\r\n            "name": "gen_field",\r\n            "description": "Выберите таблицу, в которое сохранять",\r\n            "field_description": "Выберите поле, в которое сохранять",\r\n            "only_parent": "true",\r\n            "help": "tpl_to_table",\r\n            "field_help": "tpl_to_field",\r\n            "set_value": "true",\r\n            "set_value_description": "Введите значение, которое должно быть присвоено полю",\r\n            "set_help": "tpl_set_value"\r\n        }\r\n    },\r\n    "events": [\r\n        {\r\n            "type": 1,\r\n            "field": ""\r\n        }\r\n    ]\r\n}', 'calc', 'link_table_change.tpl', '', 3, '[1]', 3);
insert into `f_calc_template` values (88, 'Изменить поле в связанной таблице', '$line[''{$gen_field.link_field_id}''][''{$gen_field.field}''] = ''{$gen_field.set_value}'';', '{\r\n    "title": "Изменить поле в связанной таблице",\r\n    "help": "tpl_link_to_table",\r\n    "parameters": {\r\n        "gen_field": {\r\n            "type": "TableField",\r\n            "name": "gen_field",\r\n            "description": "Выберите таблицу, в которое сохранять",\r\n            "field_description": "Выберите поле, в которое сохранять",\r\n            "only_parent": "true",\r\n            "help": "tpl_to_table",\r\n            "field_help": "tpl_to_field",\r\n            "set_value": "true",\r\n            "set_value_description": "Введите значение, которое должно быть присвоено полю",\r\n            "set_help": "tpl_set_value"\r\n        }\r\n    }\r\n}', 'button', 'link_table_change.tpl', '', 3, '[]', 3);
insert into `f_calc_template` values (89, 'Дата: Вычислить день недели', 'if ($line[''{$cur_field}''] == ''0000-00-00 00:00:00''){\r\n    $line[''{$put_field}''] = '''';\r\n} else {\r\n    $week_name = [\r\n        ''Воскресенье'',\r\n        ''Понедельник'',\r\n        ''Вторник'',\r\n        ''Среда'',\r\n        ''Четверг'',\r\n        ''Пятница'',\r\n        ''Суббота'',\r\n    ];\r\n    $week_day = date(''w'', strtotime($line[''{$cur_field}'']));\r\n    $line[''{$put_field}''] = $week_name[$week_day];\r\n}', '{\r\n    "title": "Дата: Вычислить день недели",\r\n    "help": "761",\r\n    "parameters": {\r\n        "cond_field": {\r\n            "type": "Field",\r\n            "name": "cur_field",\r\n            "type_field": [2,12],\r\n            "description": "Выберите поле, из которого будет тянуться дата",\r\n            "help": "762"\r\n        },\r\n        "put_field": {\r\n            "type": "Field",\r\n            "name": "put_field",\r\n            "description": "Выберите поле, которое должно быть заполнено данными",\r\n            "no_system": true,\r\n            "help": "763"\r\n        }\r\n    }\r\n}', 'button', 'week_day.tpl', '', 1, '[]', 11);
insert into `f_calc_template` values (90, 'Дата: Копировать дату или время', 'if(''{$put_value}'' == 1){\r\n    $line[''{$put_field}''] = date(''d.m.Y'', strtotime($line[''{$cond_field}'']));\r\n} else if(''{$put_value}'' == 2){\r\n    $line[''{$put_field}''] = date(''H:i:s'', strtotime($line[''{$cond_field}'']));\r\n}', '{\r\n    "title": "Дата: Копировать дату или время",\r\n    "help": "tpl_date_to_field",\r\n    "parameters": {\r\n        "cond_field": {\r\n            "type": "Field",\r\n            "name": "cond_field",\r\n            "type_field": [2,12],\r\n            "description": "Выберите поле, из которого будут тянутся данные",\r\n            "help": "tpl_source_field"\r\n        },\r\n        "put_field": {\r\n            "type": "Field",\r\n            "name": "put_field",\r\n            "type_field": "3",\r\n            "description": "Выберите поле, которое должно быть заполнено данными",\r\n            "no_system": true,\r\n            "help": "tpl_to_field"\r\n        },\r\n        "put_value": {\r\n            "type": "List",\r\n            "name": "put_value",\r\n            "values":{"1":"Дата","2":"Время"},\r\n            "description": "Выберите данные, которые должны быть переданы",\r\n            "help": "tpl_list_field"\r\n        }\r\n    }\r\n}', 'button', 'copy_date.tpl', '', 1, '[]', 12);
insert into `f_calc_template` values (91, 'Дата: Разница между датами', 'if ($line[''{$field}''] == ''0000-00-00 00:00:00'' || $line[''{$field1}''] == ''0000-00-00 00:00:00''){\r\n    $line[''{$value}''] = 0;\r\n} else {\r\n{if $case_type == 2}\r\n    $datetime1 = strtotime($line[''{$field}'']);\r\n    $datetime2 = strtotime($line[''{$field1}'']);\r\n    $interval = $datetime2 - $datetime1;\r\n{if $case_measure == 1}\r\n    $total = $interval;\r\n{elseif $case_measure == 2}\r\n    $total = $interval / 60;\r\n{elseif $case_measure == 3}\r\n    $total = $interval / 3600;\r\n{elseif $case_measure == 4}\r\n    $total = $interval / (3600 * 24);\r\n{elseif $case_measure == 5}\r\n    $total = $interval / (3600 * 24 * 7);\r\n{elseif $case_measure == 6}\r\n    $total = $interval / (3600 * 24 * 30);\r\n{elseif $case_measure == 7}\r\n    $total = $interval / (3600 * 24 * 365.25);\r\n{/if}\r\n    $line[''{$value}''] = round($total, {$decimal_places|default:0}, PHP_ROUND_HALF_DOWN);\r\n{else}\r\n    $datetime1 = date_create($line[''{$field}'']);\r\n    $datetime2 = date_create($line[''{$field1}'']);\r\n    $interval = date_diff($datetime1, $datetime2);\r\n    $date = $interval->format(''%a д. %H ч. %I м.'');\r\n    $result = str_replace(''0 д.,'', '''', $date);\r\n    $result = str_replace(''0 м.,'', '''', $result);\r\n    $result = str_replace(''0 ч.,'', '''', $result);\r\n    $line[''{$value}''] = $result;\r\n{/if}\r\n}', '{\r\n    "title": "Дата: Разница между датами",\r\n    "help": "tpl_diff_dates",\r\n    "parameters": {\r\n        "field": {\r\n            "type": "Field",\r\n            "name": "field",\r\n            "type_field": [2,12],\r\n            "description": "Выберите поле первой даты",\r\n            "help": "tpl_first_field"\r\n        },\r\n        "field1": {\r\n            "type": "Field",\r\n            "name": "field1",\r\n            "type_field": [2,12],\r\n            "description": "Выберите поле второй даты",\r\n            "help": "tpl_second_field"\r\n        },\r\n        "case_type": {\r\n            "type": "List",\r\n            "name": "case_type",\r\n            "values":{"1":"Текст","2":"Число"},\r\n            "description": "Записывать результат в виде",\r\n            "help": "tpl_to_field"\r\n },\r\n        "value": {\r\n            "type": "Field",\r\n            "name": "value",\r\n            "type_field": [1,3],\r\n            "description": "Выберите поле, в которое сохранять значение",\r\n            "no_system": true,\r\n            "help": "tpl_to_field"\r\n        },\r\n        "case_measure": {\r\n            "type": "List",\r\n            "name": "case_measure",\r\n            "values":{"1":"Секунд","2":"Минут","3":"Часов","4":"Дней","5":"Недель","6":"Месяцев","7":"Лет"},\r\n            "description": "Выберите единицу измерения",\r\n            "help": "tpl_to_field"\r\n },\r\n         "decimal_places": {\r\n            "type": "String",\r\n            "name": "decimal_places",\r\n            "description": "Знаков после запятой",\r\n            "help": "tpl_to_field"\r\n        }\r\n   }\r\n}', 'button', 'date_diff.tpl', '', 1, '[]', 10);
insert into `f_calc_template` values (92, 'Количество записей в подтаблице', '$filter = sql_select_array(FILTERS_TABLE, ''id = '', get_filter_id({$filter|default:0}));\r\n$result = data_select_field(\r\n    $table_id,\r\n    ''COUNT(id) AS cnt'',\r\n    ''status = 0'' . ($event[''type''] === ''delete'' ? '' AND id != '' . $ID : '''') . \r\n    '' AND {$cond_table.link_field_id} = '' . (int)$line[''{$cond_table.link_field_id}''][''raw''] . \r\n    ($filter[''value''] ? '' AND ('' . filter_tpl_replace($filter[''value'']) . '')'' : '''')\r\n);\r\n$row = sql_fetch_assoc($result);\r\n{if $operand == 1}\r\n    $filter_str = '''';\r\n    if (isset($filter)) {\r\n        $filter_str = ''&filter='' . $filter[''id''];\r\n    }\r\n    $line_link = substr("{$cond_table.link_field_id}", 1);\r\n    $url = $config[''site_url''] . "/fields.php?table=" . $table_id . "&rel_search&rel_table=" . get_table_id({$cond_table.table}) . "&rel_line=" . \r\n    $line[''{$cond_table.link_field_id}''][''raw''] . "&rel_field=" . $line_link . $filter_str;\r\n    {if $cond_table.field_type eq 3}\r\n        $line[''{$cond_table.link_field_id}''][''{$cond_table.field}''] = "<a href=''" . $url . "''>" . $row[''cnt''] . "</a>";\r\n    {else} \r\n        $line[''{$cond_table.link_field_id}''][''{$cond_table.field}''] = $row[''cnt''];\r\n    {/if}\r\n{else}\r\n    $line[''{$cond_table.link_field_id}''][''{$cond_table.field}''] = $row[''cnt''];\r\n{/if}', '{\r\n    "title": "Количество записей в подтаблице",\r\n    "help": "subnotes_count",\r\n    "parameters": {\r\n        "cond_table": {\r\n            "type": "TableField",\r\n            "name": "cond_table",\r\n            "only_parent": "true",\r\n            "description": "Выберите таблицу, в которую будет записан результат",\r\n            "type_field": [1,3],\r\n            "help": "main_talbe",\r\n            "field_description": "Выберите поле, в которое будет записан результат",\r\n            "field_help": "main_table_field"\r\n        },\r\n        "filter": {\r\n            "type": "Filter",\r\n            "name": "filter",\r\n            "description": "Выберите фильтр",\r\n            "help": "filter_help"\r\n        },\r\n        "operand": {\r\n            "type": "List",\r\n            "name": "operand",\r\n            "description": "Добавить ссылку на записи",\r\n            "values": {\r\n              "1": "Да",\r\n              "2": "Нет"\r\n            },\r\n            "help": "link_in_res_table"\r\n        }\r\n    }\r\n}', 'button', 'subtable_cnt.tpl', '', 2, '[]', 3);
insert into `f_calc_template` values (93, 'Отмена редактирования поля', '$line[''{$field}''] = $event[''changed''][substr(''{$field}'',1)][''old''];', '{\r\n    "title": "Отмена редактирования поля",\r\n    "help": "tpl_disabled_edit_field",\r\n    "parameters": {\r\n        "field": {\r\n            "type": "Field",\r\n            "name": "field",\r\n            "description": "Запрет редактирования поля",\r\n            "no_system": true,\r\n            "help": "tpl_cancel_field"\r\n        }\r\n    }\r\n}', 'button', 'disabled_edit_field.tpl', '', 6, '[]', 1);
insert into `f_calc_template` values (94, 'Перевод суммы из числа в текст', '$line[''{$field2}''] = num2str($line[''{$field1}''], "", "", 0, 0, 0, "");\r\n', '{\r\n    "title": "Перевод суммы из числа в текст",\r\n    "help": "tpl_num_to_text",\r\n    "parameters": {\r\n        "field1": {\r\n            "type": "Field",\r\n            "name": "field1",\r\n            "type_field": "1",\r\n            "description": "Выберите исходное поле(число)",\r\n            "no_system": true,\r\n            "help": "source_field"\r\n        },\r\n        "field2": {\r\n            "type": "Field",\r\n            "name": "field2",\r\n            "type_field": "3",\r\n            "description": "Выберите поле записи суммы (текст)",\r\n            "no_system": true,\r\n            "help": "tpl_to_field"\r\n        }\r\n    }\r\n}', 'button', 'intsum_to_stringsum.tpl', '', 1, '[]', 13);
insert into `f_calc_template` values (95, 'Сброс нумерации с нового года', 'if ($event[''line_id''] === ''new'') {\r\n    $res = data_select($table_id, ''status=0 and id!='' . $line[''id''] . '' ORDER BY id DESC LIMIT 1'');\r\n    $row = sql_fetch_assoc($res);\r\n    if (date(''Y'', strtotime($row[''add_time''])) >= date(''Y'')) {\r\n        $line[''{$field}''] = $row[''{$field}''] + 1;\r\n    } else {\r\n        $line[''{$field}''] = 1;\r\n    }\r\n}', '{\r\n    "title": "Сброс нумерации с нового года",\r\n    "help": "tpl_calc_numeric",\r\n    "parameters": {\r\n        "field": {\r\n            "type": "Field",\r\n            "name": "field",\r\n            "description": "Выберите поле",\r\n            "type_field": 1,\r\n            "help": "tpl_reset_field"\r\n        }\r\n    }\r\n}\r\n', 'button', 'autonum.tpl', '', 6, '[]', 2);
insert into `f_calc_template` values (96, 'Сохранение пользователя, который измненил поле', '$line[''{$value}''] = $user[''id''];', '{\r\n    "title": "Сохранение пользователя, который измненил поле",\r\n    "help": "tpl_save_user_changed_field",\r\n    "parameters": {\r\n        "value": {\r\n            "type": "Field",\r\n            "name": "value",\r\n            "type_field": 7,\r\n            "description": "Выберите поле, в которое сохранять значение",\r\n            "no_system": true,\r\n            "help": "tpl_to_field"\r\n        }\r\n    }\r\n}', 'button', 'save_field_user.tpl', '', 1, '[]', 14);
insert into `f_calc_template` values (97, 'Среднее значение по подтаблице', '$filter = sql_select_array(FILTERS_TABLE, ''id = '', get_filter_id({$filter|default:0}));\r\n$result = data_select_field(\r\n    $table_id, \r\n    ''COUNT(id) AS cnt, SUM({$cur_field}) AS sum'', \r\n    ''status = 0'' . ($event[''type''] === ''delete'' ? '' AND id != '' . $ID : '''') . \r\n    '' AND {$gen_field.link_field_id} = '' . (int)$line[''{$gen_field.link_field_id}''][''raw''] . \r\n    ($filter[''value''] ? '' AND ('' . filter_tpl_replace($filter[''value'']) . '')'' : '''')\r\n);\r\nif ($row = sql_fetch_assoc($result)) {\r\n    $line[''{$gen_field.link_field_id}''][''{$gen_field.field}''] = $row[''sum''] / $row[''cnt''];\r\n} else {\r\n    $line[''{$gen_field.link_field_id}''][''{$gen_field.field}''] = 0;\r\n}', '{\r\n    "title": "Среднее значение по подтаблице",\r\n    "help": "tpl_average",\r\n    "parameters": {\r\n        "gen_field": {\r\n            "type": "TableField",\r\n            "name": "gen_field",\r\n            "only_parent": "false",\r\n            "type_field": [1,3],\r\n            "description": "Выберите таблицу, в которую будет записан результат",\r\n            "field_description": "Выберите поле, в которое будет записан результат",\r\n            "help": "tpl_sel_table",\r\n            "field_help": "tpl_sel_field"\r\n        },\r\n        "filter": {\r\n            "type": "Filter",\r\n            "name": "filter",\r\n            "description": "Выберите фильтр",\r\n            "help": "tpl_sel_filter"\r\n        },\r\n        "cur_field": {\r\n            "type": "Field",\r\n            "name": "cur_field",\r\n            "type_field": "1",\r\n            "description": "Выберите поле, по которому будет считаться среднее арифметическое",\r\n            "help": "tpl_source_field"\r\n        }\r\n    }\r\n}', 'button', 'subtable_avg.tpl', '', 2, '[]', 2);
insert into `f_calc_template` values (98, 'Сумма по подтаблице', 'if ($line[''{$gen_field.link_field_id}''][''raw''] > 0) {\r\n    $filter = sql_select_array(FILTERS_TABLE, ''id = '', get_filter_id({$filter|default:0}));\r\n    $result = data_select_field(\r\n        $table_id, \r\n        ''sum({$cur_field}) as f_sum'', \r\n        ''status = 0'' . ($event[''type''] === ''delete'' ? '' AND id != '' . $ID : '''') . \r\n        '' AND {$gen_field.link_field_id} = '' . (int)$line[''{$gen_field.link_field_id}''][''raw''] . \r\n        ($filter[''value''] ? '' AND ('' . filter_tpl_replace($filter[''value'']) . '')'' : '''')\r\n    );\r\n    $row = sql_fetch_assoc($result);\r\n    $line[''{$gen_field.link_field_id}''][''{$gen_field.field}''] = $row[''f_sum''];\r\n}', '{\r\n    "title": "Сумма по подтаблице",\r\n    "help": "tpl_sum_from_subtable",\r\n    "parameters": {\r\n        "cur_field": {\r\n            "type": "Field",\r\n            "name": "cur_field",\r\n            "description": "Выберите поле, по которому считать сумму",\r\n            "type_field": 1,\r\n            "help": "tpl_sum_field"\r\n        },\r\n        "filter": {\r\n            "type": "Filter",\r\n            "name": "filter",\r\n            "description": "Выберите фильтр",\r\n            "help": "tpl_sel_filter"\r\n        },\r\n        "gen_field": {\r\n            "type": "TableField",\r\n            "name": "gen_field",\r\n            "description": "Выберите основную таблицу",\r\n            "field_description": "Выберите поле, в которое подтягивать сумму",\r\n            "only_parent": true,\r\n            "type_field": 1,\r\n            "help": "tpl_sel_table",\r\n            "field_help": "tpl_sel_field"\r\n        }\r\n    }\r\n}', 'button', 'subtable_sum.tpl', '', 2, '[]', 1);
insert into `f_calc_template` values (99, 'Текст: Обработка ФИО', '$array = explode(" ", $line[''{$field1}'']);\r\n$name1 = '''';\r\n$name2 = '''';\r\n$surname = '''';\r\n$i = 0;\r\n$sex = 0;\r\n$lit_sname = {literal}''{Фамилия}''{/literal};\r\n$lit_sname_s = {literal}''{Ф}''{/literal};\r\n$lit_name1 = {literal}''{Имя}''{/literal};\r\n$lit_name1_s = {literal}''{И}''{/literal};\r\n$lit_name2 = {literal}''{Отчество}''{/literal};\r\n$lit_name2_s = {literal}''{О}''{/literal};\r\n$pattern = ''{$flex_data}'';\r\nif (count($array) > 1){\r\n // определение поля по отчеству\r\n foreach($array as $value){\r\n  if (mb_strlen($value )> 2){\r\n   $s1 = mb_substr($value,-3);\r\n   if ($s1 == ''вна'' || $s1 == ''чна''){\r\n    $sex = 2;\r\n    break;\r\n   }\r\n   elseif ($s1 == ''вич'' || $s1 == ''ьич''){\r\n    $sex = 1;\r\n   }\r\n  }\r\n }\r\n $ich = 0;\r\n // количество вхождений -ич\r\n foreach($array as $value){\r\n  if (mb_strlen($value )> 2){\r\n   if (mb_substr($value,-2) == ''ич''){\r\n    $ich++;\r\n   }\r\n  }\r\n }\r\n // определение фамилии\r\n foreach($array as $value){\r\n  if (empty($surname) && mb_strlen($value) > 2){\r\n   $s1 = mb_substr($value,-2);\r\n   $s2 = '''';\r\n   if (mb_strlen($value) > 2){\r\n    $s2 = mb_substr($value,-3);\r\n   }\r\n   $s3 = '''';\r\n   if (mb_strlen($value) > 3){\r\n    $s3 = mb_substr($value,-4);\r\n   }\r\n   if ($s1 == ''ин'' || $s1 == ''ев'' || $s1 == ''ов'' || $s1 == ''ан'' || $s1 == ''ын'' || $s1 == ''ых'' || $s1 == ''ян'' || $s1 == ''ко'' || $s1 == ''ук'' || $s1 == ''ик'' || $s1 == ''те'' || $s1 == ''ни'' || $s1 == ''юк''\r\n    || $s2 == ''ина'' || $s2 == ''ына'' || $s2 == ''ева'' || $s2 == ''ова'' || $s2 == ''янц'' || $s2 == ''нок'' || $s2 == ''дзе'' || $s2 == ''ава'' || $s2 == ''сон''\r\n    || $s3 == ''ских'' || $s3 == ''ский'' || $s3 == ''ская'' || $s3 == ''тейн'' || $s3 == ''блюм'' || $s3 == ''баум'' || $s3 == ''берг'' || $s3 == ''вили'' || $s3 == ''заде'' || $s3 == ''оглу''){\r\n    $surname = $value;\r\n    $i++;\r\n    break;\r\n   }\r\n   elseif ($s1 == ''ич'' && (($ich == 1 && $sex == 2) || ($ich == 2 && $sex == 1))){\r\n    $surname = $value;\r\n    $i++;\r\n    break;\r\n   }\r\n  }\r\n }\r\n // определение отчества\r\n foreach($array as $value){\r\n  if ($value != $surname && empty($name2) && mb_strlen($value )> 3){\r\n   $s1 = mb_substr($value,-3);\r\n   if ($s1 == ''вич'' || $s1 == ''ьич'' || $s1 == ''вна'' || $s1 == ''чна''){\r\n    $name2 = $value;\r\n    $i++;\r\n    break;\r\n   }\r\n  }\r\n }\r\n // определение имени\r\n if (count($array) > $i){\r\n  foreach($array as $value){\r\n   if ($value != $name2 && $value != $surname){\r\n    $name1 = $value;\r\n    $i++;\r\n    break;\r\n   }\r\n  }\r\n }\r\n // допределение фамилии\r\n if (count($array) > $i){\r\n  foreach($array as $value){\r\n   if ($value != $name1 && $value != $name2){\r\n    $surname = $value;\r\n    break;\r\n   }\r\n  }\r\n }\r\n}\r\nelse{\r\n $surname = $line[''{$field1}''];\r\n}\r\n// падеж\r\n$case = ''{$case_value}'';\r\n// падеж для полной фамилии\r\nif (!empty($surname) && $sex > 0 && $case != ''1'' && mb_strpos($pattern, $lit_sname) !== false){\r\n $s1 = mb_substr($surname,-2);\r\n if ($sex == 1) {\r\n  switch ($case) {\r\n   case ''2'':\r\n    if ($s1 == ''ов'' || $s1 == ''ев'' || $s1 == ''ин'' || $s1 == ''ын'' || $s1 == ''ых'' || $s1 == ''ан'' || $s1 == ''ян'' || $s1 == ''нц'' || $s1 == ''ик'' || $s1 == ''ук'' || $s1 == ''юк'' \r\n     || $s1 == ''он'' || $s1 == ''йн'' || $s1 == ''юм'' || $s1 == ''ич'' || $s1 == ''рг'' ){\r\n     $surname = $surname . ''а'';\r\n    }\r\n    elseif ($s1 == ''ий''){\r\n     $surname = mb_substr($surname, 0, -2) . ''ого'';\r\n    }\r\n    break;\r\n   case ''3'':\r\n    if ($s1 == ''ов'' || $s1 == ''ев'' || $s1 == ''ин'' || $s1 == ''ын'' || $s1 == ''ых'' || $s1 == ''ан'' || $s1 == ''ян'' || $s1 == ''нц'' || $s1 == ''ик'' || $s1 == ''ук'' || $s1 == ''юк'' \r\n     || $s1 == ''он'' || $s1 == ''йн'' || $s1 == ''юм'' || $s1 == ''ич'' || $s1 == ''рг'' ){\r\n     $surname = $surname . ''у'';\r\n    }\r\n    elseif ($s1 == ''ий''){\r\n     $surname = mb_substr($surname, 0, -2) . ''ому'';\r\n    }\r\n    break;\r\n   case ''4'':\r\n    if ($s1 == ''ов'' || $s1 == ''ев'' || $s1 == ''ин'' || $s1 == ''ын'' || $s1 == ''ых'' || $s1 == ''ан'' || $s1 == ''ян'' || $s1 == ''нц'' || $s1 == ''ик'' || $s1 == ''ук'' || $s1 == ''юк'' \r\n     || $s1 == ''он'' || $s1 == ''йн'' || $s1 == ''юм'' || $s1 == ''ич'' || $s1 == ''рг'' ){\r\n     $surname = $surname . ''а'';\r\n    }\r\n    elseif ($s1 == ''ий''){\r\n     $surname = mb_substr($surname, 0, -2) . ''ого'';\r\n    }\r\n    break;\r\n   case ''5'':\r\n    if ($s1 == ''ов'' || $s1 == ''ев'' || $s1 == ''ин'' || $s1 == ''ын''){\r\n     $surname = $surname . ''ым'';\r\n    }\r\n    elseif ($s1 == ''ян'' || $s1 == ''ан'' || $s1 == ''юк'' || $s1 == ''ук'' || $s1 == ''юм'' || $s1 == ''ик'' || $s1 == ''он'' || $s1 == ''йн'' || $s1 == ''рг''){\r\n     $surname = $surname . ''ом'';\r\n    }\r\n    elseif ($s1 == ''ич'' || $s1 == ''нц''){\r\n     $surname = $surname . ''ем'';\r\n    }\r\n    elseif ($s1 == ''ий''){\r\n     $surname = mb_substr($surname, 0, -2) . ''им'';\r\n    }\r\n    break;\r\n   case ''6'':\r\n    if ($s1 == ''ов'' || $s1 == ''ев'' || $s1 == ''ин'' || $s1 == ''ын'' || $s1 == ''ых'' || $s1 == ''ан'' || $s1 == ''ян'' || $s1 == ''нц'' || $s1 == ''ик'' || $s1 == ''ук'' || $s1 == ''юк'' \r\n     || $s1 == ''он'' || $s1 == ''йн'' || $s1 == ''юм'' || $s1 == ''ич'' || $s1 == ''рг'' ){\r\n     $surname = $surname . ''е'';\r\n    }\r\n    elseif ($s1 == ''ий''){\r\n     $surname = mb_substr($surname, 0, -2) . ''ом'';\r\n    }\r\n    break;\r\n  }\r\n }\r\n else {\r\n  if ($case == ''4'') {\r\n   if ($s1 == ''ва'' || $s1 == ''на''){\r\n    $surname = mb_substr($surname, 0, -1) . ''у'';\r\n   }\r\n   elseif ($s1 == ''ая''){\r\n    $surname = mb_substr($surname, 0, -2) . ''ую'';\r\n   }\r\n  }\r\n  else {\r\n   if ($s1 == ''ва'' || $s1 == ''на''){\r\n    $surname = mb_substr($surname, 0, -1) . ''ой'';\r\n   }\r\n   elseif ($s1 == ''ая''){\r\n    $surname = mb_substr($surname, 0, -2) . ''ой'';\r\n   }\r\n  }\r\n }\r\n}\r\n// падеж для полного имени\r\nif (!empty($name1) && $case != ''1'' && $sex > 0 && mb_strpos($pattern, $lit_name1) !== false){\r\n $s1 = mb_substr($name1,-1);\r\n if ($sex == 1) {\r\n  if ($s1 === ''й'' || $s1 === ''ь'') {\r\n   switch ($case) {\r\n    case ''2'':\r\n    case ''4'':\r\n     $name1 = mb_substr($name1, 0, -1) . ''я'';\r\n     break;\r\n    case ''3'':\r\n     $name1 = mb_substr($name1, 0, -1) . ''ю'';\r\n     break;\r\n    case ''5'':\r\n     $name1 = mb_substr($name1, 0, -1) . ''ем'';\r\n     break;\r\n    case ''6'':\r\n     if (mb_substr($name1,-2) === ''ий''){ \r\n      $name1 = mb_substr($name1, 0, -1) . ''и'';\r\n     }\r\n     else {\r\n      $name1 = mb_substr($name1, 0, -1) . ''е'';\r\n     }\r\n     break;\r\n   }\r\n  }\r\n  elseif ($s1 === ''я'') {\r\n   switch ($case) {\r\n    case ''2'':\r\n     $name1 = mb_substr($name1, 0, -1) . ''и'';\r\n     break;\r\n    case ''3'':\r\n    case ''6'':\r\n     $name1 = mb_substr($name1, 0, -1) . ''е'';\r\n     break;\r\n    case ''4'':\r\n     $name1 = mb_substr($name1, 0, -1) . ''ю'';\r\n     break;\r\n    case ''5'':\r\n     $name1 = mb_substr($name1, 0, -1) . ''ёй'';\r\n     break;\r\n   }\r\n  }\r\n  elseif ($s1 === ''л'') {\r\n   switch ($case) {\r\n    case ''2'':\r\n    case ''4'':\r\n     $name1 = mb_substr($name1, 0, -2) . ''ла'';\r\n     break;\r\n    case ''3'':\r\n     $name1 = mb_substr($name1, 0, -2) . ''лу'';\r\n     break;\r\n    case ''5'':\r\n     $name1 = mb_substr($name1, 0, -2) . ''лом'';\r\n     break;\r\n    case ''6'':\r\n     $name1 = mb_substr($name1, 0, -2) . ''ле'';\r\n     break;\r\n   }\r\n  }\r\n  else {\r\n   switch ($case) {\r\n    case ''2'':\r\n    case ''4'':\r\n     $name1 = $name1 . ''а'';\r\n     break;\r\n    case ''3'':\r\n     $name1 = $name1 . ''у'';\r\n     break;\r\n    case ''5'':\r\n     $name1 = $name1 . ''ом'';\r\n     break;\r\n    case ''6'':\r\n     $name1 = $name1 . ''е'';\r\n     break;\r\n   }\r\n  }\r\n }\r\n else {\r\n  if ($s1 === ''я'') {\r\n   switch ($case) {\r\n    case ''2'':\r\n    case ''3'':\r\n    case ''6'':\r\n     $name1 = mb_substr($name1, 0, -1) . ''и'';\r\n     break;\r\n    case ''4'':\r\n     $name1 = mb_substr($name1, 0, -1) . ''ю'';\r\n     break;\r\n    case ''5'':\r\n     $name1 = mb_substr($name1, 0, -1) . ''ей'';\r\n     break;\r\n   }\r\n  }\r\n  elseif ($s1 === ''ь'') {\r\n   switch ($case) {\r\n    case ''2'':\r\n    case ''3'':\r\n    case ''6'':\r\n     $name1 = mb_substr($name1, 0, -1) . ''и'';\r\n     break;\r\n     break;\r\n    case ''5'':\r\n     $name1 = $name1 . ''ю'';\r\n     break;\r\n   }\r\n  }\r\n  else {\r\n   switch ($case) {\r\n    case ''2'':\r\n     $name1 = mb_substr($name1, 0, -1) . ''ы'';\r\n     break;\r\n    case ''3'':\r\n    case ''6'':\r\n     $name1 = mb_substr($name1, 0, -1) . ''е'';\r\n     break;\r\n    case ''4'':\r\n     $name1 = mb_substr($name1, 0, -1) . ''у'';\r\n     break;\r\n    case ''5'':\r\n     $name1 = mb_substr($name1, 0, -1) . ''ой'';\r\n     break;\r\n   }\r\n  }\r\n }\r\n}\r\n// падеж для полного отчества\r\nif (!empty($name2) && $case != ''1'' && mb_strpos($pattern, $lit_name2) !== false){\r\n $s1 = mb_substr($name2,-2);\r\n switch ($case) {\r\n  case ''2'':\r\n   if ($s1 == ''ич''){\r\n    $name2 = $name2 . ''а'';\r\n   }\r\n   elseif ($s1 == ''на''){\r\n    $name2 = mb_substr($name2, 0, -1) . ''ы'';\r\n   }\r\n   break;\r\n  case ''3'':\r\n   if ($s1 == ''ич''){\r\n    $name2 = $name2 . ''у'';\r\n   }\r\n   elseif ($s1 == ''на''){\r\n    $name2 = mb_substr($name2, 0, -1) . ''е'';\r\n   }\r\n   break;\r\n  case ''4'':\r\n   if ($s1 == ''ич''){\r\n    $name2 = $name2 . ''а'';\r\n   }\r\n   elseif ($s1 == ''на''){\r\n    $name2 = mb_substr($name2, 0, -1) . ''у'';\r\n   }\r\n   break;\r\n  case ''5'':\r\n   if ($s1 == ''ич''){\r\n    $name2 = $name2 . ''ем'';\r\n   }\r\n   elseif ($s1 == ''на''){\r\n    $name2 = mb_substr($name2, 0, -1) . ''ой'';\r\n   }\r\n   break;\r\n  case ''6'':\r\n   if ($s1 == ''ич''){\r\n    $name2 = $name2 . ''е'';\r\n   }\r\n   elseif ($s1 == ''на''){\r\n    $name2 = mb_substr($name2, 0, -1) . ''е'';\r\n   }\r\n   break;\r\n }\r\n}\r\n// шаблон\r\n$s = $pattern;\r\nif (mb_strpos($s, $lit_sname) !== false){\r\n $s = str_replace($lit_sname, $surname, $s);\r\n}\r\nif (mb_strpos($s, $lit_sname_s) !== false){\r\n $s = str_replace($lit_sname_s, mb_substr($surname,0,1), $s);\r\n}\r\nif (mb_strpos($s, $lit_name1) !== false){\r\n $s = str_replace($lit_name1, $name1, $s);\r\n}\r\nif (mb_strpos($s, $lit_name1_s) !== false){\r\n $s = str_replace($lit_name1_s, mb_substr($name1,0,1), $s);\r\n}\r\nif (mb_strpos($s, $lit_name2) !== false){\r\n $s = str_replace($lit_name2, $name2, $s);\r\n}\r\nif (mb_strpos($s, $lit_name2_s) !== false){\r\n $s = str_replace($lit_name2_s, mb_substr($name2,0,1), $s);\r\n}\r\n$line[''{$result}''] = $s;\r\n', '{\r\n     "title": "Текст: Обработка ФИО",\r\n     "help": "764",\r\n     "parameters": {\r\n         "field1": {\r\n             "type": "Field",\r\n             "name": "field1",\r\n             "description": "Выберите поле с ФИО",\r\n             "type_field": 3,\r\n             "help": "765"\r\n         },\r\n         "func_row": {\r\n             "type": "String",\r\n             "name": "func_row",\r\n             "description": "Поле записи шаблона",\r\n             "textarea": true,\r\n             "help": "767"\r\n         },\r\n         "result": {\r\n             "type": "Field",\r\n             "name": "result",\r\n             "description": "Выберите поле записи результата",\r\n             "type_field": 3,\r\n             "help": "766"\r\n         },\r\n        "put_value": {\r\n            "type": "List",\r\n            "name": "case_value",\r\n            "values":{"1":"Именительный","2":"Родительный","3":"Дательный","4":"Винительный","5":"Творительный","6":"Предложный"},\r\n            "description": "Выберите падеж",\r\n            "help": "768"\r\n        },\r\n         "flex_data": {\r\n             "type": "String",\r\n             "name": "flex_data",\r\n             "description": "",\r\n             "help": "tpl_flex_string"\r\n         }\r\n     }\r\n}', 'button', 'fio_processing.tpl', '', 1, '[]', 7);
insert into `f_calc_template` values (100, 'Текст: Работа с ФИО', '$array = explode(" ", $line[''{$cond_field}'']);\r\nif (''{$put_value}'' === ''1'') {\r\n    $line[''{$cond_field}''] = $array[''1''];\r\n} else {\r\n    $line[''{$cond_field}''] = $array[''1''] . '' '' . $array[''2''];\r\n}', '{\r\n    "title": "Текст: Работа с ФИО",\r\n    "help": "tpl_explode_name",\r\n    "parameters": {\r\n        "cond_field": {\r\n            "type": "Field",\r\n            "name": "cond_field",\r\n            "type_field": "3",\r\n            "description": "Выберите поле, содержащее ФИО",\r\n            "help": "tpl_source_field"\r\n        },\r\n        "put_value": {\r\n            "type": "List",\r\n            "name": "put_value",\r\n            "values":{"1":"Имя","2":"Имя и отчество"},\r\n            "description": "Выберите данные, которые останутся в поле.",\r\n            "help": "tpl_option"\r\n        }\r\n    }\r\n}', 'button', 'fio_work.tpl', '', 1, '[]', 6);
insert into `f_calc_template` values (101, 'Создать запись в подтаблице', '$sel_table = get_table_id({$correlation[''table'']|default:0});\r\n$sel_fields = [\r\n    {foreach from = $correlation[''to_field''] item = field_id}get_field_id({$field_id|default:0}), {/foreach}\r\n];\r\n$sel_def_vals = [\r\n    {foreach from = $correlation[''def_val''] item = value}''{$value}'', {/foreach}\r\n];\r\n$cur_fields = [\r\n    {foreach from = $correlation[''cur_field''] item = field_id}get_field_id({$field_id|default:0}), {/foreach}\r\n];\r\n$link_field = get_field_id({$correlation[''link_field_id'']|default:0});\r\nif ($sel_table > 0) {\r\n    $ins_arr = [];\r\n    foreach ($sel_fields as $num => $field_id) {\r\n        if (!$field_id) continue;\r\n        $def_val = $sel_def_vals[$num];\r\n        if ($def_val) {\r\n             $ins_arr[''f'' . $field_id] = $def_val;\r\n        } else {\r\n             if (is_array($line[$cur_field[$num]])) {\r\n                 $ins_arr[''f'' . $field_id] = $line[''f'' . $cur_fields[$num]][''raw''];\r\n             } else {\r\n                 $ins_arr[''f'' . $field_id] = $line[''f'' . $cur_fields[$num]];\r\n             }\r\n        }\r\n    }\r\n    if ($link_field) {\r\n        $ins_arr[''f'' . $link_field] = $ID;\r\n    }\r\n    if (count($ins_arr) > 0) {\r\n        data_insert($sel_table, EVENTS_ENABLE, $ins_arr);\r\n    } else {\r\n        $error_trace[] = true;\r\n    }\r\n} else {\r\n    $error_trace[] = true;\r\n}', '{\r\n    "title": "Создать запись в подтаблице",\r\n    "help": "tpl_copy_line",\r\n    "parameters": {\r\n        "correlation": {\r\n            "type": "Correlation",\r\n            "name": "correlation",\r\n            "description": "Таблица-получатель",\r\n            "help": "tpl_table_copy_line",\r\n            "only_subtables": true\r\n        }\r\n    }\r\n}', 'calc', 'copy_line_subtable.tpl', '', 2, '[2]', 0);
insert into `f_calc_template` values (102, 'Дата: Установить текущую дату', '$line[''{$cur_field}''] = date(''Y-m-d H:i:s'');', '{\r\n    "title": "Дата: Установить текущую дату",\r\n    "help": "tpl_cur_date",\r\n    "parameters": {\r\n        "cur_field": {\r\n            "type": "Field",\r\n            "name": "cur_field",\r\n            "description": "Выберите поле, в которое сохранять дату",\r\n            "type_field": 2,\r\n            "no_system": true,\r\n            "help": "tpl_cur_date_field"\r\n        }\r\n    },\r\n    "events": [\r\n        {\r\n            "type": 1,\r\n            "field": ""\r\n        }\r\n    ]\r\n}', 'calc', 'cur_date.tpl', '', 1, '[1]', 8);
insert into `f_calc_template` values (103, 'Текст: Парсинг текста', '// если парсится из даты\r\n    {if $field_parse_type eq 2}\r\n    $field_parse = date("d.m.Y H:i:s", strtotime($line[''{$field_parse}'']));\r\n    {else}\r\n    $field_parse = "".$line[''{$field_parse}''];\r\n    {/if}\r\n\r\n    // особые случаи\r\n    if (''{$give_value_begin}'' == ''\\\\n'' && ''{$give_value_end}'' == ''\\\\n''){\r\n    $give_value_begin = "\\n";\r\n    $give_value_end = "\\n";\r\n    } elseif (''{$give_value_begin}'' == ''\\\\n'') {\r\n    $give_value_begin = "\\n";\r\n    $give_value_end = trim(''{$give_value_end}'');\r\n    } elseif (''{$give_value_end}'' == ''\\\\n'') {\r\n    $give_value_begin = trim(''{$give_value_begin}'');\r\n    $give_value_end = "\\n";\r\n    } else {\r\n    $give_value_begin = trim(''{$give_value_begin}'');\r\n    $give_value_end = trim(''{$give_value_end}'');\r\n    }\r\n\r\n    // вычисление\r\n    // если оба значения заданы, и они равны друг другу\r\n    if ($give_value_begin === $give_value_end) {\r\n    $res_begin = mb_strpos($field_parse, $give_value_begin);\r\n    $temp_field_parse = mb_substr($field_parse, $res_begin + (mb_strlen($give_value_begin)));\r\n    $res_end = mb_strpos($temp_field_parse, $give_value_end);\r\n    $field_result = mb_substr($temp_field_parse, 0, $res_end + 1 - (mb_strlen($give_value_begin)));\r\n    } else {\r\n    // исключаю момент что начального значения может и не быть\r    if (mb_strpos($field_parse, $give_value_begin) !== false) {\r\n    $res_begin = mb_strpos($field_parse, $give_value_begin);\r\n    // проверяю есть ли конечное значение\r\n    if (mb_strpos($field_parse, $give_value_end) !== false) {\r\n    $res_end = mb_strpos($field_parse, $give_value_end);\r\n    if ($res_begin < $res_end) {\r\n    // если все ок (начальная позиция раньше конечного значения)\r\n    $end_end = $res_end - $res_begin;\r\n    // Извращение с тернарными операторами чтобы исключить ситуацию с переводом строки\r\n    $field_result = mb_substr($field_parse, $res_begin + ($temp_a_res = ($give_value_begin == ''\\\\n'') ? 0 : mb_strlen($give_value_begin)), $end_end - ($temp_a_res = ($give_value_begin == ''\\\\n'') ? 0 : mb_strlen($give_value_begin)));\r\n    } else {\r\n    // иначе если начальное значение позже конечного, тогда отбросим до начального\r\n    $temp_field_parse = mb_substr($field_parse, $res_begin + (mb_strlen($give_value_begin)));\r\n    $res_new_end = mb_strpos($temp_field_parse, $give_value_end);\r\n    $field_result = mb_substr($temp_field_parse, 0, $res_new_end);\r\n    }\r\n    } else {\r\n    // если пустое конечное, то отрезаем до конца\r\n    $res_begin = mb_strpos($field_parse, $give_value_begin);\r\n    $field_result = mb_substr($field_parse, $res_begin + (mb_strlen($give_value_begin)));\r\n    }\r\n    } else {\r\n    // если нет начального, проверим есть ли конечное значение\r\n    if (mb_strpos($field_parse, $give_value_end) !== false) {\r\n    // так как нет начального значения, то отрезаем от начала до заданного конца\r\n    $res_end = mb_strpos($field_parse, $give_value_end);\r\n    $field_result = mb_substr($field_parse, 0, $res_end);\r\n    } else {\r\n    // если не задано ни то, ни другое значение или они отсутствуют, то ничего не произойдет\r\n    }\r\n    }\r\n    }\r\n\r\n    {if $field_result_type eq 1 || $field_result_type eq 2}\r\n    {if $field_result_type eq 1}\r\n    $temp_field_to_int = preg_replace(''/[^0-9,]/'', '''', $field_result);\r\n    $temp_field_to_result_int = str_replace('','', ''.'', $temp_field_to_int);\r\n    $line[''{$field_result}''] = floatval($temp_field_to_result_int);\r\n    {else}\r\n    $line[''{$field_result}''] = date("Y-m-d H:i:s", strtotime($field_result));\r\n    {/if}\r\n    {else}\r\n    $line[''{$field_result}''] = trim($field_result);\r\n    {/if}\r\n', '{\r\n    "title": "Текст: Парсинг текста",\r\n    "help": "text_parse",\r\n    "parameters": {\r\n    "field_parse": {\r\n    "type": "Field",\r\n    "name": "field_parse",\r\n    "description": "Выберите поле - источник",\r\n    "help": "field_parse",\r\n    "type_field": [1,2,3,4]\r\n    },\r\n    "field_result": {\r\n    "type": "Field",\r\n    "name": "field_result",\r\n    "description": "Выберите поле - получатель",\r\n    "help": "field_result",\r\n    "type_field": [1,2,3,4]\r\n    },\r\n    "give_value_begin": {\r\n    "type": "String",\r\n    "name": "give_value_begin",\r\n    "description": "Введите значение - от",\r\n    "textarea": true,\r\n    "help": "give_value_begin"\r\n    },\r\n    "give_value_end": {\r\n    "type": "String",\r\n    "name": "give_value_end",\r\n    "description": "Введите значение - до",\r\n    "textarea": true,\r\n    "help": "give_value_end"\r\n    }\r\n    }\r\n}', 'calc', 'text_parsing.tpl', '', 1, '[1]', 7);
insert into `f_calc_template` values (104, 'Текст: Парсинг текста', '// если парсится из даты\r\n    {if $field_parse_type eq 2}\r\n    $field_parse = date("d.m.Y H:i:s", strtotime($line[''{$field_parse}'']));\r\n    {else}\r\n    $field_parse = "".$line[''{$field_parse}''];\r\n    {/if}\r\n\r\n    // особые случаи\r\n    if (''{$give_value_begin}'' == ''\\\\n'' && ''{$give_value_end}'' == ''\\\\n''){\r\n    $give_value_begin = "\\n";\r\n    $give_value_end = "\\n";\r\n    } elseif (''{$give_value_begin}'' == ''\\\\n'') {\r\n    $give_value_begin = "\\n";\r\n    $give_value_end = trim(''{$give_value_end}'');\r\n    } elseif (''{$give_value_end}'' == ''\\\\n'') {\r\n    $give_value_begin = trim(''{$give_value_begin}'');\r\n    $give_value_end = "\\n";\r\n    } else {\r\n    $give_value_begin = trim(''{$give_value_begin}'');\r\n    $give_value_end = trim(''{$give_value_end}'');\r\n    }\r\n\r\n    // вычисление\r\n    // если оба значения заданы, и они равны друг другу\r\n    if ($give_value_begin === $give_value_end) {\r\n    $res_begin = mb_strpos($field_parse, $give_value_begin);\r\n    $temp_field_parse = mb_substr($field_parse, $res_begin + (mb_strlen($give_value_begin)));\r\n    $res_end = mb_strpos($temp_field_parse, $give_value_end);\r\n    $field_result = mb_substr($temp_field_parse, 0, $res_end + 1 - (mb_strlen($give_value_begin)));\r\n    } else {\r\n    // исключаю момент что начального значения может и не быть\r    if (mb_strpos($field_parse, $give_value_begin) !== false) {\r\n    $res_begin = mb_strpos($field_parse, $give_value_begin);\r\n    // проверяю есть ли конечное значение\r\n    if (mb_strpos($field_parse, $give_value_end) !== false) {\r\n    $res_end = mb_strpos($field_parse, $give_value_end);\r\n    if ($res_begin < $res_end) {\r\n    // если все ок (начальная позиция раньше конечного значения)\r\n    $end_end = $res_end - $res_begin;\r\n    // Извращение с тернарными операторами чтобы исключить ситуацию с переводом строки\r\n    $field_result = mb_substr($field_parse, $res_begin + ($temp_a_res = ($give_value_begin == ''\\\\n'') ? 0 : mb_strlen($give_value_begin)), $end_end - ($temp_a_res = ($give_value_begin == ''\\\\n'') ? 0 : mb_strlen($give_value_begin)));\r\n    } else {\r\n    // иначе если начальное значение позже конечного, тогда отбросим до начального\r\n    $temp_field_parse = mb_substr($field_parse, $res_begin + (mb_strlen($give_value_begin)));\r\n    $res_new_end = mb_strpos($temp_field_parse, $give_value_end);\r\n    $field_result = mb_substr($temp_field_parse, 0, $res_new_end);\r\n    }\r\n    } else {\r\n    // если пустое конечное, то отрезаем до конца\r\n    $res_begin = mb_strpos($field_parse, $give_value_begin);\r\n    $field_result = mb_substr($field_parse, $res_begin + (mb_strlen($give_value_begin)));\r\n    }\r\n    } else {\r\n    // если нет начального, проверим есть ли конечное значение\r\n    if (mb_strpos($field_parse, $give_value_end) !== false) {\r\n    // так как нет начального значения, то отрезаем от начала до заданного конца\r\n    $res_end = mb_strpos($field_parse, $give_value_end);\r\n    $field_result = mb_substr($field_parse, 0, $res_end);\r\n    } else {\r\n    // если не задано ни то, ни другое значение или они отсутствуют, то ничего не произойдет\r\n    }\r\n    }\r\n    }\r\n\r\n    {if $field_result_type eq 1 || $field_result_type eq 2}\r\n    {if $field_result_type eq 1}\r\n    $temp_field_to_int = preg_replace(''/[^0-9,]/'', '''', $field_result);\r\n    $temp_field_to_result_int = str_replace('','', ''.'', $temp_field_to_int);\r\n    $line[''{$field_result}''] = floatval($temp_field_to_result_int);\r\n    {else}\r\n    $line[''{$field_result}''] = date("Y-m-d H:i:s", strtotime($field_result));\r\n    {/if}\r\n    {else}\r\n    $line[''{$field_result}''] = trim($field_result);\r\n    {/if}\r\n', '{\r\n    "title": "Текст: Парсинг текста",\r\n    "help": "text_parse",\r\n    "parameters": {\r\n    "field_parse": {\r\n    "type": "Field",\r\n    "name": "field_parse",\r\n    "description": "Выберите поле - источник",\r\n    "help": "field_parse",\r\n    "type_field": [1,2,3,4]\r\n    },\r\n    "field_result": {\r\n    "type": "Field",\r\n    "name": "field_result",\r\n    "description": "Выберите поле - получатель",\r\n    "help": "field_result",\r\n    "type_field": [1,2,3,4]\r\n    },\r\n    "give_value_begin": {\r\n    "type": "String",\r\n    "name": "give_value_begin",\r\n    "description": "Введите значение - от",\r\n    "textarea": true,\r\n    "help": "give_value_begin"\r\n    },\r\n    "give_value_end": {\r\n    "type": "String",\r\n    "name": "give_value_end",\r\n    "description": "Введите значение - до",\r\n    "textarea": true,\r\n    "help": "give_value_end"\r\n    }\r\n    }\r\n}', 'button', 'text_parsing.tpl', '', 1, '[1]', 7);
create table `f_calc_type` (`id` int(11) auto_increment, primary key (`id`), `name` varchar(255) character set utf8 collate utf8_general_ci NOT NULL )engine=innodb default charset=utf8 collate=utf8_general_ci;
insert into `f_calc_type` values (1, 'current');
insert into `f_calc_type` values (2, 'sub');
insert into `f_calc_type` values (3, 'link');
insert into `f_calc_type` values (4, 'parent');
insert into `f_calc_type` values (5, 'expert');
create table `f_calendar_events` (`id` int(11) auto_increment, primary key (`id`), `calendar_id` int(11) default '0'  NOT NULL , key `calendar_id` (`calendar_id`), `num` int(11) default '0'  NOT NULL , `name` varchar(255) character set utf8 collate utf8_general_ci NOT NULL , `table_id` int(11) default '0'  NOT NULL , key `table_id` (`table_id`), `date_field` varchar(255) character set utf8 collate utf8_general_ci NOT NULL , `period_field` int(11) default '0'  NOT NULL , `color` varchar(255) character set utf8 collate utf8_general_ci NOT NULL , `filter_id` int(11) default '0'  NOT NULL , key `filter_id` (`filter_id`), `fast_search` text character set utf8 collate utf8_general_ci NOT NULL , `group_field` int(11) default '0'  NOT NULL , `event_separator` varchar(255) character set utf8 collate utf8_general_ci NOT NULL , `help` text character set utf8 collate utf8_general_ci NOT NULL , `background` tinyint(1) default '0'  NOT NULL , `show_empty_groups` tinyint(1) default '0'  NOT NULL )engine=innodb default charset=utf8 collate=utf8_general_ci;
create table `f_calendar_fields` (`id` int(11) auto_increment, primary key (`id`), `calendar_id` int(11) default '0'  NOT NULL , key `calendar_id` (`calendar_id`), `event_id` int(11) default '0'  NOT NULL , key `event_id` (`event_id`), `field_id` int(11) default '0'  NOT NULL , key `field_id` (`field_id`), `view` tinyint(1) default '0'  NOT NULL , `edit` tinyint(1) default '0'  NOT NULL , `mount` tinyint(1) default '0'  NOT NULL , `add_acc` tinyint(1) default '0'  NOT NULL , `field_name` tinyint(1) default '0'  NOT NULL , `num` int(11) default '0'  NOT NULL , `def_value` varchar(1024) character set utf8 collate utf8_general_ci NOT NULL )engine=innodb default charset=utf8 collate=utf8_general_ci;
create table `f_calendars` (`id` int(11) auto_increment, primary key (`id`), `cat_id` int(11) default '0'  NOT NULL , key `cat_id` (`cat_id`), `num` int(11) default '0'  NOT NULL , `name` varchar(255) character set utf8 collate utf8_general_ci NOT NULL , `help` text character set utf8 collate utf8_general_ci NOT NULL , `default_type` tinyint(1) default '0'  NOT NULL , `empty_groups` tinyint(1) default '0'  NOT NULL , `first_hour` tinyint(2) default '0'  NOT NULL , `last_hour` tinyint(2) default '0'  NOT NULL , `day_event_count` tinyint(1) default '0'  NOT NULL , `owner_id` int(11) default '0'  NOT NULL , key `owner_id` (`owner_id`))engine=innodb default charset=utf8 collate=utf8_general_ci;
create table `f_cats` (`id` int(11) auto_increment, primary key (`id`), `num` tinyint(4) default '0'  NOT NULL , `name` varchar(255) character set utf8 collate utf8_general_ci NOT NULL , `icon` longblob NOT NULL , `help` text character set utf8 collate utf8_general_ci NOT NULL , `owner_id` int(11) default '0'  NOT NULL , key `owner_id` (`owner_id`), `icon2` longblob NOT NULL , `show_text` tinyint(4) default '0'  NOT NULL )engine=innodb default charset=utf8 collate=utf8_general_ci;
create table `f_config` (`name` varchar(255) character set utf8 collate utf8_general_ci NOT NULL , primary key (`name`), `value` text character set utf8 collate utf8_general_ci NOT NULL )engine=innodb default charset=utf8 collate=utf8_general_ci;
insert into `f_config` values ('add_button_color', '#ffa200');
insert into `f_config` values ('alt_css', '');
insert into `f_config` values ('anti_bot', '1');
insert into `f_config` values ('anti_bot_active', '0');
insert into `f_config` values ('autoupdate_addons', '1');
insert into `f_config` values ('auto_delete_mailing_days', '14');
insert into `f_config` values ('bottom_text', 'Версия: {version}');
insert into `f_config` values ('can_add_table', 'H7n8JFPWndue');
insert into `f_config` values ('cb_alert', '{"date_last_update":"2019-12-22 11:11:11","period_update":"+ 1 day","id":"25","title":"\\u0412\\u0438\\u0434\\u0435\\u043e\\u043a\\u0443\\u0440\\u0441 \\u043a\\u043e\\u043d\\u0444\\u0438\\u0433\\u0443\\u0440\\u0430\\u0442\\u043e\\u0440\\u0430 \\u041a\\u0431 3.0","text":"<img  align=left style=''padding-right:10px;'' src=''https:\\/\\/clientbase.ru\\/images\\/v_sm.png''> \\u041f\\u0440\\u043e\\u0439\\u0434\\u0438 \\u0432\\u0438\\u0434\\u0435\\u043e\\u043a\\u0443\\u0440\\u0441 \\u043a\\u043e\\u043d\\u0444\\u0438\\u0433\\u0443\\u0440\\u0430\\u0442\\u043e\\u0440\\u0430, \\u043d\\u0430\\u0443\\u0447\\u0438\\u0441\\u044c \\u0441\\u043e\\u0437\\u0434\\u0430\\u0432\\u0430\\u0442\\u044c \\u043f\\u0435\\u0440\\u0441\\u043e\\u043d\\u0430\\u043b\\u044c\\u043d\\u044b\\u0435 CRM-\\u0441\\u0438\\u0441\\u0442\\u0435\\u043c\\u044b \\u043d\\u0430 \\u043f\\u043b\\u0430\\u0442\\u0444\\u043e\\u0440\\u043c\\u0435 \\u041a\\u0411 3.0 \\u0438 \\u043f\\u043e\\u043b\\u0443\\u0447\\u0438 \\u0441\\u0435\\u0440\\u0442\\u0438\\u0444\\u0438\\u043a\\u0430\\u0442!","button_name":"\\u041f\\u043e\\u0434\\u0440\\u043e\\u0431\\u043d\\u0435\\u0435 \\u043e \\u043a\\u0443\\u0440\\u0441\\u0435","button_url":"https:\\/\\/clientbase.ru\\/help\\/cb_school\\/config\\/","show":{"1":true,"777":false,"999":false},"user_show":{"1":true},"url_img":"https:\\/\\/manage.clientbase.ru\\/client_alert.php"}');
insert into `f_config` values ('cb_alert_show', '{"1":true}');
insert into `f_config` values ('common_lop', '');
insert into `f_config` values ('common_slop', '');
insert into `f_config` values ('css_id', '1');
insert into `f_config` values ('css_id_sheme', '72');
insert into `f_config` values ('currency_default', 'russian');
insert into `f_config` values ('delete_tips', '1');
insert into `f_config` values ('del_copy', '');
insert into `f_config` values ('developer_mode', '1');
insert into `f_config` values ('event_on', 'a:18:{s:5:"admin";s:0:"";s:5:"login";s:1:"1";s:6:"logout";s:1:"1";s:10:"view_table";s:0:"";s:11:"view_report";s:0:"";s:11:"view_record";s:0:"";s:10:"add_record";s:1:"1";s:13:"delete_record";s:1:"1";s:14:"archive_record";s:1:"1";s:14:"restore_record";s:1:"1";s:12:"change_field";s:1:"1";s:17:"change_calc_field";s:1:"1";s:17:"change_cron_field";s:1:"1";s:6:"import";s:1:"1";s:6:"export";s:1:"1";s:4:"sync";s:0:"";s:5:"revis";s:1:"1";s:8:"asterisk";s:0:"";}');
insert into `f_config` values ('export_continue_info', '');
insert into `f_config` values ('fields_context_menu', '1');
insert into `f_config` values ('field_margin', '7');
insert into `f_config` values ('hide_not_edit', '0');
insert into `f_config` values ('hotkeys', '1');
insert into `f_config` values ('import_continue_info', '');
insert into `f_config` values ('instant_send_count', '1');
insert into `f_config` values ('intuitive_search', '0');
insert into `f_config` values ('invite_on', '1');
insert into `f_config` values ('last_cron_time', '1');
insert into `f_config` values ('last_tip_check_time', '1453901521');
insert into `f_config` values ('livechat_in_header', '1');
insert into `f_config` values ('login_confirm', '0');
insert into `f_config` values ('logo_bottom_margin', '20');
insert into `f_config` values ('logo_rand', '26087');
insert into `f_config` values ('logo_top_margin', '20');
insert into `f_config` values ('logo_x', '150');
insert into `f_config` values ('logo_y', '75');
insert into `f_config` values ('log_arc', '1000');
insert into `f_config` values ('log_changed', '1');
insert into `f_config` values ('log_login', '1');
insert into `f_config` values ('mail_threads_exist', '1');
insert into `f_config` values ('mobile_switch_on', '1');
insert into `f_config` values ('mph', '0');
insert into `f_config` values ('multi_columns', '1');
insert into `f_config` values ('notify_style', '0');
insert into `f_config` values ('reduce_headers', '30');
insert into `f_config` values ('reduce_headers_title', '30');
insert into `f_config` values ('reduce_notifications', '3');
insert into `f_config` values ('registered', '1');
insert into `f_config` values ('report_settings_30', '1,2,777');
insert into `f_config` values ('report_settings_4', '1,2');
insert into `f_config` values ('report_settings_40', '1,2');
insert into `f_config` values ('report_settings_50', '1,2');
insert into `f_config` values ('report_settings_6', '1,2');
insert into `f_config` values ('rest_mail_pause', '');
insert into `f_config` values ('rules_password', '0');
insert into `f_config` values ('select_cats', '1');
insert into `f_config` values ('show_sql_time', '1');
insert into `f_config` values ('support_link_on', '1');
insert into `f_config` values ('table_rows_padding', '10');
insert into `f_config` values ('tariff', 'C:20:"ClientBase\\lk\\Tariff":536:{CJ+Xw+GXWvZaLBQp/ln4RuZO3iKDxnylEVRZrKFRXiEMNnj+/LkUTyDh2+Dhc5kiElVaETTTJn5Gcgl8NFs0DLtAxzWU3L6zN6rJz++b9X01CuC+OmTMdu25VC9ocsXlgxBIsPlcNpSWZXTD0iRKTXijfPjc1kTBDIZ/2CTn8OZxsaHUOKhhGJLspl8710/B6MFaUC8Uv9a7OaM74tW/RbnZpW+XOduq0kK3S452qKf+kELFtoLcVvTqjLb3H1IPb8vi1DbJqedKzN6hrUjpza82oD89IyllGelZdP4+ujeMHg4+aBirWWutCzTshJIOHM9Gz+tNErb/+l5t6vUzVYwpJQe5qoEzyvuAoC06hWP7G1ps7yVQ+wZWXM/m6IrGq6vUvoyV59pWU2QjnzV/J1CWGPZfxjNgbLICO1b2xj1jSj1/OZl/5Na6R2yGCjvY2gMleJhsS/68ZIrSKwMPZKDh6WGzQ06QIlzOm31jJFyIMM+lJ8jye87hPB8tYfySy61uACUWa/La6YM7nQ54yQ==}');
insert into `f_config` values ('techsupport_tickets', '0');
insert into `f_config` values ('time_zone', '+3');
insert into `f_config` values ('tips_show_table_name', '0');
insert into `f_config` values ('tips_show_wheel_gear', '0');
insert into `f_config` values ('title', '');
insert into `f_config` values ('user_sort_method', '0');
insert into `f_config` values ('version', '030001');
insert into `f_config` values ('view_fast_edit', '1');
insert into `f_config` values ('vlm', '2');
insert into `f_config` values ('window_scroll', '1');
create table `f_construct_tpl_category` (`id` int(11) auto_increment, primary key (`id`), `name` varchar(255) character set utf8 collate utf8_general_ci NOT NULL , `category_num` int(11) default '0'  NOT NULL )engine=innodb default charset=utf8 collate=utf8_general_ci;
insert into `f_construct_tpl_category` values (1, 'Текущая таблица ', 2);
insert into `f_construct_tpl_category` values (2, 'Подтаблица', 3);
insert into `f_construct_tpl_category` values (3, 'Связанная таблица', 4);
insert into `f_construct_tpl_category` values (4, 'Шаблоны', 5);
insert into `f_construct_tpl_category` values (5, 'Статус записи', 6);
insert into `f_construct_tpl_category` values (6, 'Другое', 7);
insert into `f_construct_tpl_category` values (7, 'Общие', 1);
create table `f_cron` (`id` int(11) auto_increment, primary key (`id`), `description` varchar(255) character set utf8 collate utf8_general_ci NOT NULL , `period` varchar(50) character set utf8 collate utf8_general_ci NOT NULL , `last_start_time` timestamp default '0000-00-00 00:00:00'  NOT NULL , `last_stop_time` timestamp default '0000-00-00 00:00:00'  NOT NULL , `disabled` tinyint(1) default '0'  NOT NULL , `one_time` tinyint(4) default '0'  NOT NULL , `command` longtext NOT NULL , `thread_name` varchar(15) character set utf8 collate utf8_general_ci NOT NULL , `log` text character set utf8 collate utf8_general_ci NOT NULL , `max_exec_time` int(11) default '0'  NOT NULL , `check_enabled` tinyint(1) default '0'  NOT NULL , `check_cond` varchar(15) character set utf8 collate utf8_general_ci NOT NULL , `check_text` varchar(255) character set utf8 collate utf8_general_ci NOT NULL , `check_last_status` tinyint(1) default '0'  NOT NULL , `last_notify` timestamp default '0000-00-00 00:00:00'  NOT NULL , `error_count` tinyint(3) default '0'  NOT NULL )engine=innodb default charset=utf8 collate=utf8_general_ci;
insert into `f_cron` values (1, 'Напоминания', '* * * * *', '2019-06-10 14:52:49', '2019-06-10 14:52:52', 0, 0, 'form_tips("old");form_tips_expert_mode();echo "Done";', 'main', '', 0, 0, '', '', 0, '0000-00-00 00:00:00', 0);
insert into `f_cron` values (2, 'Система автоматической отписки от рассылок', '15 * * * *', '2019-06-10 14:22:24', '2019-06-10 14:22:27', 0, 0, 'unsubscribe_global();\r\necho ''Done'';', 'main', '', 0, 0, '', '', 0, '0000-00-00 00:00:00', 0);
insert into `f_cron` values (3, 'Онлайн Консультант', '* * * * *', '2019-06-10 14:52:55', '2019-06-10 14:52:56', 0, 0, '$snp = new Snoopy\\Snoopy;\n$snp->read_timeout = 60 * $MAX_MIN;\nif (substr(\n        $config["site_root"],\n        0,\n        strlen("http://")\n    ) == "http://"\n) {\n    $task_url = $config["site_root"] . "/modules/livechat/cron_tasks.php";\n} else {\n    $task_url = "http://" . $_SERVER["HTTP_HOST"] . $config["site_root"] . "/modules/livechat/cron_tasks.php";\n}\n$snp->fetch($task_url);\necho $snp->results;', 'main', '', 0, 0, '', '', 0, '0000-00-00 00:00:00', 0);
insert into `f_cron` values (4, 'Архивирование лога', '1 * * * *', '2019-06-10 14:22:40', '2019-06-10 14:22:41', 0, 0, 'archive_logs();\r\necho "Done";', 'main', '', 0, 0, '', '', 0, '2015-07-07 06:01:02', 0);
insert into `f_cron` values (5, 'Новые сообщения', '1-59/5 * * * *', '2019-06-10 14:52:18', '2019-06-10 14:52:24', 0, 0, 'messages_notify();', 'message_notify', '', 0, 0, '', '', 0, '2015-09-03 05:11:04', 0);
insert into `f_cron` values (81, 'Синхронизация', '* * * * *', '2019-06-10 14:52:29', '2019-06-10 14:52:32', 0, 0, 'sync_all(1);', 'sync', '', 0, 0, '', '', 0, '0000-00-00 00:00:00', 0);
insert into `f_cron` values (83, 'Отправка писем', '* * * * *', '2019-06-10 14:52:35', '2019-06-10 14:52:39', 0, 0, 'send_all_mail();\r\necho ''Done'';', 'send_mails', '', 0, 0, 'like', 'Done', 0, '0000-00-00 00:00:00', 0);
insert into `f_cron` values (84, 'Отправка СМС', '* * * * *', '2019-06-10 14:52:43', '2019-06-10 14:52:46', 0, 0, 'send_all_sms();\r\necho ''Done'';', 'send_sms', '', 0, 0, 'like', 'Done', 0, '0000-00-00 00:00:00', 0);
insert into `f_cron` values (87, 'Проверка статуса доставки СМС', '* * * * *', '2019-06-10 14:51:45', '2019-06-10 14:51:48', 0, 0, 'check_all_sms();\r\necho ''Done'';', 'main', '', 0, 1, 'like', 'Done', 0, '0000-00-00 00:00:00', 0);
insert into `f_cron` values (88, 'Техподдержка', '1-59/5 * * * *', '2019-06-10 14:51:52', '2019-06-10 14:51:58', 0, 0, '$_REQUEST[''tickets_check''] = true;\ninclude ''edit_support.php'';', 'main', '', 0, 0, '', '', 0, '2015-09-16 09:22:01', 0);
insert into `f_cron` values (89, 'Календарь', '1,11,21,31,41,51 * * * *', '2019-06-10 14:52:06', '2019-06-10 14:52:11', 0, 0, 'calendar_count_records();\r\necho "Done.";', 'main', '', 0, 0, '', '', 0, '2016-03-24 12:58:01', 0);
insert into `f_cron` values (101, 'Создание периодических счетов', '1 * * * *', '2019-06-10 14:24:02', '2019-06-10 14:24:04', 0, 0, '// Выписываем счета по их расписанию\n$cnt = 0; // счетчик новых расходов\n$cnt_email = 0; // счетчик отправленных e-mail\n$err = ""; // строка для сбора ошибок\n$now_dt = date("Y-m-d"); // текущая дата\n//$interval = "1 day";              // интервал повторений\n$what_find = "  id, f436 as order_date,\n        f839 as client, f4101 as dogovor, \n        f4640 as in_price,\n        f448 as creater, f654 as our_company, \n        f4221 as rpt, f4231 as interv, f4251 as send_mail";\n\n$main_filter = "status = 0 AND f4221 <> '''' AND f4241 = 0 AND f436 <= ''" . $now_dt . "''";\n$filter_addon = " AND f4221 = ''Каждые N дней'' AND f436 <= (''" . $now_dt . "'' - interval `f4231` day)";\n// ---- создаем расходы для произвольного периода\n$pre = data_select_field(43, $what_find, $main_filter . $filter_addon);\n\nwhile ($res = sql_fetch_assoc($pre)) {\n    // ---- Создаем сам счет\n    // if ($cnt > 15) exit;\n    $new_dt = "0000-00-00";\n    $old_order_id = $res[''id''];\n    while (strtotime($new_dt) < strtotime($now_dt)) {\n        $new_dt = date("Y-m-d", strtotime($res[''order_date''] . " + " . $res[''interv''] . " day"));\n        $res[''order_date''] = $new_dt;\n        $new_order[''f436''] = $new_dt;\n        $new_order[''f839''] = $res[''client''];\n        $new_order[''f4101''] = $res[''dogovor''];\n        $new_order[''f448''] = $res[''creater''];\n        $new_order[''f654''] = $res[''our_company''];\n        $new_order[''f4221''] = $res[''rpt''];\n        $new_order[''f4231''] = $res[''interv''];\n        $new_order[''f4251''] = $res[''send_mail''];\n        $new_order[''f4640''] = $res[''in_price''];\n        \n\n        // Зададим критерий отправки e-mail\n        // Если дата нового счета больше, чем сегодня - то e-mail будет отправлен\n        if ($res[''send_mail''] == "Да" && strtotime($new_dt) >= strtotime($now_dt)) {\n            $send_email = true;\n        } else {\n            $send_email = false;\n        }\n        // Если нужно будет отправить e-mail - заполняем также в таблицу e-mail из карточки клиента\n        if ($send_email) {\n            $pre_email = data_select_field(42, "f442 as email", "id = ", $res[''client'']);\n            if ($res_email = sql_fetch_assoc($pre_email)) {\n                $new_order[''f851''] = $res_email[''email''];\n            }\n        }\n\n        $new_order_id = data_insert(43, EVENTS_ENABLE, $new_order);\n        $cnt += 1;\n        data_update(43, array(f4241 => $new_order_id), "id = " . $old_order_id);\n        $old_order_id = $new_order_id;\n\n        // ---- Заполним "Позиции счета" аналогичными записями с указанием нового счета и даты\n\n        $pre_subtable = data_select_field(74, "*", "status = 0 and f807 = ", $res[''id'']);\n        while ($pos = sql_fetch_assoc($pre_subtable)) {\n            $new_pos[''f807''] = $new_order_id;\n            $new_pos[''f4181''] = $pos[''f4181'']; // Категория\n            $new_pos[''f2331''] = $pos[''f2331'']; // Прайс-лист\n            $new_pos[''f811''] = $pos[''f811'']; // Кол-во\n            $new_pos[''f2021''] = $pos[''f2021'']; // Скидка\n            $new_pos[''f1440''] = $pos[''f1440'']; // Наименование\n            if ($res[''in_price''] == ''Нет'') { // если не из прайса, то проставляем вручную\n                $new_pos[''f810''] = $pos[''f810'']; // Цена\n            }\n            $new_pos[''f4191''] = $new_dt; // Дата счета\n\n            data_insert(74, EVENTS_ENABLE, $new_pos);\n        }\n        // Удаляем пустые позиции\n        data_delete(74, EVENTS_ENABLE, ''f807 = '' . $new_order_id . '' AND f1440 = \\''\\'' AND f2331 = 0'');\n        // Проведем суммирование счетов по договору:\n        if ($res[''dogovor'']) {\n            $pre_sum = data_select_field(43, "SUM(f454) as sum", "status = 0 AND f4101 = ", $res[''dogovor'']);\n            if ($res_sum = sql_fetch_assoc($pre_sum)) {\n                data_update(78, array(f1046 => $res_sum[''sum'']), "id = " . $res[''dogovor'']);\n            }\n        }\n        // ---- отправим e-mail клиенту\n        if ($send_email) {\n            send_template(23, "id = " . $new_order_id);\n            $cnt_email++;\n        }\n    }\n}\n// ---- создаем расходы для стандартных периодов\n// ---- начнем с "каждого дня"\n$last_day = false;\n\n$pre = data_select_field(43, $what_find, $main_filter . " AND f4221 <> ''Каждые N дней''");\nwhile ($res = sql_fetch_assoc($pre)) {\n\n    switch ($res[''rpt'']) {\n        case ''Каждый день'':\n            $interval = "1 day";\n            break;\n        case ''Каждые 7 дней'':\n            $interval = "7 day";\n            break;\n        case ''Каждый месяц'':\n            $interval = "1 month";\n            break;\n        case ''Каждый год'':\n            $interval = "1 year";\n            break;\n        case ''В конце месяца'':\n            $interval = "1 month";\n            $last_day = true;\n            break;\n        default:\n            $err = "У строки ID" . $res[''id''] . " неверно настроен период повторений";\n            break;\n    }\n    if ($err == "") {\n        // ---- инициализация переменных\n        $new_dt = "0000-00-00";\n        $old_order_id = $res[''id''];\n        while (strtotime($new_dt) < strtotime($now_dt)) {\n            // ---- Создаем сам счет\n            // if ($cnt > 15) exit;\n            if ($last_day) {\n                $new_dt = date("Y-m-t", strtotime(date("Y-m-1", strtotime($res[''order_date''])) . " + " . $interval));\n            } else {\n                $new_dt = date("Y-m-d", strtotime($res[''order_date''] . " + " . $interval));\n            }\n            $res[''order_date''] = $new_dt;\n            $new_order[''f436''] = $new_dt;\n            $new_order[''f839''] = $res[''client''];\n            $new_order[''f4101''] = $res[''dogovor''];\n            $new_order[''f448''] = $res[''creater''];\n            $new_order[''f654''] = $res[''our_company''];\n            $new_order[''f4221''] = $res[''rpt''];\n            $new_order[''f4231''] = $res[''interv''];\n            $new_order[''f4251''] = $res[''send_mail''];\n            $new_order[''f4640''] = $res[''in_price''];\n\n            // Зададим критерий отправки e-mail\n            // Если дата нового счета больше, чем сегодня - то e-mail будет отправлен\n            if ($res[''send_mail''] == "Да" && strtotime($new_dt) >= strtotime($now_dt)) {\n                $send_email = true;\n            } else {\n                $send_email = false;\n            }\n            // Если нужно будет отправить e-mail - заполняем также в таблицу e-mail из карточки клиента\n            if ($send_email) {\n                $pre_email = data_select_field(42, "f442 as email", "id = ", $res[''client'']);\n                if ($res_email = sql_fetch_assoc($pre_email)) {\n                    $new_order[''f851''] = $res_email[''email''];\n                }\n            }\n\n            $new_order_id = data_insert(43, EVENTS_ENABLE, $new_order);\n            $cnt += 1;\n            data_update(43, array(f4241 => $new_order_id), "id = " . $old_order_id);\n            $old_order_id = $new_order_id;\n\n            // ---- Заполним "Позиции счета" аналогичными записями с указанием нового счета и даты\n            $pre_subtable = data_select_field(74, "*", "status = 0 and f807 = ", $res[''id'']);\n            while ($pos = sql_fetch_assoc($pre_subtable)) {\n                $new_pos[''f807''] = $new_order_id;\n                $new_pos[''f4181''] = $pos[''f4181'']; // Категория\n                $new_pos[''f2331''] = $pos[''f2331'']; // Прайс-лист\n                $new_pos[''f811''] = $pos[''f811'']; // Кол-во\n                $new_pos[''f2021''] = $pos[''f2021'']; // Скидка\n                $new_pos[''f1440''] = $pos[''f1440'']; // Наименование\n                $new_pos[''f4191''] = $new_dt; // Дата счета\n                if ($res[''in_price''] == ''Нет'') { // если не из прайса, то проставляем вручную\n                    $new_pos[''f810''] = $pos[''f810'']; // Цена\n                }\n                data_insert(74, EVENTS_ENABLE, $new_pos);\n            }\n            // Удаляем пустые позиции\n            data_delete(74, EVENTS_ENABLE, ''f807 = '' . $new_order_id . '' AND f1440 = \\''\\'' AND f2331 = 0'');\n            // Проведем суммирование счетов по договору:\n            if ($res[''dogovor'']) {\n                $pre_sum = data_select_field(43, "SUM(f454) as sum", "status = 0 AND f4101 = ", $res[''dogovor'']);\n                if ($res_sum = sql_fetch_assoc($pre_sum)) {\n                    data_update(78, array(f1046 => $res_sum[''sum'']), "id = " . $res[''dogovor'']);\n                }\n            }\n            // ---- отправим e-mail клиенту\n            if ($send_email) {\n                send_template(23, "id = " . $new_order_id);\n                $cnt_email++;\n            }\n        }\n    } else {\n        echo $err . "; <br>";\n    }\n}\nif ($cnt != 0) {\n    echo "Новых счетов: " . $cnt . "; ";\n}\nif ($cnt_email != 0) {\n    echo "E-mail: " . $cnt_email . "; ";\n}\necho "Done;";', 'update', '', 0, 0, '', '', 0, '2018-09-07 06:31:23', 0);
insert into `f_cron` values (102, 'Отправка рассылок', '* * * * *', '2019-06-10 14:51:15', '2019-06-10 14:51:21', 0, 0, 'send_template();\r\necho ''Done'';', 'sending', '', 0, 0, '', '', 0, '0000-00-00 00:00:00', 0);
insert into `f_cron` values (103, 'Загрузка разговоров', '* * * * *', '2019-06-10 14:52:12', '2019-06-10 14:52:15', 0, 0, 'save_call_records();', 'main', '', 0, 0, '', '', 0, '0000-00-00 00:00:00', 0);
insert into `f_cron` values (105, 'Автообновление дополнений', '1 3 * * *', '2019-06-10 03:01:18', '2019-06-10 03:01:18', 0, 0, 'update_addons();', 'main', '', 0, 0, '', '', 0, '0000-00-00 00:00:00', 0);
insert into `f_cron` values (106, 'Архивация писем', '0 0 * * *', '2019-06-10 00:00:12', '2019-06-10 00:00:12', 0, 0, 'archive_send_mails();', 'main', '', 0, 0, '', '', 0, '0000-00-00 00:00:00', 0);
insert into `f_cron` values (107, 'Напоминания (новый алгоритм)', '0 0 * * *', '2019-06-10 00:00:12', '2019-06-10 00:00:13', 0, 0, 'form_tips("new");form_tips_new();echo "Done";', 'main', '', 0, 0, '', '', 0, '0000-00-00 00:00:00', 0);
insert into `f_cron` values (111, 'Заполнение приход/уход при отключенном контроле времени', '1 3 * * *', '2019-06-10 03:01:18', '2019-06-10 03:01:19', 0, 0, '$today = date("Y-m-d");\n$now_hour = date("H:i:s");\n\n// все сотрудники\n$employes_list = data_select_array(46, ''ALL_ROWS'', "status=0 AND f2980=''Выключен''");\n\nforeach ($employes_list as $emp_id => $employ) {\n\n    $time_begin = $today . " " . trim($employ[''f4911'']);\n    $time_end = $today . " " . trim($employ[''f4921'']);\n    \n    if (!empty($employ[''f4931'']) && $employ[''f4931''] > 0){\n        $break = "Да";\n        $break_time = $employ[''f4931''];\n    }else{\n        $break = "Нет";\n        $break_time = 0.0;\n    }\n \n\n// вставляем график работы\n    $new_line = data_insert(\n        220,\n        EVENTS_ENABLE,\n        array(\n            "f3110" => $emp_id,\n            "f3120" => $today . " 00:00:00",\n            "f3130" => $time_begin,\n            "f3140" => $time_end,\n            "f3200" => $break,\n            "f3210" => $break_time\n        )\n    );\n    // отмечаем приход\n    $txt = "приход";\n    data_insert(\n        230,\n        EVENTS_ENABLE,\n        array(\n            "f3290" => $new_line,\n            "f3300" => $time_begin,\n            "f3310" => "Приход",\n            "f3320" => "Автоматически"\n        )\n    );\n    \n    data_insert(\n        230,\n        EVENTS_ENABLE,\n        array(\n            "f3290" => $new_line,\n            "f3300" => $time_end,\n            "f3310" => "Уход",\n            "f3320" => "Автоматически"\n        )\n    );\n\n}\n', 'main', '', 0, 0, '', '', 0, '0000-00-00 00:00:00', 0);
create table `f_cron_queue` (`id` int(11) auto_increment, primary key (`id`), `cron_id` int(11) default '0'  NOT NULL , key `cron_id` (`cron_id`), `thread_name` varchar(15) character set utf8 collate utf8_general_ci NOT NULL , `run_status` tinyint(1) default '0'  NOT NULL , `plain_time` timestamp default '0000-00-00 00:00:00'  NOT NULL )engine=innodb default charset=utf8 collate=utf8_general_ci;
insert into `f_cron_queue` values (159, 87, 'main', 0, '2019-06-10 14:52:00');
insert into `f_cron_queue` values (160, 102, 'sending', 0, '2019-06-10 14:52:00');
create table `f_data281` (`id` int(11) auto_increment, primary key (`id`), `user_id` int(11) default '0'  NOT NULL , key `user_id` (`user_id`), `add_time` timestamp default '0000-00-00 00:00:00'  NOT NULL , `status` tinyint(1) default '0'  NOT NULL , key `status` (`status`), `f4665` text character set utf8 collate utf8_general_ci NOT NULL , `f4666` text character set utf8 collate utf8_general_ci NOT NULL , `f4667` timestamp default '0000-00-00 00:00:00'  NOT NULL , `f4668` text character set utf8 collate utf8_general_ci NOT NULL , `r` tinyint(1) default '0'  NOT NULL , `u` tinyint(1) default '0'  NOT NULL , `f4678` int(11) default '0'  NOT NULL , `f4688` int(11) default '0'  NOT NULL )engine=innodb default charset=utf8 collate=utf8_general_ci;
create table `f_export_tpl` (`id` int(11) auto_increment, primary key (`id`), `table_id` int(11) default '0'  NOT NULL , key `table_id` (`table_id`), `name` varchar(255) character set utf8 collate utf8_general_ci NOT NULL , `exp_config` text character set utf8 collate utf8_general_ci NOT NULL )engine=innodb default charset=utf8 collate=utf8_general_ci;
create table `f_external_files` (`id` int(11) auto_increment, primary key (`id`), `name` varchar(4000) character set utf8 collate utf8_general_ci NOT NULL )engine=innodb default charset=utf8 collate=utf8_general_ci;
create table `f_fgroups` (`id` int(11) auto_increment, primary key (`id`), `table_id` int(11) default '0'  NOT NULL , key `table_id` (`table_id`), `num` int(11) default '0'  NOT NULL , `name` varchar(255) character set utf8 collate utf8_general_ci NOT NULL , `settings` text character set utf8 collate utf8_general_ci NOT NULL , `owner_id` int(11) default '0'  NOT NULL , key `owner_id` (`owner_id`))engine=innodb default charset=utf8 collate=utf8_general_ci;
create table `f_fields` (`id` int(11) auto_increment, primary key (`id`), `table_id` int(11) default '0'  NOT NULL , key `table_id` (`table_id`), `field_num` int(11) default '0'  NOT NULL , `name_field` varchar(255) character set utf8 collate utf8_general_ci NOT NULL , `type_field` int(11) default '0'  NOT NULL , `type_value` text character set utf8 collate utf8_general_ci NOT NULL , `default_value` text character set utf8 collate utf8_general_ci NOT NULL , `javascript` longtext NOT NULL , `help` text character set utf8 collate utf8_general_ci NOT NULL , `main` tinyint(1) default '0'  NOT NULL , `uniq_field` tinyint(1) default '0'  NOT NULL , `fast_edit` tinyint(4) default '0'  NOT NULL , `width` int(11) default '0'  NOT NULL , `mult_value` tinyint(1) default '0'  NOT NULL , `fix_search_on` tinyint(1) default '0'  NOT NULL , `fix_search_mult` tinyint(1) default '0'  NOT NULL , `scw_set` text character set utf8 collate utf8_general_ci NOT NULL , `prefix` varchar(255) character set utf8 collate utf8_general_ci NOT NULL , `postfix` varchar(255) character set utf8 collate utf8_general_ci NOT NULL , `owner_id` int(11) default '0'  NOT NULL , key `owner_id` (`owner_id`), `disable_link` tinyint(1) default '0'  NOT NULL , `phone_type` int(11) default '0'  NOT NULL , `last_value` text character set utf8 collate utf8_general_ci NOT NULL , `placeholder` text character set utf8 collate utf8_general_ci NOT NULL , `crypt` tinyint(1) default '0'  NOT NULL , `reduce` int(11) default '0'  NOT NULL )engine=innodb default charset=utf8 collate=utf8_general_ci;
insert into `f_fields` values (4661, 281, 1, 'ID', 10, '', '', '', '', 1, 1, 0, 0, 0, 0, 0, '', '', '', 0, 0, 0, '', '', 0, 46);
insert into `f_fields` values (4662, 281, 2, 'Кто добавил', 11, '', '{current}', '', '', 0, 0, 0, 0, 0, 0, 0, '', '', '', 0, 0, 0, '', '', 0, 46);
insert into `f_fields` values (4663, 281, 3, 'Время добавления', 12, '', '{cur.time}', '', '', 0, 0, 0, 0, 0, 0, 0, '', '', '', 0, 0, 0, '', '', 0, 46);
insert into `f_fields` values (4664, 281, 4, 'Статус записи', 13, '', '', '', '', 0, 0, 0, 0, 0, 0, 0, '', '', '', 0, 0, 0, '', '', 0, 46);
insert into `f_fields` values (4665, 281, 5, 'Название шаблона', 3, '', '', '', '', 0, 0, 0, 0, 0, 0, 0, '', '', '', 0, 0, 0, 'Коммерческое предложение (образец)', '', 0, 46);
insert into `f_fields` values (4666, 281, 6, 'Результат', 3, '', '', '', '', 0, 0, 0, 0, 0, 0, 0, '', '', '', 0, 0, 0, 'FAIL', '', 0, 46);
insert into `f_fields` values (4667, 281, 7, 'Дата и время', 2, '1', '{cur.date}', '', '', 0, 0, 0, 0, 0, 0, 0, '', '', '', 0, 0, 0, '2019-02-27 12:30:36', '', 0, 46);
insert into `f_fields` values (4668, 281, 8, 'Адрес отписок', 3, '', '', '', '', 0, 0, 0, 0, 0, 0, 0, '', '', '', 0, 0, 0, '', '', 0, 46);
create table `f_fields_links_show` (`id` int(11) auto_increment, primary key (`id`), `field_id` int(11) default '0'  NOT NULL , key `field_id` (`field_id`), `show_field` int(11) default '0'  NOT NULL , key `show_field` (`show_field`), `is_ico_field` int(11) default NULL )engine=innodb default charset=utf8 collate=utf8_general_ci;
create table `f_filter_fields` (`filter_id` int(11) default '0'  NOT NULL , key `filter_id` (`filter_id`), `field_id` int(11) default '0'  NOT NULL , key `field_id` (`field_id`), `status` int(11) default '0'  NOT NULL , key `status` (`status`), `def_value` varchar(1024) character set utf8 collate utf8_general_ci NOT NULL )engine=innodb default charset=utf8 collate=utf8_general_ci;
create table `f_filters` (`id` int(11) auto_increment, primary key (`id`), `pid` int(11) default '0'  NOT NULL , `table_id` int(11) default '0'  NOT NULL , key `table_id` (`table_id`), `num` int(11) default '0'  NOT NULL , `name` varchar(255) character set utf8 collate utf8_general_ci NOT NULL , `cond_set` text character set utf8 collate utf8_general_ci NOT NULL , `expert` text character set utf8 collate utf8_general_ci NOT NULL , `expert_user` text character set utf8 collate utf8_general_ci NOT NULL , `value` text character set utf8 collate utf8_general_ci NOT NULL , `calculate` text character set utf8 collate utf8_general_ci NOT NULL , `def_sort` varchar(255) character set utf8 collate utf8_general_ci NOT NULL , `group_field` int(11) default '0'  NOT NULL , `desc_group` tinyint(1) default '0'  NOT NULL , `count_records_on` tinyint(1) default '0'  NOT NULL , `help` text character set utf8 collate utf8_general_ci NOT NULL , `owner_id` int(11) default '0'  NOT NULL , key `owner_id` (`owner_id`), `exclude_dup` int(11) default '0'  NOT NULL , `hidden` tinyint(1) default '0'  NOT NULL )engine=innodb default charset=utf8 collate=utf8_general_ci;
create table `f_format` (`id` int(11) auto_increment, primary key (`id`), `table_id` int(11) default '0'  NOT NULL , key `table_id` (`table_id`), `num` int(11) default '0'  NOT NULL , `name` varchar(255) character set utf8 collate utf8_general_ci NOT NULL , `cond_set` text character set utf8 collate utf8_general_ci NOT NULL , `cond_value` text character set utf8 collate utf8_general_ci NOT NULL , `used_fields` text character set utf8 collate utf8_general_ci NOT NULL , `target` int(11) default '0'  NOT NULL , `font_style` varchar(4) character set utf8 collate utf8_general_ci NOT NULL , `font_color` varchar(7) character set utf8 collate utf8_general_ci NOT NULL , `bg_color` varchar(7) character set utf8 collate utf8_general_ci NOT NULL , `txt_color` varchar(7) character set utf8 collate utf8_general_ci default NULL , `help` text character set utf8 collate utf8_general_ci NOT NULL , `owner_id` int(11) default '0'  NOT NULL , key `owner_id` (`owner_id`))engine=innodb default charset=utf8 collate=utf8_general_ci;
create table `f_forms` (`id` int(11) auto_increment, primary key (`id`), `table_id` int(11) default '0'  NOT NULL , key `table_id` (`table_id`), `form_num` int(11) default '0'  NOT NULL , `arc` tinyint(4) default '0'  NOT NULL , `name_form` varchar(255) character set utf8 collate utf8_general_ci NOT NULL , `head_form` text character set utf8 collate utf8_general_ci NOT NULL , `body_form` longblob NOT NULL , `foot_form` text character set utf8 collate utf8_general_ci NOT NULL , `type_form` tinyint(1) default '0'  NOT NULL , `subj_mail` varchar(255) character set utf8 collate utf8_general_ci NOT NULL , `to_mail` varchar(23) character set utf8 collate utf8_general_ci NOT NULL , `from_mail` varchar(255) character set utf8 collate utf8_general_ci NOT NULL , `from_name` varchar(255) character set utf8 collate utf8_general_ci NOT NULL , `log_mail` int(11) default '0'  NOT NULL , `group_by` varchar(255) character set utf8 collate utf8_general_ci NOT NULL , `dest_form` varchar(255) character set utf8 collate utf8_general_ci NOT NULL , `att_files` varchar(255) character set utf8 collate utf8_general_ci NOT NULL , `att_fields` varchar(255) character set utf8 collate utf8_general_ci NOT NULL , `att_forms` varchar(255) character set utf8 collate utf8_general_ci NOT NULL , `inl_images` text character set utf8 collate utf8_general_ci NOT NULL , `cron_id` int(11) default '0'  NOT NULL , key `cron_id` (`cron_id`), `filter_id` int(11) default '0'  NOT NULL , key `filter_id` (`filter_id`), `unsubscribe` tinyint(4) default '1'  NOT NULL , `mail_no_duplic` int(11) default '0'  NOT NULL , `pdf_import` tinyint(1) default '0'  NOT NULL , `orientation` varchar(2) character set utf8 collate utf8_general_ci NOT NULL , `margin_top` int(11) default '0'  NOT NULL , `margin_bottom` int(11) default '0'  NOT NULL , `margin_left` int(11) default '0'  NOT NULL , `margin_right` int(11) default '0'  NOT NULL , `color_sub` text character set utf8 collate utf8_general_ci NOT NULL , `alt_signature` varchar(255) character set utf8 collate utf8_general_ci NOT NULL , `doc_name` varchar(255) character set utf8 collate utf8_general_ci NOT NULL , `listid_field` int(11) default '0'  NOT NULL , `page_size` int(11) default '0'  NOT NULL , `owner_id` int(11) default '0'  NOT NULL , key `owner_id` (`owner_id`), `page_break` int(11) default '0'  NOT NULL , `scheduled` tinyint(4) default '0'  NOT NULL , `encoding_letters` varchar(255) character set utf8 collate utf8_general_ci NOT NULL , `log_sub` tinyint(1) default '0'  NOT NULL , `pagebreak` tinyint(1) default '1'  NOT NULL )engine=innodb default charset=utf8 collate=utf8_general_ci;
create table `f_forms_vars` (`id` int(11) auto_increment, primary key (`id`), `name` varchar(255) character set utf8 collate utf8_general_ci NOT NULL , `table_id` int(11) default '0'  NOT NULL , key `table_id` (`table_id`), `eval` text character set utf8 collate utf8_general_ci NOT NULL )engine=innodb default charset=utf8 collate=utf8_general_ci;
create table `f_free_forms` (`id` int(11) auto_increment, primary key (`id`), `table_id` int(11) default '0'  NOT NULL , key `table_id` (`table_id`), `form_type` varchar(10) character set utf8 collate utf8_general_ci NOT NULL , `subj_mail` longtext default NULL , `body_form` longblob NOT NULL , `to_mail` varchar(23) character set utf8 collate utf8_general_ci NOT NULL , `from_mail` varchar(255) character set utf8 collate utf8_general_ci NOT NULL , `from_name` varchar(255) character set utf8 collate utf8_general_ci NOT NULL , `log_mail` int(11) default '0'  NOT NULL )engine=innodb default charset=utf8 collate=utf8_general_ci;
insert into `f_free_forms` values (1, 20, 'send', '', '', '', '', '', 0);
insert into `f_free_forms` values (2, 20, 'sms', '', '', '', '', '', 0);
insert into `f_free_forms` values (3, 42, 'send', '', '', '', '', '', 0);
insert into `f_free_forms` values (4, 42, 'sms', '', '', '', '', '', 0);
insert into `f_free_forms` values (5, 43, 'send', '', '', '', '', '', 0);
insert into `f_free_forms` values (6, 43, 'sms', '', '', '', '', '', 0);
insert into `f_free_forms` values (7, 46, 'send', '', '', '', '', '', 0);
insert into `f_free_forms` values (8, 46, 'sms', '', '', '', '', '', 0);
insert into `f_free_forms` values (9, 47, 'send', '', '', '', '', '', 0);
insert into `f_free_forms` values (10, 47, 'sms', '', '', '', '', '', 0);
insert into `f_free_forms` values (11, 48, 'send', '', '', '', '', '', 0);
insert into `f_free_forms` values (12, 48, 'sms', '', '', '', '', '', 0);
insert into `f_free_forms` values (13, 50, 'send', '', '', '', '', '', 0);
insert into `f_free_forms` values (14, 50, 'sms', '', '', '', '', '', 0);
insert into `f_free_forms` values (15, 51, 'send', '', '', '', '', '', 0);
insert into `f_free_forms` values (16, 51, 'sms', '', '', '', '', '', 0);
insert into `f_free_forms` values (17, 52, 'send', '', '', '', '', '', 0);
insert into `f_free_forms` values (18, 52, 'sms', '', '', '', '', '', 0);
insert into `f_free_forms` values (19, 53, 'send', '', '', '', '', '', 0);
insert into `f_free_forms` values (20, 53, 'sms', '', '', '', '', '', 0);
insert into `f_free_forms` values (21, 54, 'send', '', '', '', '', '', 0);
insert into `f_free_forms` values (22, 54, 'sms', '', '', '', '', '', 0);
insert into `f_free_forms` values (23, 56, 'send', '', '', '', '', '', 0);
insert into `f_free_forms` values (24, 56, 'sms', '', '', '', '', '', 0);
insert into `f_free_forms` values (25, 57, 'send', '', '', '', '', '', 0);
insert into `f_free_forms` values (26, 57, 'sms', '', '', '', '', '', 0);
insert into `f_free_forms` values (27, 58, 'send', '', '', '', '', '', 0);
insert into `f_free_forms` values (28, 58, 'sms', '', '', '', '', '', 0);
insert into `f_free_forms` values (29, 62, 'send', '', '', '', '', '', 0);
insert into `f_free_forms` values (30, 62, 'sms', '', '', '', '', '', 0);
insert into `f_free_forms` values (31, 66, 'send', '', '', '', '', '', 0);
insert into `f_free_forms` values (32, 66, 'sms', '', '', '', '', '', 0);
insert into `f_free_forms` values (33, 70, 'send', '', '', '', '', '', 0);
insert into `f_free_forms` values (34, 70, 'sms', '', '', '', '', '', 0);
insert into `f_free_forms` values (35, 74, 'send', '', '', '', '', '', 0);
insert into `f_free_forms` values (36, 74, 'sms', '', '', '', '', '', 0);
insert into `f_free_forms` values (37, 75, 'send', '', '', '', '', '', 0);
insert into `f_free_forms` values (38, 75, 'sms', '', '', '', '', '', 0);
insert into `f_free_forms` values (39, 76, 'send', '', '', '', '', '', 0);
insert into `f_free_forms` values (40, 76, 'sms', '', '', '', '', '', 0);
insert into `f_free_forms` values (41, 77, 'send', '', '', '', '', '', 0);
insert into `f_free_forms` values (42, 77, 'sms', '', '', '', '', '', 0);
insert into `f_free_forms` values (43, 78, 'send', '', '', '', '', '', 0);
insert into `f_free_forms` values (44, 78, 'sms', '', '', '', '', '', 0);
insert into `f_free_forms` values (45, 79, 'send', '', '', '', '', '', 0);
insert into `f_free_forms` values (46, 79, 'sms', '', '', '', '', '', 0);
insert into `f_free_forms` values (47, 80, 'send', '', '', '', '', '', 0);
insert into `f_free_forms` values (48, 80, 'sms', '', '', '', '', '', 0);
insert into `f_free_forms` values (49, 81, 'send', '', '', '', '', '', 0);
insert into `f_free_forms` values (50, 81, 'sms', '', '', '', '', '', 0);
insert into `f_free_forms` values (51, 82, 'send', '', '', '', '', '', 0);
insert into `f_free_forms` values (52, 82, 'sms', '', '', '', '', '', 0);
insert into `f_free_forms` values (53, 83, 'send', '', '', '', '', '', 0);
insert into `f_free_forms` values (54, 83, 'sms', '', '', '', '', '', 0);
insert into `f_free_forms` values (55, 84, 'send', '', '', '', '', '', 0);
insert into `f_free_forms` values (56, 84, 'sms', '', '', '', '', '', 0);
insert into `f_free_forms` values (67, 91, 'send', '', '', '', '', '', 0);
insert into `f_free_forms` values (68, 91, 'sms', '', '', '', '', '', 0);
insert into `f_free_forms` values (69, 120, 'send', '', '', '', '', '', 0);
insert into `f_free_forms` values (70, 120, 'sms', '', '', '', '', '', 0);
insert into `f_free_forms` values (71, 130, 'send', '', '', '', '', '', 0);
insert into `f_free_forms` values (72, 130, 'sms', '', '', '', '', '', 0);
insert into `f_free_forms` values (73, 150, 'send', '', '', '', '', '', 0);
insert into `f_free_forms` values (74, 150, 'sms', '', '', '', '', '', 0);
insert into `f_free_forms` values (75, 171, 'send', '', '', '', '', '', 0);
insert into `f_free_forms` values (76, 171, 'sms', '', '', '', '', '', 0);
insert into `f_free_forms` values (77, 180, 'send', '', '', '', '', '', 0);
insert into `f_free_forms` values (78, 180, 'sms', '', '', '', '', '', 0);
insert into `f_free_forms` values (79, 190, 'send', '', '', '', '', '', 0);
insert into `f_free_forms` values (80, 190, 'sms', '', '', '', '', '', 0);
insert into `f_free_forms` values (81, 200, 'send', '', '', '', '', '', 0);
insert into `f_free_forms` values (82, 200, 'sms', '', '', '', '', '', 0);
insert into `f_free_forms` values (83, 210, 'send', '', '', '', '', '', 0);
insert into `f_free_forms` values (84, 210, 'sms', '', '', '', '', '', 0);
insert into `f_free_forms` values (85, 220, 'send', '', '', '', '', '', 0);
insert into `f_free_forms` values (86, 220, 'sms', '', '', '', '', '', 0);
insert into `f_free_forms` values (87, 230, 'send', '', '', '', '', '', 0);
insert into `f_free_forms` values (88, 230, 'sms', '', '', '', '', '', 0);
insert into `f_free_forms` values (89, 240, 'send', '', '', '', '', '', 0);
insert into `f_free_forms` values (90, 240, 'sms', '', '', '', '', '', 0);
insert into `f_free_forms` values (91, 250, 'send', '', '', '', '', '', 0);
insert into `f_free_forms` values (92, 250, 'sms', '', '', '', '', '', 0);
insert into `f_free_forms` values (93, 260, 'send', '', '', '', '', '', 0);
insert into `f_free_forms` values (94, 260, 'sms', '', '', '', '', '', 0);
create table `f_groups` (`id` int(11) auto_increment, primary key (`id`), `pid` int(11) default '0'  NOT NULL , `name` varchar(255) character set utf8 collate utf8_general_ci NOT NULL , `hidden` tinyint(1) default '0'  NOT NULL , `sub_admin` int(11) default '0'  NOT NULL , `editable_fields` text character set utf8 collate utf8_general_ci default NULL , `default_page` varchar(30) character set utf8 collate utf8_general_ci NOT NULL , `auto_add_ip_user` tinyint(1) default '0'  NOT NULL , `help` text character set utf8 collate utf8_general_ci NOT NULL )engine=innodb default charset=utf8 collate=utf8_general_ci;
insert into `f_groups` values (1, 0, 'Администратор', 0, 0, '-login-password-fio-e_mail-phone-lang-time_zone-window_scroll-sound_on-display_notification_on-default_page-api_on-', ' ', 0, '');
insert into `f_groups` values (2, 0, 'Менеджеры', 0, 0, '-default_page', '', 0, '');
insert into `f_groups` values (777, 0, 'Клиенты', 0, 0, '-default_page', '', 0, '');
create table `f_import_tpl` (`id` int(11) auto_increment, primary key (`id`), `table_id` int(11) default '0'  NOT NULL , key `table_id` (`table_id`), `name` varchar(255) character set utf8 collate utf8_general_ci NOT NULL , `imp_config` text character set utf8 collate utf8_general_ci NOT NULL )engine=innodb default charset=utf8 collate=utf8_general_ci;
create table `f_invite` (`id` int(11) auto_increment, primary key (`id`), `user_id` int(11) default '0'  NOT NULL , key `user_id` (`user_id`), `add_data` datetime default '0000-00-00 00:00:00'  NOT NULL , `name` varchar(255) character set utf8 collate utf8_general_ci NOT NULL , `email` varchar(255) character set utf8 collate utf8_general_ci NOT NULL , `mail_uid` bigint(20) default '0'  NOT NULL )engine=innodb default charset=utf8 collate=utf8_general_ci;
create table `f_key` (`code` blob default NULL )engine=innodb default charset=utf8 collate=utf8_general_ci;
create table `f_legend_status` (`id` int(11) auto_increment, primary key (`id`), `table_id` int(11) default '0'  NOT NULL , key `table_id` (`table_id`), `report_id` int(11) default '0'  NOT NULL , key `report_id` (`report_id`), `calendar_id` int(11) default '0'  NOT NULL , key `calendar_id` (`calendar_id`), `user_id` int(11) default '0'  NOT NULL , key `user_id` (`user_id`))engine=innodb default charset=utf8 collate=utf8_general_ci;
create table `f_link_fields_for_addition` (`id` int(11) auto_increment, primary key (`id`), `field_id` int(11) default '0'  NOT NULL , key `field_id` (`field_id`), `addition_field` int(11) default '0'  NOT NULL )engine=innodb default charset=utf8 collate=utf8_general_ci;
insert into `f_link_fields_for_addition` values (7, 5381, 5281);
insert into `f_link_fields_for_addition` values (8, 5381, 5301);
insert into `f_link_fields_for_addition` values (9, 5381, 5321);
create table `f_logo` (`logo` mediumblob NOT NULL )engine=innodb default charset=utf8 collate=utf8_general_ci;
insert into `f_logo` values (0x89504e470d0a1a0a0000000d4948445200000096000000270806000000ed97b132000000097048597300000ec400000ec401952b0e1b00001a9c49444154789cd59c7d9495c599e07ff5f6e572b95cdba6830dcb12444468391ee3ba448db08e1ae1103593284efc420d66749cf8c1e047d035c430ea18266a34ae8b6e3c9b31a0e2c7064ce2670c31b1c300c15618d4a6c34140e8347443ba9ba673696ed7b37f3c55b7ebbefdde4b6b9c3d3b754e9ffbbe55f57c54d553f57cd4f3b6b1d64668c90253814b817380b1400ab04014fc2695785b124c3978eb7e7d5b01d80aac049e11912dc6987c19ba038a88608ca9583f983effd1610753fe3d618db53605d4017f0b5c832ef40ea01d282ea888288031c5e7229260f0e17b12334970b1921191d1c698f122d26d8cf9be88bc608ce9a25f08c31201564422c79b75bf91312614f092fe3158cf4be4f934c6d800c7e1608b1be693c07afa9f10d63afa49638dc386efe50e824f05d6586bab815b80eb8046e0496015b00fb04982f4ffa08c01fe1ab80a15fafb80e540b7ef10f0953421832d45d87f8771fe257cfda53406433bbea9cac2969b9b4a6b6044e46c60a9886c02ee30c6bceb778b88440e813ddcb32f22421445d65aeb4f10a228b22212b967ac551ea228c20d6e000e634c1a3803b817558ff344647d71f4519438d824f511fefa0909fb8793e479f775be3e0e1b8e3d6c8bcf49706a16c7edf1fac588cd95af8fb4c996cc8d87b5d6968c2de4293e2f511415d7333e3f7e6de2f391041b9fe7386c3857c65afb247036701bf002c9523ca094537b498b59095752bfe0398baae83b81bb812788a9e718ec69c05411d9698c5919c3391e98698c498bc81a63cc7a62e5ff577be53f226c0a35d477026f10a885c395727d82dd53ae5f89bde07774680f05303dc0bb8ebfcf0135406b05d8bf01e6186336022b03bba9d61873af1beb1e634c0303ed8472bcc64b928df169c326e148b6659261e3b4e3ce5412dd4a8e59d86750b0296034ba78fbca20feb48b4d788eff86a51dd8038c04d28781ad4685af26e897414fe3f31dfc3c6063195a95781d4cfda7055baeef606193fa559ae3c1e21e346c2a6c28679f0015ebe3cfe57e07dbdf97605758c76b540936a1648039c0650efe87a813e04b1a15c26c026c01dd6c79d481c8a002dee3da23075b0d7400de6b4d01b5eecf6f846ef4a4f5b059fa857f8f88141cff697403e16867811ce54f932e47dbf3126ebe1e47d33b3c39c7538f832938385f9f77347bdd98ea8279c9a31bbc8352efd48fc3cb912fb6a4225c9c72aa2ca93e29d6524925c69f93e042262bf15841a8bcf17f0d3a493f05beef1b1ddc68e046e0e404f8566009b00e58009c082c027e1bc0fe1d703af014b00c9de0e9c015aebe0e5da82dc05322f202aa8a4f74b000771a635adcf378470be06187ebcb949ed4617905f81f8eb7b96ebca3d139db0abc88daa57bd018e51dc05baeae15158c9b80ff06ac061e4737d025c0578049a800ed045e077e0cbceff08f4537eca90c14fedeb8a4552a61a033b10436cdc739eea3c0432a174b497af634936072c02c54a84e02de0416a33b32b4e36ad1093f038ddde551e1188beed09fa321985350c7e049e0b7c6986ae06bc0b5a8f0bcebe026a05eec89a8ba5d832ed474e03e07773f1a4e3983fe5defcb48570f2aac35ae6f86fe13a90b15140b1ce5c670af83db82868a7cb07b1130ccfd8e456dcc3c7a6a47a8602c40856ca96b9b077c133dd97eebfa4d71756947ab1d75a8ae76fd76a22760ced149a5fca25672c95d29aa4b5fca788436495d85b0ee3de316a33b4051c93628790e70c5e945c05863cc7de80900b08dfec548e40978c018d384eef84522523c25626a37850ad9378091c11c4422321d38c539078b808d229231c65c24220f001700cb4d69f033e427ee912f474f922c305b44be6e8c592d223f321a306e01ea813351a1ba5b4456bbb9bd14b8d9b52d8e8f03385b4416a027eae3c69895404144b63b1acfa29b0834a678272abc4f022911b910e831c6fc0b7a321680d344641e303ae527d6c72b62032ec6ab7c9d8fabf838461c2628892797b536b2d69e608cb90dd829228babaaaa3a2af42f459a4cd3c77cfc7b4644c6e1ec3274623e041e8aa2a83ba13fc01a17271b8f0a7bad6ff073e47ec7a1ea731cd02a22be5f044c76fdda1d8eb1eebdd9f5a906c604c29c45433df5aeae1ec88a488f1beb56608bb5368b9ebc88480bf0a631a6c38de13447bb1578238aa23d6ede1e01fecd18b34d44f201ff7522723e70317a1a3e01fc6f634c9768c4ff69117903b5a7b20e662bba31bddd558b0a6f9788fc3a8aa2371ccd1c2e1ce45561140f9e05935a63adbdce187329c0f6eddb1ffdf59b6f2ebbeaca2b7b9ce0a580592272a731262b22fc74c58a570f1c3870ef95575cd115e0c9a03bfd2a63cc99c09883070fb66f6e6edebe67cf9e278e3aeaa8c4bbc484c05c3943d61bf61668426d843af468bf08bd5d785dfa83ac913b7dfc1c7863b61c7ed049fd06aa52de7475677b7c01ae996eac046dfe37b4976ad15b052fe129549d6c7363f57cc6798a82368faf809e387ee3ef037e168ccb97935001ce39baedc0be80c678603eaabe3deeb4e3d51f003b5101aa05ae17913a202f22ffc5e1edf70a43d562ad0d852c02feb3889c00d0b479f3313f59ba74f4b6eddb777ee7dbdf2e18634e418fda7a6b2def7ff041e3cf7ff18bd75efcd9cf46eedfbfbff08dabafce0c1d3a749663f62420eaebebb35dfbf7ef79e5955796dfb66041c3a44993aaefbbf7deaed34e3df5b0d72ba1caf651f2840dd12b22dbaaaaaab65a6bf32232d618331d55711700bdae7fb59b882e5425943d811d8de345e45a634c336ad87f99811e11e80e5f953096eda8ede5eda842b048385e26843493c69ed4960013a1274eded1f1c5db44295488ae03deb3d6be608c190b2c169199a893d1ec4c8d3a74ae147114b55b6b17a29be26cd1db9b82e32fe589fbce365433e5165744d8b07163f6e5975fae5bb376ed04d4d3a807686b6bdbf6eaabaf3efadcf3cfb71c387020f57663637d6f6fef1de8229c9ccfe77bdbdbdb776cdfbefdcd9be6cd5bf0f5abaf7ebcadadadb065cb969a1f3cf45076e58b2f12459135c6787e20b6d8417bf1bdaaaacaf72d9640d03619637e890acf2cfa17358d7a3d635041e849a217c3f755634c376a67bc11eb62e90f2734020ba3289a678c99678c5908ac4033363a02985660761445a74651f479f434dc198ed5ad493c2869a328f2668117ca3490f3f3034c44d7e6ab940a7f036aebfd57f4a6652470853166242ad4a38d5e1b7d4344feca187396e3ab2936de9fa09e364033f0b431e60d9ccd5c5485f19d5f29642f2251d3e6cd35b95cee46e05c80cececef655bffef5b2871f79e4dd43870ed9eaeaead4e95ff8c29753a9d437adb5e97dfbf66d69dabcb961e5ca95bf7be6d9671bdbdadafc22b07bf7eef4fab7dfae19515353e8e8e8c81f71c411504625f5f5f545018fc53bbda4e2ec41eb26f03cd4bbbb0dd8242227a276c648d448eeeaebeb2b4bd7953ae03974520bb1360b6c404fbe9380aff5f5f56d327a857486a3fbb4fb8d8f2991ae5f93326d7efc4d8ee604608eb5b6c1991d97a39e6b13f0720c3c1291bc31e66134707c32ba8e5b82718d07a6383bd4ab4ecf6f847abeb350dbeb51e031d404a80772f13856b9903db17edcf74fff74eec4638f9d03f0e73fffb967c3c68daffee889277ed9dadada034493274dca9e7dd659970d1b362cd3d6d6b66df973cf3dfebdef7d6f555b7b7b4f0932772ab6b4b464d7ac5d5bf33f972c695ff0ad6ff980e1009b27211e36981bfe66f4c4380115ae4b80cfa2764423f03cd05566cc21ee4dc003a85d128f2d59d483fb05ba488b8c313b512377127a9a7d44425e5ab9b1bab67898c7c6dade4785fd1254682f7634c7a3a7f40fe83f498bf001eccfd020f279a849b3110d2fdc618cb9c0c1d4a18ec81ed48ca80116a29b72257a72956cb4942352643a7e52c5d5a131868b2ebc70ea055ff9ca35d96c36532814ecae9696c6a54b973efb564343bbc773dc71c74d3afae8a32788089d5d5d9b7eb56ad58edb6fbffdfc71e3c68dfa68c78e7d4b9f7aea77efbcf3ce363799b6af50e0c30f3fccad5db7aef7e65b6fddf7d0830ffa49280927847c05f12f5fb7025df40f632ebd159165ee7904d06a8cd98a7a8f2f1abd90f613b30f785c44aa8d319b507bed4960b531e63511d9e8e81644e425609f31e657e8a9d1022c14917f054e35c6d4a18bbb5e445e03561963f222f23eb0c4d92ffb8271ec109125ee7dab0fdf38dc0dc083c0efe817140b748bc82263cc3b22f2052704bdc6985522f24b63ccabaedf26e09f817f73736445a417f88131a6554476b9b13c20229b81cf3bf518895eeaaf01de12912627378d6ede5e71e306681291c78d314762adedb3d6be48421191c85a3bd25afba8b556acb5f2daebaf3fd5dcdcfc76a150e8b3d6cadebd7b3f9c7ff3cd5f1f9acd9e904aa7eb534387d6a7860eadbffb9e7beeb3d64a3e9f3fd8b479f3860f9a9ad6767676fea9bbbbfb404767e79f5a5b5b3ff8e1238f7c27337c78095cf5881113fff9fefb8b915c6bed146bed2bd6da97acb5deb04d5457d6da8cb5b6c6b9bd4963a9b6d6d65a6b73d6daac888c745e5598361289484e44aa4524edc223396b6dadf322437c596b6d8d8864026fccf71f63ad1d2f22e3adb5752ea1d2c3a6adb5d522521da6c58848cad73b5a7e0e226b6d46446a1ddf519c67c7cb186bed786bed3837b69453a79188a445a446443cbcc79b72f5d5d6da74304f63446482884cb0d68eb3d6d6f9713abc356eece1b8528ef79a01e1065fca19efd3a74dfb6a3a9d4e4751141d3c78b067d9534f3df7bf7ef4a3757d858275d801f8ec673f3b16209d4ea7271e7bec092e685400c8445175f51147d45c7ed965d70f1b36aceaa67ff887670ff5f65a809e0307528b172fae7bfa99675a2eb9f8e2deb810050b91245cbdeeafd8cf074ddd587a284deccbbbbe457cbe5f4c2df6003d225212c7430de7bc9fa7c026ea49c011c2169c13e073ab4275d71d7abed29f19dbeb4e181c1f719ef3f4677e10d4fb52109162f827a419d63b986ecf473057255ac205683d2fc5db1311e92e3246a06eca15dfdedadaba75fffefd1d00555555e9d34f3ffda4a953a7fa0b55efc1d85c2e97f330077b7b7bde6a685879e55557fdfd95575d75fdc68d1b57890823468ca89b3963c6f93367cc98888f4189d0d5d595baebbbdfad7be8e1870f7be594c07784eafe49c009ce489f8a1a9a99c38df3939624bca13a0edbbd8af375f15f0f6b126e31e274ca8d27960858318c52a9fe30b676c9f8c27114172ec9d50e8f694f607373f31b870e1dcace38e79c39994c265b3f79f2e937cf9f7f455b5bdb8f9b376feec0f58b4c7ff6e5ae9d3bd72dfac77f5cb27af5ea9d40b466eddaa6756bd79e3cf2339fa9cd66b3e32ebce082292fbdf4529323848844bb76edcaac58b9b2f6efafbb2e1a3a746891a7202412cf2f8adce04ea1ff12d8dfb3655c9f695555558d015c38e64ade6012cdc1c086b9eb71583f16af967c1d61ffaaaa2a9b005b896e317bd7f4e7a995f091402b3ece90874af4229f112c22385e4b3a467d7d7df4f5f5454eef46f194585f8c31bdb72d58f04ce33befbc0e307cf8f0dcf469d3fefab65b6f3de7c81123b27e205dfbf777fb510aecfcd7356b5a3dbd9d3b77ee7befbdf79a00b2c387e78e3beeb8a33c9ca7d37bf060b461c386dc9bbff94dee606f6fb13ee08ff8af6896e80368d6690e35581b8057d190423e0617c757ee2f89e6a70a1b8cef2fa51b9fab01306568857de2f813e9052ab9a8d2fd5fc98954e9d80b4b5b5b5bc7c2ef7c67495353d326809a9a9a313366ccb8fcf6050b4eaaaaaa4a01b4b4b4b416f142263b6c989e8eeeb8ac39f2c86a00b1d61e2ac443428031f4f4f4a4962f5f5eddb26b57b9b49178b9088d21ad46eff3e68bc87cf43ae7360606f9a0c26933087ae5ecbd4a574383c17b387a49ef95da0e876b30b0831d53145614d381bd809513325fffd65b6fedf8e98a153fd8bd7bf71e630ca3eaeaea67ce983177eedcb9e3003637376f003d2b3399cc09377cf39b271963c018e6ccb9fcf4c993274f34c6d07de040c7c60d1bfe586e70adadad5177777714f215e73178fea283f55f1aed31c6741863b61963dabd3a70fd6bd1a8f45de82977bb31667a18dd76fdb268e0efdbaedf5d6850b1867e47c0a241c65bd19cafbb81af1963ea12e6b1627e59b9b98f8756421e63fc0ea063dc4d46385f01ef0360e3369957abee2f299668e3cfa9a043622642bc2e34f61e5db2a471fcd1473f7ae18517de99c964d2f593279f7eeeac5997af5fbffe91e6e6e6e63f6cd9b2f5b88913278c1e3dbafe861b6e58346ddab4c6d49021a9cf4f9d7a5a2693c9586bf9734fcfd6a5cb9679bba7843c80506a1896cba8b0d666509b2a028e037ee3de7d76c162f4e2b8202213dcfb99a8fd15a10e4c079a6077bfbb879c800ad24cf4aeccdb3a3dc0732272af8b01dd849e8a6136655e441a5cfd96c09e0af98fa0ff4b9c04e1d1189fbb6d08eca6a2071a4551d85e6cf36b15138201592a49ebee3dd1789bf7aecbad41089798dd10f744c21232dad6d6965f74cf3daf0ecfe5469dfba52ffded902143d2e79d77de657feae868fdf6c2854f2d5bb6ecfbb7de72cbddc3870faf1d356ad4f859b3668df7b0bdbdbdf9d6ddbbdf5f70c71d8f363636b638e449fc16eb43d73ce0cd2f96cfef4aa327473b1a7ac8a0f783a7a197c6eb800b5161d98146cab70367a127d8f54083b576139a1931c7e17a0c780fcd989c035c648c790bd8628cb94644aad1ab93df0047a36af97c3490f880b5d6873a8a17ff6e2ec34c05ef848402e8bf46f7f1aaf076c4db4c5e408b5faefbd3c5e38a3b6209f5a1136471d77cbe0e8a9fe9596b6dcaf47fe616b6ebc0ac8d4ab21be282e48cb3423e9fff307ff060a388d0dedebedb7a8b4d840fb76eed7afa99675efc4c6d6dcd942953ea05983e6dda29c71c73cc2b4b1e7b6c756ac890bb2ebde492d94756578fb6d6a6019b4aa57a7ebf7efdfaef2e5af47c6363e38ea2f078da5ec0fc7be0c626f059e2f2ba5dd68066466e45af27ee1691e9c698b96856e4cbaeffbbc698550ec74f504f3287de836d01768bc83a63cc23e8d54501bd029a8a863332e875d162f4747c30109e5ee05bc0c9a241581f9fb2f153241496782882d2132c69ac04b01e771157b8e0415db1def312878df353a90ff47fd8ec7186e1864455d8d1d1d1fde0430ffdcbcb2fbffc46fbdebde9eefdfbf3070e1c08534ca2152b57eef8d5aa55dfcf66b345237bfffefdf903ddddf9bbefb967d592254bd64c9a3469f488112372f97cbeb7b9b979cf471f7db42f366961d189f6fa3c5888aaaa2a6bad8dc20f4b7d71832e00cf8bc87af7de003418634e4685c1025b8ddec44f44d36b23faaf7422344b608fb5f67e34973d87a6f1668163d124bff781ad5114758926c69d849e641987cbd3aad6e92d9f14991042a1ccfb604a2598c3e1fbd4604bb21be23d4584dada5afb37b36777fce10f7f28ecdcb5abb6bbbb7bc0171988445d9d9d3d5d9d9d3dc1c913b967dbdedededdbe77ef1687346424ce50b9e762e9ebeb8bc2087842b14077cc003e802eb65797678aa6e59e80da455eb052e8dd9e9f8f82d18be4f3d153c9f7b5a8e7d96ead1d2b2277a017cf6350553c20ee1366651ca6948c4b0e93c15109479920e7a0bcc5bf14b66264db23fddce73e67ffeeda6bbbbbbaba52eb7efffb9afd5d5d49704a34b4c9c2948ffeecce2437372a11b881c2577c0f06fa71dce9f03d87a6944c474fb36751614aa3de5c2ee8ef3fc77a1fcd494aa3b7fcd7a06af314d7f76be869b608cdfe4c035f4253a28192058a6f9eb00c08829ad28f459260cb054eed6184318976b1be4cb4bedca955c257d178f73a3dd0b7b8fa22e4d9679d65d7bffd76c7debd7b531f3435d51ccc57f8cf4222fd3653f8fbf14ac920123ca6f800fdbd5d0a383e9898349a2293114dd74d01138c313dc06b22f28431c6a7f4ce07720e76bc88dc820ad06da8916f51c1fa3c9aa6722c90369a73b503f8a1c31ba169bbb3faa7a4dfb689870462de5ba2775ceeb9cc954d688bc5ff734d393ac5faa4f58f7b98aebd68c087f788c5134b445249de60dc50be65fe7c7bec31c7b4fff7850b533b76ecc8f52505361581ff8d4adecb07de92066a01860c191219fd2aa4506e321c8fbd6856e714e05a11190d6c463fcd9fe9e8fc1c55792deeea6706fa41473baae6eae89fd86e5408a7a0dfd32d0ff0cd7278f6a2c2dc8b4bf3154d89c9a0c29789f30987ffbf0787bbcf4c8823257aef098e40228e72b0b1bbcbd078f770033e20f62585de888f14fdda645f40a8c4c504a8aaaa62f6ecd9b6fef8e3f79c77fef951cb1fff98f405b12fc98668ffe9e5dbfb8f606db38844ae8f9d72fcf135d96cb696fe4cc9503843ef07d40e9a8086162ea2df76ea42bdba9fa002f36334d3f144346ddaf3924755d90e34c4f0302a1c67a2d7446987af1bbd265a8526bf7d1155ad77d11f1e28381c9bdc73dce32e5157e51637611e0f2b78f487304a8421c93b4c50d161964b31f0190b890c80f5218a629bfd84ff6d66c5ca95e9eb6fb8614cfbdebd3e9fa9f434f9f8eaaf148708a3468dca3cb664c9c57f75c619d7e672b9454e6d153f654ada7546bf149a094c31c61c21227f02361a6356a302062a20f52e04f19fdc7b1ed88d86138a897f2252638c391d15c211c07e54c81be84f53a945bfdc99041ce1603bd11857833b1193d45e62ac1020c9ebad3067717534a094a353aebe4c9f01e649395863ad3d07bd02d9887e94b8318aa2029446de43b5e899bff1a69b72ff67c58abaf6b6b694a35491415722bcd427f57702397cf8f0f4bc1b6f3c65eedcb9f38e1e37ae07b851dca75bf1c90b17c1dfd8fb505b18990ec711d68bdecc63ad8ddff897c026dce4477d7d7d84ed21ed386f319e4bde03bce084258e27040fe9c6fb94a13720ea9e3457e5e8863893788f8f2d8546a29f403f03ba1778d25abbca19bac55de007110ee6a2d9b37b9a366fdef7eebbefd6767676965c32572825a7d280620cf59327d7dd78c30d5f3cefdc73bf3a6ad4a81cf008ea9925da29fe7ac345e64bda7d9baff325142a638cffa001bf60aebe04d6f789d30c7184ef3e2c12b743caf50dea07f09c442f6e03971b6b12bcab2bb1a5c33929374f7e1ee2fd06b43b491ccdc0ff41ba07978d59a91c3a7428dabd7b77a6b3b3b3ff74534a8942106f8bb547d5d5d59961c386d50e193264ec91471ed9815eeabe40ff7f732957125dee84fa24b84a2e7cf89e84bb5cdf245e9260e37c7c1cd8245579b880ea001bb50ccd245c95547369b822b87bcba1d70f9702e71863c63ad7bd0479825ef5b950c58a24b599b46bc3fa22b2282ab84fcb5702cf1863b6884b212ec7479c272fa4a1a15989765ca50cc2384ee425c03b201694649cc7ea8b6181388f49e32b37f6045c51dc3374309f24ca3e203ee66daf901e60ff2f16d1bd46ae2e0d070000000049454e44ae426082);
create table `f_logs` (`id` int(11) auto_increment, primary key (`id`), `date` timestamp default '0000-00-00 00:00:00'  NOT NULL , `event` varchar(255) character set utf8 collate utf8_general_ci NOT NULL , `text` text character set utf8 collate utf8_general_ci NOT NULL , `user_id` int(11) default '0'  NOT NULL , key `user_id` (`user_id`), `ip` varchar(130) character set utf8 collate utf8_general_ci NOT NULL , `crc` blob NOT NULL , `table_id` int(11) default '0'  NOT NULL , key `table_id` (`table_id`), `line_id` int(11) default '0'  NOT NULL , key `line_id` (`line_id`), `sync_id` int(11) default '0'  NOT NULL , key `sync_id` (`sync_id`))engine=innodb default charset=utf8 collate=utf8_general_ci;
insert into `f_logs` values (1, '2019-12-22 11:10:55', 'restore_backup', 'Пользователь "Ленар" восстановил бэкап с именем "нулевая конфигурация"', 1, '94.180.149.1', 0x3738363735633539383265396332626134643663396563356533323531363861, 0, 0, 0);
create table `f_logs_acc` (`id` int(11) auto_increment, primary key (`id`), `form_id` int(11) default '0'  NOT NULL , `status` tinyint(1) default '0'  NOT NULL , key `status` (`status`), `table_id` int(11) default '0'  NOT NULL )engine=innodb default charset=utf8 collate=utf8_general_ci;
insert into `f_logs_acc` values (1, 17, 1, 42);
insert into `f_logs_acc` values (2, 210, 1, 42);
insert into `f_logs_acc` values (3, 23, 1, 43);
insert into `f_logs_acc` values (4, 150, 0, 43);
insert into `f_logs_acc` values (5, 160, 0, 43);
insert into `f_logs_acc` values (6, 170, 0, 43);
insert into `f_logs_acc` values (7, 180, 0, 43);
insert into `f_logs_acc` values (9, 60, 0, 43);
insert into `f_logs_acc` values (10, 61, 0, 43);
insert into `f_logs_acc` values (11, 230, 0, 79);
insert into `f_logs_acc` values (16, 250, 0, 79);
insert into `f_logs_acc` values (17, 260, 0, 79);
insert into `f_logs_acc` values (18, 28, 0, 81);
insert into `f_logs_acc` values (20, 6, 0, 53);
insert into `f_logs_acc` values (21, 270, 0, 79);
insert into `f_logs_acc` values (22, 280, 0, 79);
insert into `f_logs_acc` values (24, 290, 0, 79);
insert into `f_logs_acc` values (25, 25, 0, 81);
insert into `f_logs_acc` values (26, 31, 0, 53);
insert into `f_logs_acc` values (27, 300, 0, 43);
insert into `f_logs_acc` values (28, 111, 0, 78);
insert into `f_logs_acc` values (30, 311, 0, 130);
insert into `f_logs_acc` values (31, 321, 0, 130);
create table `f_logs_crash` (`guid` varchar(30) character set utf8 collate utf8_general_ci NOT NULL , `date` timestamp default CURRENT_TIMESTAMP  NOT NULL , `user_id` int(11) default '0'  NOT NULL , key `user_id` (`user_id`), `table_id` int(11) default '0'  NOT NULL , key `table_id` (`table_id`), `report_id` int(11) default '0'  NOT NULL , key `report_id` (`report_id`), `message` varchar(1048) character set utf8 collate utf8_general_ci NOT NULL , `in_detail` text character set utf8 collate utf8_general_ci NOT NULL , `url` varchar(2048) character set utf8 collate utf8_general_ci NOT NULL , `call_stack` longblob NOT NULL , `global_vars` longblob NOT NULL , `notified` smallint(6) default '0'  NOT NULL )engine=innodb default charset=utf8 collate=utf8_general_ci;
create table `f_logs_subtable` (`id` int(11) auto_increment, primary key (`id`), `cat_id` int(11) default '0'  NOT NULL , `addon_id` int(11) default '0'  NOT NULL , `table_id` int(11) default '0'  NOT NULL , `names` int(11) default '0'  NOT NULL , `dates` int(11) default '0'  NOT NULL , `result` int(11) default '0'  NOT NULL , `adress` int(11) default '0'  NOT NULL , `tip` int(11) default '0'  NOT NULL )engine=innodb default charset=utf8 collate=utf8_general_ci;
insert into `f_logs_subtable` values (1, 0, 0, 281, 4665, 4667, 4666, 4668, 72);
create table `f_mail_archive` (`id` int(11) auto_increment, primary key (`id`), `uid` bigint(20) default '0'  NOT NULL , `thread_id` int(11) default '0'  NOT NULL , key `thread_id` (`thread_id`), `add_time` timestamp default '0000-00-00 00:00:00'  NOT NULL , `user_id` int(11) default '0'  NOT NULL , key `user_id` (`user_id`), `line_id` int(11) default '0'  NOT NULL , key `line_id` (`line_id`), `email` varchar(255) character set utf8 collate utf8_general_ci NOT NULL , `subject` varchar(255) character set utf8 collate utf8_general_ci NOT NULL , `body` longtext NOT NULL , `from_mail` varchar(255) character set utf8 collate utf8_general_ci NOT NULL , `from_name` varchar(255) character set utf8 collate utf8_general_ci NOT NULL , `reply_to` varchar(255) character set utf8 collate utf8_general_ci NOT NULL , `content_type` varchar(255) character set utf8 collate utf8_general_ci NOT NULL , `charset` varchar(255) character set utf8 collate utf8_general_ci NOT NULL , `headers` text character set utf8 collate utf8_general_ci NOT NULL , `sended_time` timestamp default '0000-00-00 00:00:00'  NOT NULL , `sended_from` varchar(255) character set utf8 collate utf8_general_ci NOT NULL , `error_type` tinyint(4) default '0'  NOT NULL , `error_text` varchar(255) character set utf8 collate utf8_general_ci NOT NULL , `counter_review` int(11) default '0'  NOT NULL )engine=innodb default charset=utf8 collate=utf8_general_ci;
create table `f_mail_archive_on_day` (`id` int(11) auto_increment, primary key (`id`), `uid` bigint(20) default '0'  NOT NULL , `thread_id` int(11) default '0'  NOT NULL , key `thread_id` (`thread_id`), `add_time` timestamp default '0000-00-00 00:00:00'  NOT NULL , `user_id` int(11) default '0'  NOT NULL , key `user_id` (`user_id`), `line_id` int(11) default '0'  NOT NULL , key `line_id` (`line_id`), `email` varchar(255) character set utf8 collate utf8_general_ci NOT NULL , `subject` varchar(255) character set utf8 collate utf8_general_ci NOT NULL , `body` longtext NOT NULL , `from_mail` varchar(255) character set utf8 collate utf8_general_ci NOT NULL , `from_name` varchar(255) character set utf8 collate utf8_general_ci NOT NULL , `reply_to` varchar(255) character set utf8 collate utf8_general_ci NOT NULL , `content_type` varchar(255) character set utf8 collate utf8_general_ci NOT NULL , `charset` varchar(255) character set utf8 collate utf8_general_ci NOT NULL , `headers` text character set utf8 collate utf8_general_ci NOT NULL , `sended_time` timestamp default '0000-00-00 00:00:00'  NOT NULL , `sended_from` varchar(255) character set utf8 collate utf8_general_ci NOT NULL , `error_type` tinyint(4) default '0'  NOT NULL , `error_text` varchar(255) character set utf8 collate utf8_general_ci NOT NULL , `counter_review` int(11) default '0'  NOT NULL )engine=innodb default charset=utf8 collate=utf8_general_ci;
create table `f_mail_emails` (`id` int(11) auto_increment, primary key (`id`), `email` varchar(255) character set utf8 collate utf8_general_ci NOT NULL , `counter_review` int(11) default '0'  NOT NULL , `counter_send_success` int(11) default '0'  NOT NULL , `counter_send_fail` int(11) default '0'  NOT NULL , `is_valid` tinyint(1) default NULL , `unsubscribe` tinyint(1) default NULL , `date_last_review` timestamp default '0000-00-00 00:00:00'  NOT NULL )engine=innodb default charset=utf8 collate=utf8_general_ci;
insert into `f_mail_emails` values (1, 'albina@clientbase.ru', 0, 0, 0, NULL, NULL, '0000-00-00 00:00:00');
insert into `f_mail_emails` values (2, 'alba_pops@inbox.ru', 0, 0, 0, NULL, NULL, '0000-00-00 00:00:00');
insert into `f_mail_emails` values (3, 'aydar_giz@clientbase.ru', 0, 0, 0, NULL, NULL, '0000-00-00 00:00:00');
insert into `f_mail_emails` values (4, 'mary@test.ru', 0, 0, 0, NULL, NULL, '0000-00-00 00:00:00');
insert into `f_mail_emails` values (5, 'ложщлжэ', 0, 0, 0, NULL, NULL, '0000-00-00 00:00:00');
insert into `f_mail_emails` values (6, 'rafexmix@inbox.ru', 0, 0, 0, NULL, NULL, '0000-00-00 00:00:00');
insert into `f_mail_emails` values (7, 're17@mail.ru', 2, 0, 0, 1, NULL, '2018-10-01 10:37:59');
insert into `f_mail_emails` values (8, 'e', 0, 0, 0, NULL, NULL, '0000-00-00 00:00:00');
insert into `f_mail_emails` values (9, '666', 0, 0, 0, NULL, NULL, '0000-00-00 00:00:00');
insert into `f_mail_emails` values (10, 'admin', 0, 0, 0, NULL, NULL, '0000-00-00 00:00:00');
insert into `f_mail_emails` values (11, 'manager@test.ru', 0, 0, 0, NULL, NULL, '0000-00-00 00:00:00');
insert into `f_mail_emails` values (12, 'peter@test.ru', 0, 0, 0, NULL, NULL, '0000-00-00 00:00:00');
insert into `f_mail_emails` values (13, 'coder', 0, 0, 0, NULL, NULL, '0000-00-00 00:00:00');
insert into `f_mail_emails` values (14, 'garifullin1981@gmail.com', 0, 0, 0, NULL, NULL, '0000-00-00 00:00:00');
insert into `f_mail_emails` values (15, 'garifullin1981@gmail.com111', 0, 0, 0, NULL, NULL, '0000-00-00 00:00:00');
insert into `f_mail_emails` values (16, 're17@mail.ru111', 0, 0, 0, NULL, NULL, '0000-00-00 00:00:00');
insert into `f_mail_emails` values (17, 're17@mail.ru1123', 0, 0, 0, NULL, NULL, '0000-00-00 00:00:00');
insert into `f_mail_emails` values (18, 'ce17@mail.ru', 0, 0, 0, NULL, NULL, '0000-00-00 00:00:00');
insert into `f_mail_emails` values (19, 'gm@clientbase.ru', 0, 0, 0, NULL, NULL, '0000-00-00 00:00:00');
insert into `f_mail_emails` values (20, 'denis_l@clientbase.ru', 0, 0, 0, NULL, NULL, '0000-00-00 00:00:00');
insert into `f_mail_emails` values (21, 'marat@garifullin.ru', 0, 0, 0, NULL, NULL, '0000-00-00 00:00:00');
insert into `f_mail_emails` values (22, 'viktor@test.ru', 0, 0, 0, NULL, NULL, '0000-00-00 00:00:00');
insert into `f_mail_emails` values (23, 'krotov@test.ru', 0, 0, 0, NULL, NULL, '0000-00-00 00:00:00');
insert into `f_mail_emails` values (24, 're19@mail.ru', 0, 0, 0, NULL, NULL, '0000-00-00 00:00:00');
insert into `f_mail_emails` values (25, 're18@mail.ru', 0, 0, 0, NULL, NULL, '0000-00-00 00:00:00');
insert into `f_mail_emails` values (26, 'manager', 0, 0, 0, NULL, NULL, '0000-00-00 00:00:00');
insert into `f_mail_emails` values (27, 'hasr@clientbase.ru', 15, 0, 0, 1, NULL, '2019-01-16 12:57:45');
insert into `f_mail_emails` values (28, 'ksenia@clientbase.ru', 7, 0, 0, 1, NULL, '2018-12-14 12:37:58');
insert into `f_mail_emails` values (29, 'ksenia@orfo.pro', 1, 0, 0, 1, NULL, '2018-12-18 16:22:27');
insert into `f_mail_emails` values (30, 'ruslan@clientbase.ru', 3, 0, 0, 1, NULL, '2018-12-13 16:49:54');
insert into `f_mail_emails` values (31, 'ruslioncheg@gmail.com', 6, 0, 0, 1, NULL, '2018-12-12 17:59:11');
insert into `f_mail_emails` values (32, 'info@clientbase.ru', 0, 0, 0, NULL, NULL, '0000-00-00 00:00:00');
insert into `f_mail_emails` values (33, 'kseniav', 0, 0, 0, NULL, NULL, '0000-00-00 00:00:00');
insert into `f_mail_emails` values (34, 'ksenia', 0, 0, 0, NULL, NULL, '0000-00-00 00:00:00');
insert into `f_mail_emails` values (35, 'dinis@clientbase.ru', 0, 0, 0, NULL, NULL, '0000-00-00 00:00:00');
insert into `f_mail_emails` values (36, 'vlasova-kseniya@mail.ru', 0, 0, 0, NULL, NULL, '0000-00-00 00:00:00');
insert into `f_mail_emails` values (37, 'xenia', 0, 0, 0, NULL, NULL, '0000-00-00 00:00:00');
insert into `f_mail_emails` values (38, 'test@testitr.ru', 0, 0, 0, NULL, NULL, '0000-00-00 00:00:00');
insert into `f_mail_emails` values (39, 'testt', 0, 0, 0, NULL, NULL, '0000-00-00 00:00:00');
insert into `f_mail_emails` values (40, 'trest', 0, 0, 0, NULL, NULL, '0000-00-00 00:00:00');
insert into `f_mail_emails` values (41, 'teest', 0, 0, 0, NULL, NULL, '0000-00-00 00:00:00');
insert into `f_mail_emails` values (42, 'tret', 0, 0, 0, NULL, NULL, '0000-00-00 00:00:00');
insert into `f_mail_emails` values (43, 'vlasovak1204@gmail.com', 0, 0, 0, NULL, NULL, '0000-00-00 00:00:00');
create table `f_mail_files_info` (`id` int(11) auto_increment, primary key (`id`), `name` varchar(255) character set utf8 collate utf8_general_ci NOT NULL , `type` varchar(255) character set utf8 collate utf8_general_ci NOT NULL , `disp` varchar(255) character set utf8 collate utf8_general_ci NOT NULL )engine=innodb default charset=utf8 collate=utf8_general_ci;
create table `f_mail_files_links` (`id` int(11) auto_increment, primary key (`id`), `table_id` int(11) default '0'  NOT NULL , key `table_id` (`table_id`), `form_id` int(11) default '0'  NOT NULL , key `form_id` (`form_id`), `name` varchar(255) character set utf8 collate utf8_general_ci NOT NULL , `file_id` int(11) default '0'  NOT NULL )engine=innodb default charset=utf8 collate=utf8_general_ci;
create table `f_mail_files_part` (`id` int(11) auto_increment, primary key (`id`), `file_id` int(11) default '0'  NOT NULL , `content` longblob NOT NULL )engine=innodb default charset=utf8 collate=utf8_general_ci;
create table `f_mail_files_temporary` (`id` int(11) auto_increment, primary key (`id`), `mail_id` int(11) default '0'  NOT NULL , key `mail_id` (`mail_id`), `name` varchar(255) character set utf8 collate utf8_general_ci NOT NULL , `type` varchar(255) character set utf8 collate utf8_general_ci NOT NULL , `disp` varchar(255) character set utf8 collate utf8_general_ci NOT NULL , `cid` varchar(255) character set utf8 collate utf8_general_ci NOT NULL , `content` longblob NOT NULL )engine=innodb default charset=utf8 collate=utf8_general_ci;
create table `f_mail_queue` (`id` int(11) auto_increment, primary key (`id`), `uid` bigint(20) default '0'  NOT NULL , `thread_id` int(11) default '0'  NOT NULL , key `thread_id` (`thread_id`), `add_time` timestamp default '0000-00-00 00:00:00'  NOT NULL , `user_id` int(11) default '0'  NOT NULL , key `user_id` (`user_id`), `line_id` int(11) default '0'  NOT NULL , key `line_id` (`line_id`), `email` varchar(255) character set utf8 collate utf8_general_ci NOT NULL , `subject` varchar(255) character set utf8 collate utf8_general_ci NOT NULL , `body` longtext NOT NULL , `from_mail` varchar(255) character set utf8 collate utf8_general_ci NOT NULL , `from_name` varchar(255) character set utf8 collate utf8_general_ci NOT NULL , `reply_to` varchar(255) character set utf8 collate utf8_general_ci NOT NULL , `content_type` varchar(255) character set utf8 collate utf8_general_ci NOT NULL , `charset` varchar(255) character set utf8 collate utf8_general_ci NOT NULL , `headers` text character set utf8 collate utf8_general_ci NOT NULL , `smtp_server_id` int(11) default '0'  NOT NULL , key `smtp_server_id` (`smtp_server_id`))engine=innodb default charset=utf8 collate=utf8_general_ci;
create table `f_mail_templates` (`id` int(11) auto_increment, primary key (`id`), `type` tinyint(4) default '0'  NOT NULL , `name` varchar(255) character set utf8 collate utf8_general_ci NOT NULL , `sender` varchar(255) character set utf8 collate utf8_general_ci NOT NULL , `subject` varchar(255) character set utf8 collate utf8_general_ci NOT NULL , `body` text character set utf8 collate utf8_general_ci NOT NULL )engine=innodb default charset=utf8 collate=utf8_general_ci;
insert into `f_mail_templates` values (1, 1, 'Напоминание', 'Клиентская база', 'Напоминание', '<p>\r\n	</p>\r\n<table align="left" bgcolor="#ffffff" border="0" cellpadding="0" cellspacing="0" style="border-collapse: collapse;" width="100%">\r\n	<tbody>\r\n		<tr>\r\n			<td>\r\n				<table align="left" border="0" cellpadding="0" cellspacing="0" style="border-collapse: collapse;" width="600px">\r\n					<tbody>\r\n						<tr>\r\n							<td>\r\n								<table cellpadding="0" cellspacing="0" style="border-collapse: collapse; margin: 17px 0px;" width="100%">\r\n									<tbody>\r\n										<tr>\r\n											<td>\r\n												<table align="left" border="0" cellpadding="0" cellspacing="0" style="border-collapse: collapse;" width="600px">\r\n													<tbody>\r\n														<tr>\r\n															<td>\r\n																<table cellpadding="0" cellspacing="0" style="border-collapse: collapse; margin: 10px 0px 17px;" width="100%">\r\n																	<tbody>\r\n																		<tr>\r\n																			<td width="50%">\r\n																				<table cellpadding="0" cellspacing="0" style="border-collapse: collapse; width: 100px;">\r\n																					<tbody>\r\n																						<tr>\r\n																							<td style="background-color: rgb(187, 117, 119); color: rgb(255, 255, 255); font-weight: bold; font-size: 28px; width: 46px; height: 46px; padding: 0px 10px; text-align: center; vertical-align: middle; font-family: Arial, sans-serif;">\r\n																								Кб</td>\r\n																							<td style="color: rgb(46, 46, 46); font-size: 21px; font-weight: bold; line-height: 24px; text-transform: uppercase; padding-left: 8px; vertical-align: middle; font-family: Arial, sans-serif;">\r\n																								КЛИЕНТСКАЯ БАЗА</td>\r\n																						</tr>\r\n																					</tbody>\r\n																				</table>\r\n																			</td>\r\n																			<td align="right" width="50%">\r\n																				<table align="right" border="0" cellpadding="0" cellspacing="0" style="border-collapse: collapse;">\r\n																					<tbody>\r\n																						<tr>\r\n																							<td align="right" style="color: rgb(144, 144, 144); font-size: 13px; font-family: Arial, sans-serif;">\r\n																								Простая и удобная программа</td>\r\n																						</tr>\r\n																						<tr>\r\n																							<td align="right" style="color: rgb(144, 144, 144); font-size: 13px; font-family: Arial, sans-serif;">\r\n																								по автоматизации бизнеса</td>\r\n																						</tr>\r\n																						<tr>\r\n																							<td align="right" style="color: rgb(144, 144, 144); font-size: 13px; font-family: Arial, sans-serif;">\r\n																								<a href="http://www.clientbase.ru/" style="color: rgb(17, 85, 204);" target="_blank">www.clientbase.ru</a></td>\r\n																						</tr>\r\n																					</tbody>\r\n																				</table>\r\n																			</td>\r\n																		</tr>\r\n																	</tbody>\r\n																</table>\r\n															</td>\r\n														</tr>\r\n													</tbody>\r\n												</table>\r\n											</td>\r\n										</tr>\r\n									</tbody>\r\n								</table>\r\n							</td>\r\n						</tr>\r\n						<tr>\r\n							<td>\r\n								<p>\r\n									<strong>Напоминание из программы Клиентская База:</strong></p>\r\n								<div>\r\n									{tip_text}</div>\r\n								<div>\r\n									</div>\r\n								<div>\r\n									<a href="{record_link}">Перейти</a></div>\r\n								<div>\r\n									</div>\r\n							</td>\r\n						</tr>\r\n						<tr>\r\n							<td>\r\n								<hr align="center" style="width: 602px; margin: 0px auto; color: rgb(216, 216, 216); background-color: rgb(216, 216, 216); height: 1px; border-width: 0px;" />\r\n							</td>\r\n						</tr>\r\n					</tbody>\r\n				</table>\r\n			</td>\r\n		</tr>\r\n	</tbody>\r\n</table>\r\n<p>\r\n	</p>\r\n<div>\r\n	</div>\r\n<div>\r\n	</div>\r\n<p>\r\n	<br />\r\n	<br />\r\n	</p>');
insert into `f_mail_templates` values (2, 2, 'Добавление пользователя', 'Клиентская база', 'Приглашение в программу', '<table align="left" bgcolor="#ffffff" border="0" cellpadding="0" cellspacing="0" style="border-collapse:collapse;" width="100%">\r\n	<tbody>\r\n		<tr>\r\n			<td>\r\n				<table align="left" border="0" cellpadding="0" cellspacing="0" style="border-collapse:collapse;" width="600px">\r\n					<tbody>\r\n						<tr>\r\n							<td>\r\n								<table cellpadding="0" cellspacing="0" style="border-collapse: collapse; margin: 17px 0px;" width="100%">\r\n									<tbody>\r\n										<tr>\r\n											<td>\r\n												<table align="left" border="0" cellpadding="0" cellspacing="0" style="border-collapse: collapse;" width="600px">\r\n													<tbody>\r\n														<tr>\r\n															<td>\r\n																<table cellpadding="0" cellspacing="0" style="border-collapse: collapse; margin: 10px 0px 17px;" width="100%">\r\n																	<tbody>\r\n																		<tr>\r\n																			<td width="50%">\r\n																				<table cellpadding="0" cellspacing="0" style="border-collapse: collapse; width: 100px;">\r\n																					<tbody>\r\n																						<tr>\r\n																							<td style="background-color: rgb(187, 117, 119); color: rgb(255, 255, 255); font-weight: bold; font-size: 28px; width: 46px; height: 46px; padding: 0px 10px; text-align: center; vertical-align: middle; font-family: Arial, sans-serif;">\r\n																								Кб</td>\r\n																							<td style="color: rgb(46, 46, 46); font-size: 21px; font-weight: bold; line-height: 24px; text-transform: uppercase; padding-left: 8px; vertical-align: middle; font-family: Arial, sans-serif;">\r\n																								КЛИЕНТСКАЯ БАЗА</td>\r\n																						</tr>\r\n																					</tbody>\r\n																				</table>\r\n																			</td>\r\n																			<td align="right" width="50%">\r\n																				<table align="right" border="0" cellpadding="0" cellspacing="0" style="border-collapse: collapse;">\r\n																					<tbody>\r\n																						<tr>\r\n																							<td align="right" style="color: rgb(144, 144, 144); font-size: 13px; font-family: Arial, sans-serif;">\r\n																								Простая и удобная программа</td>\r\n																						</tr>\r\n																						<tr>\r\n																							<td align="right" style="color: rgb(144, 144, 144); font-size: 13px; font-family: Arial, sans-serif;">\r\n																								по автоматизации бизнеса</td>\r\n																						</tr>\r\n																						<tr>\r\n																							<td align="right" style="color: rgb(144, 144, 144); font-size: 13px; font-family: Arial, sans-serif;">\r\n																								<a href="http://www.clientbase.ru/" style="color: rgb(17, 85, 204);" target="_blank">www.clientbase.ru</a></td>\r\n																						</tr>\r\n																					</tbody>\r\n																				</table>\r\n																			</td>\r\n																		</tr>\r\n																	</tbody>\r\n																</table>\r\n															</td>\r\n														</tr>\r\n													</tbody>\r\n												</table>\r\n											</td>\r\n										</tr>\r\n									</tbody>\r\n								</table>\r\n							</td>\r\n						</tr>\r\n						<tr>\r\n							<td>\r\n								<p>\r\n									Здравствуйте, {fio}!&nbsp;</p>\r\n								<div>\r\n									&nbsp;</div>\r\n								<div>\r\n									Вам предоставлен доступ для совместной работы.&nbsp;</div>\r\n								<div>\r\n									&nbsp;</div>\r\n								<div>\r\n									Для входа в программу перейдите по следующей ссылке: <a href="{program_link}">{program_link}</a></div>\r\n								<div>\r\n									Логин: <strong>{login}</strong></div>\r\n								<div>\r\n									Пароль: <strong>{password}</strong></div>\r\n								<div>\r\n									&nbsp;</div>\r\n								<div>\r\n									Желаем Вам удачной работы!</div>\r\n								<div>\r\n									&nbsp;</div>\r\n								<p>\r\n									&nbsp;</p>\r\n							</td>\r\n						</tr>\r\n						<tr>\r\n							<td>\r\n								<hr align="center" style="width:100%; margin:0 auto; color:#d8d8d8; background-color:#d8d8d8; height: 1px; border-width:0px;" />\r\n							</td>\r\n						</tr>\r\n					</tbody>\r\n				</table>\r\n			</td>\r\n		</tr>\r\n	</tbody>\r\n</table>\r\n<p>\r\n	&nbsp;</p>\r\n<div>\r\n	&nbsp;</div>\r\n<div>\r\n	&nbsp;</div>\r\n<div>\r\n	&nbsp;</div>');
insert into `f_mail_templates` values (10, 2, 'Добавление клиента', 'Клиентская база', 'Приглашение в программу', '<table align="left" bgcolor="#ffffff" border="0" cellpadding="0" cellspacing="0" style="border-collapse:collapse;" width="100%">\r\n	<tbody>\r\n		<tr>\r\n			<td>\r\n				<table align="left" border="0" cellpadding="0" cellspacing="0" style="border-collapse:collapse;" width="600px">\r\n					<tbody>\r\n						<tr>\r\n							<td>\r\n								<table cellpadding="0" cellspacing="0" style="border-collapse: collapse; margin: 17px 0px;" width="100%">\r\n									<tbody>\r\n										<tr>\r\n											<td>\r\n												<table align="left" border="0" cellpadding="0" cellspacing="0" style="border-collapse: collapse;" width="600px">\r\n													<tbody>\r\n														<tr>\r\n															<td>\r\n																<table cellpadding="0" cellspacing="0" style="border-collapse: collapse; margin: 10px 0px 17px;" width="100%">\r\n																	<tbody>\r\n																		<tr>\r\n																			<td width="50%">\r\n																				<table cellpadding="0" cellspacing="0" style="border-collapse: collapse; width: 100px;">\r\n																					<tbody>\r\n																						<tr>\r\n																							<td style="background-color: rgb(187, 117, 119); color: rgb(255, 255, 255); font-weight: bold; font-size: 28px; width: 46px; height: 46px; padding: 0px 10px; text-align: center; vertical-align: middle; font-family: Arial, sans-serif;">\r\n																								Кб</td>\r\n																							<td style="color: rgb(46, 46, 46); font-size: 21px; font-weight: bold; line-height: 24px; text-transform: uppercase; padding-left: 8px; vertical-align: middle; font-family: Arial, sans-serif;">\r\n																								КЛИЕНТСКАЯ БАЗА</td>\r\n																						</tr>\r\n																					</tbody>\r\n																				</table>\r\n																			</td>\r\n																			<td align="right" width="50%">\r\n																				<table align="right" border="0" cellpadding="0" cellspacing="0" style="border-collapse: collapse;">\r\n																					<tbody>\r\n																						<tr>\r\n																							<td align="right" style="color: rgb(144, 144, 144); font-size: 13px; font-family: Arial, sans-serif;">\r\n																								Простая и удобная программа</td>\r\n																						</tr>\r\n																						<tr>\r\n																							<td align="right" style="color: rgb(144, 144, 144); font-size: 13px; font-family: Arial, sans-serif;">\r\n																								по автоматизации бизнеса</td>\r\n																						</tr>\r\n																						<tr>\r\n																							<td align="right" style="color: rgb(144, 144, 144); font-size: 13px; font-family: Arial, sans-serif;">\r\n																								<a href="http://www.clientbase.ru/" style="color: rgb(17, 85, 204);" target="_blank">www.clientbase.ru</a></td>\r\n																						</tr>\r\n																					</tbody>\r\n																				</table>\r\n																			</td>\r\n																		</tr>\r\n																	</tbody>\r\n																</table>\r\n															</td>\r\n														</tr>\r\n													</tbody>\r\n												</table>\r\n											</td>\r\n										</tr>\r\n									</tbody>\r\n								</table>\r\n							</td>\r\n						</tr>\r\n						<tr>\r\n							<td>\r\n								<p>\r\n									Здравствуйте, {fio}!&nbsp;</p>\r\n								<div>\r\n									&nbsp;</div>\r\n								<div>\r\n									Вашей компании предоставлен доступ для совместной работы.&nbsp;</div>\r\n								<div>\r\n									&nbsp;</div>\r\n								<div>\r\n									Для входа в программу перейдите по следующей ссылке: <a href="{program_link}">{program_link}</a></div>\r\n								<div>\r\n									Логин: <strong>{login}</strong></div>\r\n								<div>\r\n									Пароль: <strong>{password}</strong></div>\r\n								<div>\r\n									&nbsp;</div>\r\n								<div>\r\n									Желаем Вам удачной работы!</div>\r\n								<div>\r\n									&nbsp;</div>\r\n								<p>\r\n									&nbsp;</p>\r\n							</td>\r\n						</tr>\r\n						<tr>\r\n							<td>\r\n								<hr align="center" style="width:100%; margin:0 auto; color:#d8d8d8; background-color:#d8d8d8; height: 1px; border-width:0px;" />\r\n							</td>\r\n						</tr>\r\n					</tbody>\r\n				</table>\r\n			</td>\r\n		</tr>\r\n	</tbody>\r\n</table>\r\n<p>\r\n	&nbsp;</p>\r\n<div>\r\n	&nbsp;</div>\r\n<div>\r\n	&nbsp;</div>\r\n<div>\r\n	&nbsp;</div>');
insert into `f_mail_templates` values (11, 3, 'Новое сообщение', 'Клиентская база', 'Новые сообщения', '<p>\r\n	&nbsp;</p>\r\n<br />\r\n<div>\r\n	<table align="left" bgcolor="#ffffff" border="0" cellpadding="0" cellspacing="0" style="border-collapse: collapse;" width="100%">\r\n		<tbody>\r\n			<tr>\r\n				<td>\r\n					<table align="left" border="0" cellpadding="0" cellspacing="0" style="border-collapse: collapse;" width="600px">\r\n						<tbody>\r\n							<tr>\r\n								<td>\r\n									<table cellpadding="0" cellspacing="0" style="border-collapse: collapse; margin: 17px 0px;" width="100%">\r\n										<tbody>\r\n											<tr>\r\n												<td>\r\n													<table align="left" border="0" cellpadding="0" cellspacing="0" style="border-collapse: collapse;" width="600px">\r\n														<tbody>\r\n															<tr>\r\n																<td>\r\n																	<table cellpadding="0" cellspacing="0" style="border-collapse: collapse; margin: 10px 0px 17px;" width="100%">\r\n																		<tbody>\r\n																			<tr>\r\n																				<td width="50%">\r\n																					<table cellpadding="0" cellspacing="0" style="border-collapse: collapse; width: 100px;">\r\n																						<tbody>\r\n																							<tr>\r\n																								<td style="background-color: rgb(187, 117, 119); color: rgb(255, 255, 255); font-weight: bold; font-size: 28px; width: 46px; height: 46px; padding: 0px 10px; text-align: center; vertical-align: middle; font-family: Arial, sans-serif;">\r\n																									Кб</td>\r\n																								<td style="color: rgb(46, 46, 46); font-size: 21px; font-weight: bold; line-height: 24px; text-transform: uppercase; padding-left: 8px; vertical-align: middle; font-family: Arial, sans-serif;">\r\n																									КЛИЕНТСКАЯ БАЗА</td>\r\n																							</tr>\r\n																						</tbody>\r\n																					</table>\r\n																				</td>\r\n																				<td align="right" width="50%">\r\n																					<table align="right" border="0" cellpadding="0" cellspacing="0" style="border-collapse: collapse;">\r\n																						<tbody>\r\n																							<tr>\r\n																								<td align="right" style="color: rgb(144, 144, 144); font-size: 13px; font-family: Arial, sans-serif;">\r\n																									Простая и удобная программа</td>\r\n																							</tr>\r\n																							<tr>\r\n																								<td align="right" style="color: rgb(144, 144, 144); font-size: 13px; font-family: Arial, sans-serif;">\r\n																									по автоматизации бизнеса</td>\r\n																							</tr>\r\n																							<tr>\r\n																								<td align="right" style="color: rgb(144, 144, 144); font-size: 13px; font-family: Arial, sans-serif;">\r\n																									<a href="http://www.clientbase.ru/" style="color: rgb(17, 85, 204);" target="_blank">www.clientbase.ru</a></td>\r\n																							</tr>\r\n																						</tbody>\r\n																					</table>\r\n																				</td>\r\n																			</tr>\r\n																		</tbody>\r\n																	</table>\r\n																</td>\r\n															</tr>\r\n														</tbody>\r\n													</table>\r\n												</td>\r\n											</tr>\r\n										</tbody>\r\n									</table>\r\n								</td>\r\n							</tr>\r\n							<tr>\r\n								<td>\r\n									<p>\r\n										<strong>Новое сообщение из программы Клиентская База:</strong></p>\r\n									<div>\r\n										{new_message_text}</div>\r\n									<div>\r\n										&nbsp;</div>\r\n									<div>\r\n										<a href="{program_link}">Перейти</a></div>\r\n									<div>\r\n										&nbsp;</div>\r\n								</td>\r\n							</tr>\r\n							<tr>\r\n								<td>\r\n									<hr align="center" style="width: 602px; margin: 0px auto; color: rgb(216, 216, 216); background-color: rgb(216, 216, 216); height: 1px; border-width: 0px;" />\r\n								</td>\r\n							</tr>\r\n						</tbody>\r\n					</table>\r\n				</td>\r\n			</tr>\r\n		</tbody>\r\n	</table>\r\n	<p>\r\n		&nbsp;</p>\r\n	<div>\r\n		&nbsp;</div>\r\n	<div>\r\n		&nbsp;</div>\r\n	<p>\r\n		<br />\r\n		&nbsp;</p>\r\n</div>\r\n<p>\r\n	&nbsp;</p>\r\n<p>\r\n	&nbsp;</p>');
insert into `f_mail_templates` values (12, 4, 'Представление', 'Клиентская база', 'Отчет', '<div style="margin:10px">\r\n	<p>\r\n		&nbsp;</p>\r\n	<br />\r\n	<div>\r\n		<table align="left" bgcolor="#ffffff" border="0" cellpadding="0" cellspacing="0" style="border-collapse: collapse;" width="100%">\r\n			<tbody>\r\n				<tr>\r\n					<td>\r\n						<table align="left" border="0" cellpadding="0" cellspacing="0" style="border-collapse: collapse;" width="600px">\r\n							<tbody>\r\n								<tr>\r\n									<td>\r\n										<table cellpadding="0" cellspacing="0" style="border-collapse: collapse; margin: 17px 0px;" width="100%">\r\n											<tbody>\r\n												<tr>\r\n													<td>\r\n														<table align="left" border="0" cellpadding="0" cellspacing="0" style="border-collapse: collapse;" width="600px">\r\n															<tbody>\r\n																<tr>\r\n																	<td>\r\n																		<table cellpadding="0" cellspacing="0" style="border-collapse: collapse; margin: 10px 0px 17px;" width="100%">\r\n																			<tbody>\r\n																				<tr>\r\n																					<td width="50%">\r\n																						<table cellpadding="0" cellspacing="0" style="border-collapse: collapse; width: 100px;">\r\n																							<tbody>\r\n																								<tr>\r\n																									<td style="background-color: rgb(187, 117, 119); color: rgb(255, 255, 255); font-weight: bold; font-size: 28px; width: 46px; height: 46px; padding: 0px 10px; text-align: center; vertical-align: middle; font-family: Arial, sans-serif;">\r\n																										Кб</td>\r\n																									<td style="color: rgb(46, 46, 46); font-size: 21px; font-weight: bold; line-height: 24px; text-transform: uppercase; padding-left: 8px; vertical-align: middle; font-family: Arial, sans-serif;">\r\n																										КЛИЕНТСКАЯ БАЗА</td>\r\n																								</tr>\r\n																							</tbody>\r\n																						</table>\r\n																					</td>\r\n																					<td align="right" width="50%">\r\n																						<table align="right" border="0" cellpadding="0" cellspacing="0" style="border-collapse: collapse;">\r\n																							<tbody>\r\n																								<tr>\r\n																									<td align="right" style="color: rgb(144, 144, 144); font-size: 13px; font-family: Arial, sans-serif;">\r\n																										Простая и удобная программа</td>\r\n																								</tr>\r\n																								<tr>\r\n																									<td align="right" style="color: rgb(144, 144, 144); font-size: 13px; font-family: Arial, sans-serif;">\r\n																										по автоматизации бизнеса</td>\r\n																								</tr>\r\n																								<tr>\r\n																									<td align="right" style="color: rgb(144, 144, 144); font-size: 13px; font-family: Arial, sans-serif;">\r\n																										<a href="http://www.clientbase.ru/" style="color: rgb(17, 85, 204);" target="_blank">www.clientbase.ru</a></td>\r\n																								</tr>\r\n																							</tbody>\r\n																						</table>\r\n																					</td>\r\n																				</tr>\r\n																			</tbody>\r\n																		</table>\r\n																	</td>\r\n																</tr>\r\n															</tbody>\r\n														</table>\r\n													</td>\r\n												</tr>\r\n											</tbody>\r\n										</table>\r\n									</td>\r\n								</tr>\r\n								<tr>\r\n									<td>\r\n										<p>\r\n											<strong>Отчет из программы Клиентская База:</strong></p>\r\n										<div>\r\n											<p>\r\n												{report_text}</p>\r\n											<p>\r\n												<a href="{report_link}">Перейти</a></p>\r\n										</div>\r\n										<div>\r\n											&nbsp;</div>\r\n									</td>\r\n								</tr>\r\n								<tr>\r\n									<td>\r\n										<hr align="center" style="width: 602px; margin: 0px auto; color: rgb(216, 216, 216); background-color: rgb(216, 216, 216); height: 1px; border-width: 0px;" />\r\n									</td>\r\n								</tr>\r\n							</tbody>\r\n						</table>\r\n					</td>\r\n				</tr>\r\n			</tbody>\r\n		</table>\r\n		<p>\r\n			&nbsp;</p>\r\n		<div>\r\n			&nbsp;</div>\r\n		<div>\r\n			&nbsp;</div>\r\n		<p>\r\n			<br />\r\n			&nbsp;</p>\r\n	</div>\r\n	<p>\r\n		&nbsp;</p>\r\n</div>\r\n<p>\r\n	&nbsp;</p>');
insert into `f_mail_templates` values (13, 5, 'Партнерское приглашение', '', 'Попробуйте сервис "Клиентская база"', '<table align="left" bgcolor="#ffffff" border="0" cellpadding="0" cellspacing="0" style="border-collapse: collapse;" width="100%">\n    <tbody>\n        <tr>\n            <td>\n                <table align="left" border="0" cellpadding="0" cellspacing="0" style="border-collapse: collapse;" width="600px">\n                    <tbody>\n                        <tr>\n                            <td>\n                                <table cellpadding="0" cellspacing="0" style="border-collapse: collapse; margin: 17px 0px;" width="100%">\n                                    <tbody>\n                                        <tr>\n                                            <td>\n                                                <table align="left" border="0" cellpadding="0" cellspacing="0" style="border-collapse: collapse;" width="600px">\n                                                    <tbody>\n                                                        <tr>\n                                                            <td>\n                                                                <table cellpadding="0" cellspacing="0" style="border-collapse: collapse; margin: 10px 0px 17px;" width="100%">\n                                                                    <tbody>\n                                                                        <tr>\n                                                                            <td width="50%">\n                                                                                <table cellpadding="0" cellspacing="0" style="border-collapse: collapse; width: 100px;">\n                                                                                    <tbody>\n                                                                                        <tr>\n                                                                                            <td style="background-color: rgb(187, 117, 119); color: rgb(255, 255, 255); font-weight: bold; font-size: 28px; width: 46px; height: 46px; padding: 0px 10px; text-align: center; vertical-align: middle; font-family: Arial, sans-serif;">\n                                                                                                Кб</td>\n                                                                                            <td style="color: rgb(46, 46, 46); font-size: 21px; font-weight: bold; line-height: 24px; text-transform: uppercase; padding-left: 8px; vertical-align: middle; font-family: Arial, sans-serif;">\n                                                                                                КЛИЕНТСКАЯ БАЗА</td>\n                                                                                        </tr>\n                                                                                    </tbody>\n                                                                                </table>\n                                                                            </td>\n                                                                            <td align="right" width="50%">\n                                                                                <table align="right" border="0" cellpadding="0" cellspacing="0" style="border-collapse: collapse;">\n                                                                                    <tbody>\n                                                                                        <tr>\n                                                                                            <td align="right" style="color: rgb(144, 144, 144); font-size: 13px; font-family: Arial, sans-serif;">\n                                                                                                Простая и удобная программа</td>\n                                                                                        </tr>\n                                                                                        <tr>\n                                                                                            <td align="right" style="color: rgb(144, 144, 144); font-size: 13px; font-family: Arial, sans-serif;">\n                                                                                                по автоматизации бизнеса</td>\n                                                                                        </tr>\n                                                                                        <tr>\n                                                                                            <td align="right" style="color: rgb(144, 144, 144); font-size: 13px; font-family: Arial, sans-serif;">\n                                                                                                <a href="http://www.clientbase.ru/i/{code}/" style="color: rgb(17, 85, 204);" target="_blank">www.clientbase.ru</a></td>\n                                                                                        </tr>\n                                                                                    </tbody>\n                                                                                </table>\n                                                                            </td>\n                                                                        </tr>\n                                                                    </tbody>\n                                                                </table>\n                                                            </td>\n                                                        </tr>\n                                                    </tbody>\n                                                </table>\n                                            </td>\n                                        </tr>\n                                    </tbody>\n                                </table>\n                            </td>\n                        </tr>\n                        <tr>\n                            <td>\n                                <p>\n                                    Здравствуйте, {name}!</p>\n                                <div>\n                                    &nbsp;</div>\n                                <div>\n                                    {partners_name} рекомендует Вам облачный сервис для автоматизации бизнеса с возможностью создания собственных баз данных.</div>\n                                <div>\n                                    &nbsp;</div>\n                                <div>\n                                    <a href="http://www.clientbase.ru/i/{code}/">www.clientbase.ru</a></div>\n                                <div>\n                                    &nbsp;</div>\n                                <div>\n                                    &nbsp;</div>\n                                <div>\n                                    Желаем Вам удачной работы!</div>\n                                <div>\n                                    &nbsp;</div>\n                                <p>\n                                    &nbsp;</p>\n                            </td>\n                        </tr>\n                        <tr>\n                            <td>\n                                <hr align="center" style="width: 602px; margin: 0px auto; color: rgb(216, 216, 216); background-color: rgb(216, 216, 216); height: 1px; border-width: 0px;" />\n                            </td>\n                        </tr>\n                    </tbody>\n                </table>\n            </td>\n        </tr>\n    </tbody>\n</table>');
insert into `f_mail_templates` values (14, 6, 'Изменение данных пользователя', '', 'Изменение данных для входа', '<p><b>Здравствуйте, {fio}!</b></p>\r\n<p>Ваши данные для входа в программу "{program}" были изменены:</p>\r\n<p><b>Логин: {login}</b></p>\r\n<p><b>Пароль: {password}</b></p>\r\n<p>Для входа в программу перейдите по следующей ссылке: <a href="{program_link}">{program_link}</a></p>\r\n<p>&nbsp;</p>\r\n<p>Удачной работы!</p>');
create table `f_mail_threads` (`id` int(11) auto_increment, primary key (`id`), `name` varchar(255) character set utf8 collate utf8_general_ci NOT NULL , `add_time` timestamp default '0000-00-00 00:00:00'  NOT NULL , `end_time` timestamp default '0000-00-00 00:00:00'  NOT NULL , `user_id` int(11) default '0'  NOT NULL , key `user_id` (`user_id`), `form_id` int(11) default '0'  NOT NULL , key `form_id` (`form_id`), `wait` int(11) default '0'  NOT NULL , `sended` int(11) default '0'  NOT NULL , `failed` int(11) default '0'  NOT NULL , `pause` tinyint(1) default '0'  NOT NULL , `scheduled_time` timestamp default '0000-00-00 00:00:00'  NOT NULL , `send_status` tinyint(1) default '0'  NOT NULL , `deleted` tinyint(1) default '0'  NOT NULL )engine=innodb default charset=utf8 collate=utf8_general_ci;
insert into `f_mail_threads` values (1, '', '0000-00-00 00:00:00', '0000-00-00 00:00:00', 0, 0, 0, 0, 0, 0, '0000-00-00 00:00:00', 0, 0);
create table `f_messages` (`id` int(11) auto_increment, primary key (`id`), `to_user` int(11) default '0'  NOT NULL , key `to_user` (`to_user`), `from_user` int(11) default '0'  NOT NULL , key `from_user` (`from_user`), `add_time` timestamp default '0000-00-00 00:00:00'  NOT NULL , key `add_time` (`add_time`), `message` text character set utf8 collate utf8_general_ci NOT NULL , `is_read` tinyint(1) default '0'  NOT NULL , key `is_read` (`is_read`), `status` tinyint(1) default '0'  NOT NULL , key `status` (`status`), `chat_id` int(11) default '0'  NOT NULL , key `chat_id` (`chat_id`), `f` tinyint(1) default '0'  NOT NULL , `popup` tinyint(1) default '0'  NOT NULL )engine=innodb default charset=utf8 collate=utf8_general_ci;
create table `f_messages_chat` (`id` int(11) auto_increment, primary key (`id`), `name` varchar(255) character set utf8 collate utf8_general_ci NOT NULL )engine=innodb default charset=utf8 collate=utf8_general_ci;
create table `f_messages_settings` (`id` int(11) auto_increment, primary key (`id`), `user_id` int(11) default '0'  NOT NULL , key `user_id` (`user_id`), `email_on` tinyint(1) default '0'  NOT NULL , `sms_on` tinyint(1) default '0'  NOT NULL , `notify_on` tinyint(1) default '0'  NOT NULL )engine=innodb default charset=utf8 collate=utf8_general_ci;
create table `f_module_1csync_fields` (`table_id` int(11) default '0'  NOT NULL , `field_id` int(11) default '0'  NOT NULL , `name_field` varchar(255) character set utf8 collate utf8_general_ci NOT NULL )engine=innodb default charset=utf8 collate=utf8_general_ci;
create table `f_module_1csync_settings` (`name` varchar(255) character set utf8 collate utf8_general_ci NOT NULL , `value` text character set utf8 collate utf8_general_ci NOT NULL )engine=innodb default charset=utf8 collate=utf8_general_ci;
create table `f_module_asterisk_autocall_forms` (`id` int(11) auto_increment, primary key (`id`), `name` varchar(255) character set utf8 collate utf8_general_ci NOT NULL , `table_id` int(11) default '0'  NOT NULL , key `table_id` (`table_id`))engine=innodb default charset=utf8 collate=utf8_general_ci;
create table `f_module_asterisk_autocall_queue` (`id` int(11) auto_increment, primary key (`id`), `thread_id` int(11) default '0'  NOT NULL , key `thread_id` (`thread_id`), `line_id` int(11) default '0'  NOT NULL , key `line_id` (`line_id`), `phone` varchar(255) character set utf8 collate utf8_general_ci NOT NULL , `call_time` timestamp default '0000-00-00 00:00:00'  NOT NULL , `result` tinyint(4) default '0'  NOT NULL )engine=innodb default charset=utf8 collate=utf8_general_ci;
create table `f_module_asterisk_autocall_threads` (`id` int(11) auto_increment, primary key (`id`), `name` varchar(255) character set utf8 collate utf8_general_ci NOT NULL , `add_time` timestamp default '0000-00-00 00:00:00'  NOT NULL , `start_time` timestamp default '0000-00-00 00:00:00'  NOT NULL , `end_time` timestamp default '0000-00-00 00:00:00'  NOT NULL , `user_id` int(11) default '0'  NOT NULL , key `user_id` (`user_id`), `form_id` int(11) default '0'  NOT NULL , key `form_id` (`form_id`), `wait` int(11) default '0'  NOT NULL , `success` int(11) default '0'  NOT NULL , `failed` int(11) default '0'  NOT NULL )engine=innodb default charset=utf8 collate=utf8_general_ci;
create table `f_module_asterisk_log` (`id` int(11) auto_increment, primary key (`id`), `table_id` int(11) default '0'  NOT NULL , `line_id` int(11) default '0'  NOT NULL , `phone` varchar(30) character set utf8 collate utf8_general_ci NOT NULL , `add_time` timestamp default '0000-00-00 00:00:00'  NOT NULL )engine=innodb default charset=utf8 collate=utf8_general_ci;
create table `f_module_asterisk_servers` (`id` int(11) auto_increment, primary key (`id`), `name` varchar(255) character set utf8 collate utf8_general_ci NOT NULL , `server` varchar(255) character set utf8 collate utf8_general_ci NOT NULL , `sip_account` varchar(255) character set utf8 collate utf8_general_ci NOT NULL , `hello_audio` text character set utf8 collate utf8_general_ci NOT NULL , `city_code` int(11) default '0'  NOT NULL , `inter_code` int(11) default '0'  NOT NULL , `from_city_code` int(11) default '0'  NOT NULL , `to_city_code` int(11) default '0'  NOT NULL , `max_phone_numbers` varchar(255) character set utf8 collate utf8_general_ci NOT NULL , `status` int(11) default '0'  NOT NULL , key `status` (`status`), `record_table` int(11) default '0'  NOT NULL , `record_field_Date_start` int(11) default '0'  NOT NULL , `record_field_Length` int(11) default '0'  NOT NULL , `record_field_Length_other` int(11) default '0'  NOT NULL , `record_field_Date_end` int(11) default '0'  NOT NULL , `record_field_User` int(11) default '0'  NOT NULL , `record_field_Number` int(11) default '0'  NOT NULL , `record_field_Number2` int(11) default '0'  NOT NULL , `record_field_Direction` int(11) default '0'  NOT NULL , `record_field_Client` int(11) default '0'  NOT NULL , `record_field_Record_link` int(11) default '0'  NOT NULL , `record_field_Trunk` int(11) default '0'  NOT NULL , `record_field_Disposition` int(11) default '0'  NOT NULL , `table_id` int(11) default '0'  NOT NULL , key `table_id` (`table_id`), `field_id_phone` int(11) default '0'  NOT NULL , `field_id_name` int(11) default '0'  NOT NULL , `sip_account_2` varchar(255) character set utf8 collate utf8_general_ci NOT NULL , `sip_account_3` varchar(255) character set utf8 collate utf8_general_ci NOT NULL , `sel_outgoing` tinyint(1) default '0'  NOT NULL , `perm_dir` varchar(255) character set utf8 collate utf8_general_ci NOT NULL , `client_host` varchar(255) character set utf8 collate utf8_general_ci NOT NULL , `forward_phone` varchar(255) character set utf8 collate utf8_general_ci NOT NULL , `forward_timeout` int(11) default '0'  NOT NULL , `hide_phones_for_groups` varchar(255) character set utf8 collate utf8_general_ci NOT NULL , `hide_phones_count_chars` int(11) default '0'  NOT NULL , `hide_phones_type` tinyint(1) default '0'  NOT NULL , `capacity` int(11) default '0'  NOT NULL , `loc_numbers_lenght` int(11) default '0'  NOT NULL , `disable_reminder` tinyint(1) default '0'  NOT NULL , `inter_prefix` varchar(10) character set utf8 collate utf8_general_ci NOT NULL , `addit_rules` varchar(255) character set utf8 collate utf8_general_ci NOT NULL , `allow_direct_call` tinyint(1) default '0'  NOT NULL )engine=innodb default charset=utf8 collate=utf8_general_ci;
create table `f_module_asterisk_settings` (`id` int(11) auto_increment, primary key (`id`))engine=innodb default charset=utf8 collate=utf8_general_ci;
create table `f_module_asterisk_sips` (`id` int(11) auto_increment, primary key (`id`), `sip_user` varchar(255) character set utf8 collate utf8_general_ci NOT NULL , `sip_password` varchar(255) character set utf8 collate utf8_general_ci NOT NULL , `sip_domain` varchar(255) character set utf8 collate utf8_general_ci NOT NULL , `sip_host` varchar(255) character set utf8 collate utf8_general_ci NOT NULL , `sip_trunkname` varchar(255) character set utf8 collate utf8_general_ci NOT NULL , `sip_s1` varchar(255) character set utf8 collate utf8_general_ci NOT NULL , `sip_s2` varchar(255) character set utf8 collate utf8_general_ci NOT NULL , `sip_s3` varchar(255) character set utf8 collate utf8_general_ci NOT NULL , `sip_replace` varchar(255) character set utf8 collate utf8_general_ci NOT NULL , `by_default` int(11) default '0'  NOT NULL )engine=innodb default charset=utf8 collate=utf8_general_ci;
create table `f_module_asterisk_tables` (`id` int(11) auto_increment, primary key (`id`), `table_id` int(11) default '0'  NOT NULL , key `table_id` (`table_id`), `name_field_id` int(11) default '0'  NOT NULL , key `name_field_id` (`name_field_id`), `phone_field_id` int(11) default '0'  NOT NULL , key `phone_field_id` (`phone_field_id`), `priority` int(11) default '0'  NOT NULL , `addit_1` int(11) default '0'  NOT NULL , `addit_2` int(11) default '0'  NOT NULL , `addit_3` int(11) default '0'  NOT NULL )engine=innodb default charset=utf8 collate=utf8_general_ci;
create table `f_module_asterisk_users` (`id` int(11) auto_increment, primary key (`id`), `server_id` int(11) default '0'  NOT NULL , key `server_id` (`server_id`), `user_id` int(11) default '0'  NOT NULL , key `user_id` (`user_id`), `login` varchar(255) character set utf8 collate utf8_general_ci NOT NULL , `password` varchar(255) character set utf8 collate utf8_general_ci NOT NULL , `from_browser` int(11) default '0'  NOT NULL , `browser_caller` tinyint(1) default '0'  NOT NULL , `all_dir` int(11) default '0'  NOT NULL )engine=innodb default charset=utf8 collate=utf8_general_ci;
create table `f_module_livechat_activity` (`manager_id` int(11) default '0'  NOT NULL , primary key (`manager_id`), `date` timestamp default CURRENT_TIMESTAMP  NOT NULL , `load_date` timestamp default '0000-00-00 00:00:00'  NOT NULL , `is_active` smallint(6) default '0'  NOT NULL )engine=innodb default charset=utf8 collate=utf8_general_ci;
create table `f_module_livechat_bans` (`ip` varchar(17) character set utf8 collate utf8_general_ci NOT NULL , primary key (`ip`), `date` timestamp default '0000-00-00 00:00:00'  NOT NULL , `user_id` int(11) default '0'  NOT NULL , key `user_id` (`user_id`))engine=innodb default charset=utf8 collate=utf8_general_ci;
create table `f_module_livechat_button` (`status` enum('online','offline') NOT NULL , key `status` (`status`), `image` longblob NOT NULL , `format` varchar(5) character set utf8 collate utf8_general_ci NOT NULL )engine=innodb default charset=utf8 collate=utf8_general_ci;
insert into `f_module_livechat_button` values ('offline', 0x47494638396194001e00c40000aaacaec6c8c9dcdddd9b9ea0cecfd0949699ebebecc5c7c8f2f2f2a2a4a7a3a3a3b0b3b5eaeaebd5d6d7bfc1c2cdcecfe3e4e5cdcdcdb0b0b0b8b9bcd4d5d6f0f1f1f1f2f2dbdcddefefefb0b2b4aaacadbfc0c2e3e3e48c8f92f8f8f8f9f9f921f90400000000002c0000000094001e000005ffa0278e64699ee8f9ad6cebbe702ccf746ddf69aeefdeedffc0a0f0c52b1a7bc3a472193c3a75cca874ba7a5a55d4acf677ed8eb6e070cceb159bcde4ee79bd4d5f3f0b0261c1ae2bddd60fa4d381d8ff4d784e8084423c15197c050722008c2207001e0c7c95230405162201002c0e031f021d2d1d02339c1f08091d06080b8a012b00b12ba81f01037c74b32cb81fb99502a22dc095132b03b4b79d2ba2069595041811121211182709090c1e0f051b1e8e2391931ddc0f1d2300c99bcc7ba0c32ca5a79d0eccda061f980e1fbcb59d98087c3090608280020890091c20f099b0512ee2351b80f01f0b89b63e4450c051410413140a541811d28238489228ff9d4be78143810603daa51ab02e14c415f36470da63aa41c5153e11f85bf621813208fc16f02300ea57c352122fde84c34920d16637334ae8a8408289031a4854e8700100b40e29cd756339c18187010d3ca0721007ded99c3102f0e1777505825266a175c2cbe29901860a07428596209fc467080824a875b717b30f5b3b7a2d01b604d9931ec8a95cebc14201087225713a18d92e29533a67f5e98b53c0505484594c48d0d4a9e2872c00d0c1480741015319315eded8f1638990234594042d5a2dbad0670d04e0dd409f6b79b0fbf1b14a1440a7a02c82deee64b4058184060a9047ec5022539b2c0a403b963cebe569d55c93cd361e5cf04d388f84e608b03a9a5c37c00323b4a5171ddee1071e3d7a7420103ea114c0cf7afac837500214c2d44c031d7457df4dc25978df0a90f567190b8724d2c1228d241809051d4c20023a17c434c24101fc745f54b9b960cb040320e00a2cb228634b91ba24c44777031590007c8b55d298850090d74f00325a5485204614a226176816b1e69b35b4c9039c74ca20e70e75e6e9c29d50e8e9279f29f82928a02808fa27a125187a28a25f289a27a38d3a5a27a448485a6708003b, 'gif');
insert into `f_module_livechat_button` values ('online', 0x47494638396194001e00d5000097b26ebacca0d5dfc685a554c3d2ad7c9e48e7ece0f0f3ec8bbd3eb9cb9e8eab61a0b87accd9bae5ebde97b26cb2c594c2d2ab7c9f48abcb7a91be4cdee6d373993ba9bf87edf1e7cad8b78eac5fe2ebd674993bb9cc9eb1c49296b26cb8cb9da9bf85eef2e9e4ebdcd3dec39fb778eef2ead2dec3c1d1aae7ecded5dfc4d4dec4dce5d1dee6d1cbd8b8f0f3eaf8f9f773983bf7f8f7f6f8f6f6f6f4f9f9f900000000000000000000000000000000000000000000000000000000000000000021f90400000000002c0000000094001e000006ff409970482c1a8bb1a452f96a3a9bb4a8744aad5aafd8ac76cbed1ebf60e172fc7c76cfe8b47a5d1dcedeef3078bc2c43d9f8bc5e0deff7e548744976777b8687887e8a718032824c768892936c8b8b8d8f8391949c9d5996978099849ea5a651a0a161a39ba7ae93a9aa5f9931910b04040bafbb79b18a72b49114303014bcc77cbe7eabac66c8cfc9b117241b1b1109420ed842090e310dc4e14a04052e4d0100520f0334023053300259e834070a3006070bc405015100fea2d0a3116000315d00a514a461309c0077531a86b31065404082e9a2b833102e1c010d12264c90a06151860c22669c88d04186b621ddbec1681003020c25002c9ecb388c1d44ff29f1e6a57b905181020334c83da09150603a7204681850604140810315a30e88caf1e13b2a3f350eb8ea544ad881342420588b4082220c112ec0811be225376fe068da4cb2a20083013beb0dc8d9ee6b94a058d00d93c7806c94c6079a62a4a1e02285a50b961260c7906bbcb0660dd358802eea648d86d14e608b6082a20f1efa5ca830c24185dbb701c8d47b330688072f06307841efc12d9f1d89c94b4c6ce9e92807e201489e0ef1148e06b66695fab9e3d1c252381e20a04060f2d41969ac66ebda0f6c3fb4edca48a03b6fcd9b250ab0200e80bfd5f1c8c1b3dc15e80450cc73870920193dd64d6181029c75c69d575200a0cb59ba1c50803c689d95ff9e5a6cb9e5075c72bd41977cf4ed765f0c1c248742001032905480400d381d0ca64d06403a904901d982e954360501581950408eda7515d666e0455140471475889e14208944924928cd60024b2e6d331f001cd854c28a0340e084050f18a8cb8c4d2628140dc344651452562d056452474aa5c09a7f69c4000c322a6998854d32198578522a949e32d354734d365e7200400b308090844d2a0c504b1329f4e31893a03558c540160c70803efc047427414fc2b00056c4c82855010a14d95d38dffd04408e4c05906859a828f3c711b468e20434c8a221ecb04614bbe9b1c946abc5b28c34ebac33d2666b05b533cc722db4da862b05b5de165b86b8e8d2b0326cb9e6829baeb6c2b2db6e21ef66ab8cbcf3d62b6e2c73380b09bdfa46eb06b3c4fa5b07c00127db881806938170c2c80601003b, 'gif');
create table `f_module_livechat_clients` (`id` int(11) auto_increment, primary key (`id`), `real_client_id` int(11) default '0'  NOT NULL , key `real_client_id` (`real_client_id`), `fio` varchar(50) character set utf8 collate utf8_general_ci NOT NULL , `email` varchar(255) character set utf8 collate utf8_general_ci NOT NULL , `phone` varchar(255) character set utf8 collate utf8_general_ci default NULL , `last_ip` varchar(255) character set utf8 collate utf8_general_ci NOT NULL , `last_browser` varchar(255) character set utf8 collate utf8_general_ci NOT NULL , `date` timestamp default CURRENT_TIMESTAMP  NOT NULL , `ban` smallint(6) default '0'  NOT NULL , key `ban` (`ban`), `position` int(11) default '1'  NOT NULL , `online` int(11) default '0'  NOT NULL )engine=innodb default charset=utf8 collate=utf8_general_ci;
create table `f_module_livechat_managed_clients` (`client_id` int(11) default '0'  NOT NULL , key `client_id` (`client_id`), `manager_id` int(11) default '0'  NOT NULL , key `manager_id` (`manager_id`), `new_messages` smallint(3) default '0'  NOT NULL , `send_history` smallint(3) default '0'  NOT NULL , `date` timestamp default CURRENT_TIMESTAMP  NOT NULL )engine=innodb default charset=utf8 collate=utf8_general_ci;
create table `f_module_livechat_messages` (`id` int(11) auto_increment, primary key (`id`), `user_id` int(11) default '0'  NOT NULL , key `user_id` (`user_id`), `client_id` int(11) default '0'  NOT NULL , key `client_id` (`client_id`), `message` varchar(1024) character set utf8 collate utf8_general_ci NOT NULL , `forward` enum('to_user','to_client') NOT NULL , `date` timestamp default '0000-00-00 00:00:00'  NOT NULL , `type` enum('text','status') default 'text'  NOT NULL , key `type` (`type`), `status` smallint(6) default '0'  NOT NULL , key `status` (`status`), `is_read` int(11) default '0'  NOT NULL )engine=innodb default charset=utf8 collate=utf8_general_ci;
create table `f_module_livechat_settings` (`name` varchar(255) character set utf8 collate utf8_general_ci NOT NULL , `value` text character set utf8 collate utf8_general_ci NOT NULL )engine=innodb default charset=utf8 collate=utf8_general_ci;
insert into `f_module_livechat_settings` values ('select_clients_info', 'SELECT f435 as org FROM f_data42 WHERE id=''{ID}''');
insert into `f_module_livechat_settings` values ('select_realid_by_email', 'SELECT id, f442 as email FROM f_data42 WHERE f442 LIKE ''%{EMAIL}%''');
insert into `f_module_livechat_settings` values ('show_client_history_messages', '30');
insert into `f_module_livechat_settings` values ('show_status_messages_in_client_window', '0');
insert into `f_module_livechat_settings` values ('select_client_in_search', 'SELECT id ,f435,f442,f443 FROM f_data42 WHERE f435 LIKE ''%{TEXT}%'' or f442 LIKE ''%{TEXT}%'' or f443 LIKE ''%{TEXT}%'' LIMIT 100');
insert into `f_module_livechat_settings` values ('open_real_client_url', 'view_line.php?table=42&line=');
insert into `f_module_livechat_settings` values ('ip_ban_period', '1');
insert into `f_module_livechat_settings` values ('auto_table', '42');
insert into `f_module_livechat_settings` values ('auto_build_sql', '1');
insert into `f_module_livechat_settings` values ('auto_org_field', '435');
insert into `f_module_livechat_settings` values ('auto_email_field', '442');
insert into `f_module_livechat_settings` values ('auto_search_fields', '435,442,443');
insert into `f_module_livechat_settings` values ('offline_emails_address', 'root@localhost');
insert into `f_module_livechat_settings` values ('select_manager_photo_field_id', '558');
insert into `f_module_livechat_settings` values ('select_manager_photo_table_id', '46');
insert into `f_module_livechat_settings` values ('select_manager_login_field_id', '1410');
insert into `f_module_livechat_settings` values ('select_manager_job_field_id', '484');
insert into `f_module_livechat_settings` values ('select_manager_job_by_login', 'SELECT f484 as job FROM f_data46 WHERE f1410=''{LOGIN}''');
insert into `f_module_livechat_settings` values ('post_on_enter', '0');
insert into `f_module_livechat_settings` values ('fast_replies', 'Здравствуйте;Доброе утро;Добрый день;Добрый вечер;До свидания');
insert into `f_module_livechat_settings` values ('say_hi', 'Здравствуйте! Чем я могу вам помочь?');
create table `f_module_mail_activ` (`date_first` int(11) default '0'  NOT NULL , `status_main` tinyint(4) default '0'  NOT NULL , `disabled` tinyint(4) default '0'  NOT NULL , `cron` int(11) default '0'  NOT NULL , `addon_id` int(11) default '0'  NOT NULL , `table_id` int(11) default '0'  NOT NULL , `data` int(11) default '0'  NOT NULL , `email` int(11) default '0'  NOT NULL , `name_sender` int(11) default '0'  NOT NULL , `type` int(11) default '0'  NOT NULL , `subject` int(11) default '0'  NOT NULL , `mail` int(11) default '0'  NOT NULL , `status` int(11) default '0'  NOT NULL , `investment` int(11) default '0'  NOT NULL , `uid` int(11) default '0'  NOT NULL , `to_email` int(11) default '0'  NOT NULL , `accaunt` int(11) default '0'  NOT NULL , `check_reads` int(11) default '0'  NOT NULL , `user` int(11) default '0'  NOT NULL , `iframe` int(11) default '0'  NOT NULL , `html` int(11) default '0'  NOT NULL , `sub_text` int(11) default '0'  NOT NULL , `cat_id` int(11) default '0'  NOT NULL , `charset` int(11) default '0'  NOT NULL )engine=innodb default charset=utf8 collate=utf8_general_ci;
insert into `f_module_mail_activ` values (0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0);
create table `f_module_sms_archive` (`id` int(11) auto_increment, primary key (`id`), `uid` bigint(20) default '0'  NOT NULL , `thread_id` int(11) default '0'  NOT NULL , key `thread_id` (`thread_id`), `add_time` timestamp default '0000-00-00 00:00:00'  NOT NULL , `user_id` int(11) default '0'  NOT NULL , key `user_id` (`user_id`), `line_id` int(11) default '0'  NOT NULL , key `line_id` (`line_id`), `phone` varchar(255) character set utf8 collate utf8_general_ci NOT NULL , `text` text character set utf8 collate utf8_general_ci NOT NULL , `sender` varchar(255) character set utf8 collate utf8_general_ci NOT NULL , `sended_time` timestamp default '0000-00-00 00:00:00'  NOT NULL , `sended_from` varchar(255) character set utf8 collate utf8_general_ci NOT NULL , `id_sms` varchar(255) character set utf8 collate utf8_general_ci NOT NULL , `sms` int(11) default '0'  NOT NULL , `delivered_time` timestamp default '0000-00-00 00:00:00'  NOT NULL , `error_type` tinyint(4) default '0'  NOT NULL , `error_text` varchar(255) character set utf8 collate utf8_general_ci NOT NULL )engine=innodb default charset=utf8 collate=utf8_general_ci;
create table `f_module_sms_gates` (`id` int(11) auto_increment, primary key (`id`), `name` varchar(255) character set utf8 collate utf8_general_ci NOT NULL , `code` text character set utf8 collate utf8_general_ci NOT NULL , `check_status` text character set utf8 collate utf8_general_ci NOT NULL , `login` varchar(255) character set utf8 collate utf8_general_ci NOT NULL , `password` varchar(255) character set utf8 collate utf8_general_ci NOT NULL , `active` tinyint(1) default '0'  NOT NULL , `system` tinyint(1) default '0'  NOT NULL )engine=innodb default charset=utf8 collate=utf8_general_ci;
insert into `f_module_sms_gates` values (2, 'Intis', 'function send_sms() {\n    global $config, $smsc, $sms;\n    $src = ''<?xml version="1.0" encoding="utf-8" ?>\n<request>\n    <security>\n        <login value="'' . htmlspecialchars($smsc[''login'']) . ''" />\n        <password value="'' . htmlspecialchars($smsc[''password'']) . ''" />\n    </security>\n    <message>\n        <sender>'' . htmlspecialchars($sms[''sender'']) . ''</sender>\n        <text>'' . htmlspecialchars($sms[''text'']) . ''</text>\n        <abonent phone="'' . $sms[''phone''] . ''" number_sms="1"/>\n    </message>\n</request>'';\n    $ch = curl_init();\n    curl_setopt($ch, CURLOPT_HTTPHEADER, array(''Content-type: text/xml; charset=utf-8''));\n    curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);\n    curl_setopt($ch, CURLOPT_CRLF, true);\n    curl_setopt($ch, CURLOPT_POST, true);\n    curl_setopt($ch, CURLOPT_SSL_VERIFYPEER, true);\n    curl_setopt($ch, CURLOPT_SSL_VERIFYHOST, 2);\n    curl_setopt($ch, CURLOPT_POSTFIELDS, $src);\n    if ($config[''proxy_host'']) {\n        curl_setopt($ch, CURLOPT_PROXY, $config[''proxy_host''] . '':'' . $config[''proxy_port'']);\n    }\n    if ($config[''proxy_user'']) {\n        curl_setopt($ch, CURLOPT_PROXYUSERPWD, $config[''proxy_user''] . '':'' . $config[''proxy_pass'']);\n    }\n    curl_setopt($ch, CURLOPT_URL, ''https://xml.sms16.ru/xml/'');\n    $xml = curl_exec($ch);\n    if (curl_error($ch) && (curl_error($ch) == ''Unsupported SSL protocol version'' || curl_errno($ch) == 60)) {\n        curl_setopt($ch, CURLOPT_URL, ''http://xml.sms16.ru/xml/'');\n        $xml = curl_exec($ch);\n    }\n    if ($xml) {\n        $res = trim(strip_tags($xml));\n    } else {\n        $res = curl_error($ch);\n    }\n    curl_close($ch);\n    if ($res == ''send'') {\n        $xr = xml_parser_create();\n        xml_parse_into_struct($xr, $xml, $xml_val);\n        $id_sms = $xml_val[1][''attributes''][''ID_SMS''];\n        $parts = $xml_val[1][''attributes''][''PARTS''];\n        return ''OK:'' . $id_sms . '':'' . $parts;\n    }\n    return ''ERROR:'' . $res;\n}', 'function check_sms_status($id_sms) {\n    global $config, $smsc;\n    $src = ''<?xml version="1.0" encoding="utf-8" ?>\n<request>\n    <security>\n        <login value="'' . htmlspecialchars($smsc[''login'']) . ''" />\n        <password value="'' . htmlspecialchars($smsc[''password'']) . ''" />\n    </security>\n    <get_state>\n        <id_sms>'' . $id_sms . ''</id_sms>\n    </get_state>\n</request>'';\n    $ch = curl_init();\n    curl_setopt($ch, CURLOPT_HTTPHEADER, array(''Content-type: text/xml; charset=utf-8''));\n    curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);\n    curl_setopt($ch, CURLOPT_CRLF, true);\n    curl_setopt($ch, CURLOPT_POST, true);\n    curl_setopt($ch, CURLOPT_SSL_VERIFYPEER, true);\n    curl_setopt($ch, CURLOPT_SSL_VERIFYHOST, 2);\n    curl_setopt($ch, CURLOPT_POSTFIELDS, $src);\n    if ($config[''proxy_host'']) {\n        curl_setopt($ch, CURLOPT_PROXY, $config[''proxy_host''] . '':'' . $config[''proxy_port'']);\n    }\n    if ($config[''proxy_user'']) {\n        curl_setopt($ch, CURLOPT_PROXYUSERPWD, $config[''proxy_user''] . '':'' . $config[''proxy_pass'']);\n    }\n    curl_setopt($ch, CURLOPT_URL, ''https://xml.sms16.ru/xml/state.php'');\n    $xml = curl_exec($ch);\n    if (curl_error($ch) && (curl_error($ch) == ''Unsupported SSL protocol version'' || curl_errno($ch) == 60)) {\n        curl_setopt($ch, CURLOPT_URL, ''http://xml.sms16.ru/xml/state.php'');\n        $xml = curl_exec($ch);\n    }\n    if (substr($xml, 0, 5) == ''<?xml'') {\n        $status = trim(strip_tags($xml));\n    } elseif ($xml) {\n        $res = $xml;\n    } else {\n        $res = curl_error($ch);\n    }\n    curl_close($ch);\n    if ($status) {\n        $xr = xml_parser_create();\n        xml_parse_into_struct($xr, $xml, $xml_val);\n        $time = $xml_val[1][''attributes''][''TIME''];\n        $error = $xml_val[1][''attributes''][''ERR''];\n        if ($config[''time_zone'']) { // преобразуем московское время от сервера в клиентское\n            date_default_timezone_set(''Etc/GMT-3'');\n            $timestamp = strtotime($time);\n            date_default_timezone_set(''Etc/GMT'' . (($config[''time_zone''] < 0) ? ''+'' : ''-'') . abs($config[''time_zone'']));\n            $time = date(''Y-m-d H:i:s'', $timestamp);\n        }\n        if ($status == ''send'') {\n            return '''';\n        }\n        if ($status == ''deliver'') {\n            return ''OK:'' . $time;\n        }\n        if ($status == ''not_found'' or $status == ''partly_deliver'') {\n            return ''UNKNOWN:'' . $status;\n        }\n        if ($status == ''expired'') {\n            return ''ERROR:Абонент отсутствовал в сети'';\n        }\n        if ($status == ''not_deliver'' and $error == ''0'') {\n            return ''ERROR:Не удалось доставить СМС'';\n        }\n        if ($status == ''not_deliver'' and $error == ''1'') {\n            return ''ERROR:Абонент недоступен или отключен'';\n        }\n        if ($status == ''not_deliver'' and $error == ''2'') {\n            return ''ERROR:У абонента отключен прием СМС'';\n        }\n        if ($status == ''not_deliver'' and $error == ''3'') {\n            return ''ERROR:Номер телефона не существует или не обслуживается'';\n        }\n        if ($status == ''not_deliver'' and $error == ''4'') {\n            return ''ERROR:Память телефона абонента переполнена'';\n        }\n        if ($status == ''not_deliver'' and $error == ''5'') {\n            return ''ERROR:Аппаратная ошибка телефона абонента'';\n        }\n        if ($status == ''not_deliver'' and $error == ''6'') {\n            return ''ERROR:Сервис СМС не предоставляется'';\n        }\n        if ($status == ''not_deliver'' and $error == ''7'') {\n            return ''ERROR:Аппарат абонента не поддерживает прием СМС'';\n        }\n        if ($status == ''not_deliver'' and $error == ''8'') {\n            return ''ERROR:Аппарат абонента занят операцией, препятствующей получению СМС'';\n        }\n        if ($status == ''not_deliver'' and $error == ''9'') {\n            return ''ERROR:Абонент находится в роуминге'';\n        }\n        if ($status == ''not_deliver'') {\n            return ''UNKNOWN:not_deliver-'' . $error;\n        }\n        return ''ERROR:'' . $status;\n    }\n    return ''ERROR:'' . $res;\n}', '', '', 1, 1);
create table `f_module_sms_queue` (`id` int(11) auto_increment, primary key (`id`), `uid` bigint(20) default '0'  NOT NULL , `thread_id` int(11) default '0'  NOT NULL , key `thread_id` (`thread_id`), `add_time` timestamp default '0000-00-00 00:00:00'  NOT NULL , `user_id` int(11) default '0'  NOT NULL , key `user_id` (`user_id`), `line_id` int(11) default '0'  NOT NULL , key `line_id` (`line_id`), `phone` varchar(255) character set utf8 collate utf8_general_ci NOT NULL , `text` text character set utf8 collate utf8_general_ci NOT NULL , `sender` varchar(255) character set utf8 collate utf8_general_ci NOT NULL )engine=innodb default charset=utf8 collate=utf8_general_ci;
create table `f_module_sms_settings` (`name` varchar(255) character set utf8 collate utf8_general_ci NOT NULL , `value` text character set utf8 collate utf8_general_ci NOT NULL )engine=innodb default charset=utf8 collate=utf8_general_ci;
insert into `f_module_sms_settings` values ('balance', '0');
insert into `f_module_sms_settings` values ('signatures', '');
create table `f_module_sms_threads` (`id` int(11) auto_increment, primary key (`id`), `name` varchar(255) character set utf8 collate utf8_general_ci NOT NULL , `add_time` timestamp default '0000-00-00 00:00:00'  NOT NULL , `end_time` timestamp default '0000-00-00 00:00:00'  NOT NULL , `user_id` int(11) default '0'  NOT NULL , key `user_id` (`user_id`), `form_id` int(11) default '0'  NOT NULL , key `form_id` (`form_id`), `wait` int(11) default '0'  NOT NULL , `sended` int(11) default '0'  NOT NULL , `delivered` int(11) default '0'  NOT NULL , `failed` int(11) default '0'  NOT NULL , `sms` int(11) default '0'  NOT NULL , `pause` tinyint(1) default '0'  NOT NULL , `scheduled_time` timestamp default '0000-00-00 00:00:00'  NOT NULL , `send_status` tinyint(1) default '0'  NOT NULL , `deleted` tinyint(1) default '0'  NOT NULL )engine=innodb default charset=utf8 collate=utf8_general_ci;
insert into `f_module_sms_threads` values (1, '', '0000-00-00 00:00:00', '0000-00-00 00:00:00', 0, 0, 0, 0, 0, 0, 0, 0, '0000-00-00 00:00:00', 0, 0);
create table `f_module_tinkoff_settings` (`name` varchar(255) character set utf8 collate utf8_general_ci NOT NULL , `value` text character set utf8 collate utf8_general_ci NOT NULL )engine=innodb default charset=utf8 collate=utf8_general_ci;
create table `f_modules` (`id` int(11) auto_increment, primary key (`id`), `name` varchar(255) character set utf8 collate utf8_general_ci NOT NULL , `version` varchar(20) character set utf8 collate utf8_general_ci NOT NULL , `status` int(11) default '0'  NOT NULL , key `status` (`status`), `block` tinyint(1) default '0'  NOT NULL )engine=innodb default charset=utf8 collate=utf8_general_ci;
insert into `f_modules` values (1, 'livechat', '1.0', 0, 0);
insert into `f_modules` values (2, 'sms', '1.0', 0, 0);
insert into `f_modules` values (4, 'asterisk', '1.0', 0, 0);
insert into `f_modules` values (5, 'telegram', '1.0', 0, 0);
insert into `f_modules` values (6, 'mail', '0.1', 1, 0);
insert into `f_modules` values (7, 'face', '1.0', 1, 0);
insert into `f_modules` values (8, 'api', '1.0', 0, 0);
insert into `f_modules` values (9, 'social_messages', '0.1', 1, 0);
insert into `f_modules` values (10, '1csync', '0.1', 1, 0);
insert into `f_modules` values (11, 'tinkoff', '0.1', 1, 0);
create table `f_questionare` (`id` int(11) auto_increment, primary key (`id`), `name` varchar(255) character set utf8 collate utf8_general_ci NOT NULL , `h1_name` varchar(255) character set utf8 collate utf8_general_ci default NULL , `table_id` int(11) default '0'  NOT NULL , key `table_id` (`table_id`), `css` longtext NOT NULL , `res_text` varchar(255) character set utf8 collate utf8_general_ci NOT NULL , `button_text` varchar(255) character set utf8 collate utf8_general_ci NOT NULL , `button_type` tinyint(1) default '0'  NOT NULL , `disabled` tinyint(1) default '0'  NOT NULL , `charset` varchar(30) character set utf8 collate utf8_general_ci NOT NULL , `javascript` longtext NOT NULL , `html_code` longtext NOT NULL , `reg_group` int(11) default '0'  NOT NULL , `allow_update` tinyint(1) default '0'  NOT NULL , `hash` varchar(255) character set utf8 collate utf8_general_ci default NULL , `owner_id` int(11) default '0'  NOT NULL , key `owner_id` (`owner_id`), `reset_hash` tinyint(1) default '0'  NOT NULL , `alternative_site` text character set utf8 collate utf8_general_ci NOT NULL , `secure` tinyint(1) default '0'  NOT NULL , `lang` varchar(255) character set utf8 collate utf8_general_ci NOT NULL , `user_agreement` tinyint(1) default '0'  NOT NULL , `user_agreement_auto` tinyint(1) default '0'  NOT NULL , `user_agreement_text` text character set utf8 collate utf8_general_ci NOT NULL , `UTM_tag` tinyint(1) default '0'  NOT NULL )engine=innodb default charset=utf8 collate=utf8_general_ci;
create table `f_questionare_answers` (`qst_id` int(11) default '0'  NOT NULL , key `qst_id` (`qst_id`), `r` varchar(50) character set utf8 collate utf8_general_ci NOT NULL , `answer` text character set utf8 collate utf8_general_ci NOT NULL )engine=innodb default charset=utf8 collate=utf8_general_ci;
create table `f_questionare_fields` (`qst_id` int(11) default '0'  NOT NULL , key `qst_id` (`qst_id`), `field_id` int(11) default '0'  NOT NULL , key `field_id` (`field_id`), `text` varchar(255) character set utf8 collate utf8_general_ci NOT NULL , `def` varchar(255) character set utf8 collate utf8_general_ci NOT NULL , `readonly` tinyint(4) default '0'  NOT NULL )engine=innodb default charset=utf8 collate=utf8_general_ci;
create table `f_questionare_files` (`qst_id` int(11) default '0'  NOT NULL , key `qst_id` (`qst_id`), `r` varchar(50) character set utf8 collate utf8_general_ci NOT NULL , `name` varchar(500) character set utf8 collate utf8_general_ci NOT NULL , `temp_name` varchar(1000) character set utf8 collate utf8_general_ci NOT NULL , `date` timestamp default '0000-00-00 00:00:00'  NOT NULL , `field_id` int(11) default '0'  NOT NULL , key `field_id` (`field_id`))engine=innodb default charset=utf8 collate=utf8_general_ci;
create table `f_questionare_groups` (`qst_id` int(11) default '0'  NOT NULL , key `qst_id` (`qst_id`), `group_id` int(11) default '0'  NOT NULL , key `group_id` (`group_id`), `text` varchar(255) character set utf8 collate utf8_general_ci NOT NULL )engine=innodb default charset=utf8 collate=utf8_general_ci;
create table `f_questionare_stat` (`qst_id` int(11) default '0'  NOT NULL , key `qst_id` (`qst_id`), `date` datetime default '0000-00-00 00:00:00'  NOT NULL , `ip` varchar(255) character set utf8 collate utf8_general_ci NOT NULL , `browser` varchar(1024) character set utf8 collate utf8_general_ci NOT NULL )engine=innodb default charset=utf8 collate=utf8_general_ci;
create table `f_questionare_tag` (`id` int(11) auto_increment, primary key (`id`), `qst_id` int(11) default '0'  NOT NULL , `utm_source` int(11) default '0'  NOT NULL , `utm_medium` int(11) default '0'  NOT NULL , `utm_campaign` int(11) default '0'  NOT NULL , `utm_content` int(11) default '0'  NOT NULL , `utm_term` int(11) default '0'  NOT NULL )engine=innodb default charset=utf8 collate=utf8_general_ci;
insert into `f_questionare_tag` values (1, 10, 5951, 6271, 5961, 5971, 5981);
insert into `f_questionare_tag` values (2, 21, 5951, 6271, 5961, 5971, 5981);
insert into `f_questionare_tag` values (3, 31, 5951, 6271, 5961, 5971, 5981);
create table `f_reports` (`id` int(11) auto_increment, primary key (`id`), `cat_id` int(11) default '0'  NOT NULL , key `cat_id` (`cat_id`), `num` int(11) default '0'  NOT NULL , `name` varchar(255) character set utf8 collate utf8_general_ci NOT NULL , `code` longtext NOT NULL , `form` longtext NOT NULL , `help` text character set utf8 collate utf8_general_ci NOT NULL , `cron_id` int(11) default '0'  NOT NULL , key `cron_id` (`cron_id`), `emails` varchar(255) character set utf8 collate utf8_general_ci NOT NULL , `disable_csrf` tinyint(1) default '0'  NOT NULL , `mail_template` int(11) default '0'  NOT NULL , `owner_id` int(11) default '0'  NOT NULL , key `owner_id` (`owner_id`))engine=innodb default charset=utf8 collate=utf8_general_ci;
create table `f_schemes` (`id` int(11) auto_increment, primary key (`id`), `style` varchar(255) character set utf8 collate utf8_general_ci NOT NULL , `color1` varchar(255) character set utf8 collate utf8_general_ci NOT NULL , `color2` varchar(255) character set utf8 collate utf8_general_ci NOT NULL , `color3` varchar(255) character set utf8 collate utf8_general_ci NOT NULL , `color4` varchar(255) character set utf8 collate utf8_general_ci NOT NULL , `color7` varchar(255) character set utf8 collate utf8_general_ci default NULL , `active` tinyint(1) default '0'  NOT NULL , `gradient_stat` tinyint(1) default '0'  NOT NULL , `size_opacity` float NOT NULL , `img_select` varchar(255) character set utf8 collate utf8_general_ci NOT NULL , `second_img_select` varchar(255) character set utf8 collate utf8_general_ci NOT NULL , `table_bg` tinyint(1) default '1'  NOT NULL , `radius_menu` tinyint(1) default '1'  NOT NULL , `font_select` varchar(255) character set utf8 collate utf8_general_ci default 'Arial'  NOT NULL , `scheme_name` varchar(255) character set utf8 collate utf8_general_ci NOT NULL )engine=innodb default charset=utf8 collate=utf8_general_ci;
insert into `f_schemes` values (1, 'default', '#0075CE', '#59A5DF', '#BFDCF3', '#59A5DF', '#feda4e', 0, 1, '0.5', 'Origami.png', '', 1, 1, 'Ubuntu', '');
insert into `f_schemes` values (2, 'beeswax', '#C08115', '#E2C133', '#F3E384', '#E2C133', '#feda4e', 0, 1, '0.5', 'Origami.png', '', 1, 1, 'Ubuntu', '');
insert into `f_schemes` values (3, 'cherry_bomb', '#AE2033', '#CAA466', '#F1EDBD', '#CAA466', '#feda4e', 0, 1, '0.5', 'Origami.png', '', 1, 1, 'Ubuntu', '');
insert into `f_schemes` values (4, 'earthy', '#327500', '#7EAD1C', '#D8DC85', '#7EAD1C', '#feda4e', 0, 1, '0.5', 'Origami.png', '', 1, 1, 'Ubuntu', '');
insert into `f_schemes` values (5, 'eggplant', '#5F397A', '#889550', '#CFDAA1', '#889550', '#feda4e', 0, 1, '0.5', 'Origami.png', '', 1, 1, 'Ubuntu', '');
insert into `f_schemes` values (6, 'grape_ape', '#783678', '#A769A7', '#D1C1D1', '#A769A7', '#feda4e', 0, 1, '0.5', 'Origami.png', '', 1, 1, 'Ubuntu', '');
insert into `f_schemes` values (7, 'jive_alive', '#006699', '#4D97BC', '#D0D02D', '#4D97BC', '#feda4e', 0, 1, '0.5', 'Origami.png', '', 1, 1, 'Ubuntu', '');
insert into `f_schemes` values (8, 'merlot', '#561420', '#C59A6F', '#EDD9C3', '#C59A6F', '#feda4e', 0, 1, '0.5', 'Origami.png', '', 1, 1, 'Ubuntu', '');
insert into `f_schemes` values (9, 'mermaid', '#2E9091', '#60B8B9', '#BCE7E8', '#60B8B9', '#feda4e', 0, 1, '0.5', 'Origami.png', '', 1, 1, 'Ubuntu', '');
insert into `f_schemes` values (10, 'mud_mask', '#65592B', '#9C9369', '#EBE1C6', '#9C9369', '#feda4e', 0, 1, '0.5', 'Origami.png', '', 1, 1, 'Ubuntu', '');
insert into `f_schemes` values (11, 'o_canada', '#C32929', '#E04747', '#FFD3D3', '#E04747', '#feda4e', 0, 1, '0.5', 'Origami.png', '', 1, 1, 'Ubuntu', '');
insert into `f_schemes` values (12, 'rainy_day', '#195A8C', '#7295B2', '#DDDDDD', '#7295B2', '#feda4e', 0, 1, '0.5', 'Origami.png', '', 1, 1, 'Ubuntu', '');
insert into `f_schemes` values (13, 'sea_captain', '#265778', '#668FAD', '#FACF76', '#668FAD', '#feda4e', 0, 1, '0.5', 'Origami.png', '', 1, 1, 'Ubuntu', '');
insert into `f_schemes` values (14, 'tangerino', '#AE4700', '#DF9059', '#F3D5BF', '#DF9059', '#feda4e', 0, 1, '0.5', 'Origami.png', '', 1, 1, 'Ubuntu', '');
insert into `f_schemes` values (15, 'tree_hugger', '#211f1f', '#696365', '#ffd230', '#696365', '#feda4e', 0, 1, '0.5', 'Origami.png', '', 1, 1, 'Ubuntu', '');
insert into `f_schemes` values (16, 'custom', '#6b0848', '#ec610a', '#ffc300', '#a40a3c', '#feda4e', 1, 1, '0.5', 'Origami.png', '', 0, 1, 'Ubuntu', '');
insert into `f_schemes` values (17, 'purple_yellow', '#6a2c70', '#b83b5e', '#f9ed69', '#b83b5e', '#feda4e', 0, 1, '0.5', 'Origami.png', '', 1, 1, 'Ubuntu', '');
insert into `f_schemes` values (18, 'gentle_green', '#5a9e7c', '#83cc61', '#eefca9', '#83cc61', '#feda4e', 0, 1, '0.5', 'Origami.png', '', 1, 1, 'Ubuntu', '');
insert into `f_schemes` values (19, 'warm_sand', '#693f27', '#c24b39', '#e4c144', '#c24b39', '#feda4e', 0, 1, '0.5', 'Origami.png', '', 1, 1, 'Ubuntu', '');
insert into `f_schemes` values (20, 'mildly_pink', '#b3533d', '#f46d6d', '#f0d3a2', '#f46d6d', '#feda4e', 0, 1, '0.5', 'Origami.png', '', 1, 1, 'Ubuntu', '');
insert into `f_schemes` values (21, 'marsh', '#1b4b4d', '#caa466', '#f1edbd', '#caa466', '#feda4e', 0, 1, '0.5', 'Origami.png', '', 1, 1, 'Ubuntu', '');
insert into `f_schemes` values (22, 'mauve_sand', '#a52f56', '#eb5e60', '#fae88e', '#eb5e60', '#feda4e', 0, 1, '0.5', 'Origami.png', '', 1, 1, 'Ubuntu', '');
insert into `f_schemes` values (23, 'dark_scheme', '#231a31', '#b42b40', '#e0c8a3', '#b42b40', '#feda4e', 0, 1, '0.5', 'Origami.png', '', 1, 1, 'Ubuntu', '');
insert into `f_schemes` values (24, 'scheme1', '#413d65', '#5fb9b0', '#bff992', '#5fb9b0', '#feda4e', 0, 1, '0.5', 'Origami.png', '', 1, 1, 'Ubuntu', '');
insert into `f_schemes` values (25, 'scheme2', '#393e46', '#00acb5', '#eeeeee', '#00acb5', '#feda4e', 0, 1, '0.5', 'Origami.png', '', 1, 1, 'Ubuntu', '');
insert into `f_schemes` values (101, 'scheme101', '#6a2c70', '#b83b5e', '#f9ed69', '#b83b5e', '#feda4e', 0, 1, '0.5', 'Origami.png', '', 1, 1, 'Ubuntu', '');
insert into `f_schemes` values (102, 'scheme102', '#a52f56', '#eb5e60', '#fae88e', '#eb5e60', '#feda4e', 0, 1, '0.5', 'Light.png', '', 1, 1, 'Ubuntu', '');
insert into `f_schemes` values (103, 'scheme103', '#393e46', '#00acb5', '#eeeeee', '#00acb5', '#feda4e', 0, 1, '0.5', 'Creation.png', '', 1, 1, 'Ubuntu', '');
insert into `f_schemes` values (110, 'user_scheme', '#e600ff', '#ff0048', '#6bf774', '#ffff00', '#feda4e', 0, 1, '0.5', 'Origami.png', '', 1, 1, 'Ubuntu', 'fwefwefwefw');
create table `f_search_templates` (`id` int(11) auto_increment, primary key (`id`), `template_name` varchar(255) character set utf8 collate utf8_general_ci NOT NULL , `table_id` int(11) default '0'  NOT NULL , key `table_id` (`table_id`), `user_id` int(11) default '0'  NOT NULL , key `user_id` (`user_id`), `set_cond` text character set utf8 collate utf8_general_ci NOT NULL , `def_template` tinyint(1) default '0'  NOT NULL , `num_order` int(11) default '0'  NOT NULL )engine=innodb default charset=utf8 collate=utf8_general_ci;
create table `f_send_queue` (`id` int(11) auto_increment, primary key (`id`), `user_id` int(11) default '0'  NOT NULL , `form_id` int(11) default '0'  NOT NULL , `filter` longtext NOT NULL , `scheduled_time` datetime default '0000-00-00 00:00:00'  NOT NULL , `stack` int(11) default '0'  NOT NULL )engine=innodb default charset=utf8 collate=utf8_general_ci;
create table `f_smtp` (`id` int(11) auto_increment, primary key (`id`), `active` tinyint(1) default '0'  NOT NULL , `name` varchar(255) character set utf8 collate utf8_general_ci NOT NULL , `smtp_host` varchar(255) character set utf8 collate utf8_general_ci NOT NULL , `smtp_port` varchar(255) character set utf8 collate utf8_general_ci NOT NULL , `username` varchar(255) character set utf8 collate utf8_general_ci NOT NULL , `password` varchar(255) character set utf8 collate utf8_general_ci NOT NULL , `security` varchar(10) character set utf8 collate utf8_general_ci NOT NULL , `spoof_sender` tinyint(1) default '0'  NOT NULL , `check_invalid_email` tinyint(1) default '0'  NOT NULL , `imap_host` varchar(255) character set utf8 collate utf8_general_ci NOT NULL , `imap_port` varchar(255) character set utf8 collate utf8_general_ci NOT NULL , `imap_login` varchar(255) character set utf8 collate utf8_general_ci NOT NULL , `imap_pass` varchar(255) character set utf8 collate utf8_general_ci NOT NULL , `imap_sec` varchar(10) character set utf8 collate utf8_general_ci NOT NULL , `mph` int(11) default '0'  NOT NULL , `start_hour` timestamp default '0000-00-00 00:00:00'  NOT NULL , `mails_hour` int(11) default '0'  NOT NULL , `mpd` int(11) default '0'  NOT NULL , `start_day` timestamp default '0000-00-00 00:00:00'  NOT NULL , `mails_day` int(11) default '0'  NOT NULL )engine=innodb default charset=utf8 collate=utf8_general_ci;
create table `f_subtables` (`id` int(11) auto_increment, primary key (`id`), `table_id` int(11) default '0'  NOT NULL , key `table_id` (`table_id`), `num` int(11) default '0'  NOT NULL , `name` varchar(255) character set utf8 collate utf8_general_ci NOT NULL , `link_table_id` int(11) default '0'  NOT NULL , key `link_table_id` (`link_table_id`), `link_field_id` int(11) default '0'  NOT NULL , key `link_field_id` (`link_field_id`), `filter_id` int(11) default '0'  NOT NULL , key `filter_id` (`filter_id`), `autostatus_calc_id` int(11) default '0'  NOT NULL , key `autostatus_calc_id` (`autostatus_calc_id`), `autocopy` tinyint(1) default '1'  NOT NULL )engine=innodb default charset=utf8 collate=utf8_general_ci;
create table `f_sync` (`id` int(8) auto_increment, primary key (`id`), `sync_name` varchar(255) character set utf8 collate utf8_general_ci NOT NULL , `upload_dir` varchar(255) character set utf8 collate utf8_general_ci NOT NULL , `download_dir` varchar(255) character set utf8 collate utf8_general_ci NOT NULL , `sync_status` int(1) default '0'  NOT NULL , `sync_mode` int(1) default '0'  NOT NULL , `enabled` int(1) default '0'  NOT NULL , `type_mode` varchar(255) character set utf8 collate utf8_general_ci NOT NULL , `server` varchar(255) character set utf8 collate utf8_general_ci NOT NULL , `login` varchar(255) character set utf8 collate utf8_general_ci NOT NULL , `password` varchar(255) character set utf8 collate utf8_general_ci NOT NULL , `remote_sync` int(11) default '0'  NOT NULL , `http_type` tinyint(1) default '0'  NOT NULL , `num` int(11) default '0'  NOT NULL , `log_on` tinyint(1) default '0'  NOT NULL )engine=innodb default charset=utf8 collate=utf8_general_ci;
create table `f_sync_cache` (`id` int(11) auto_increment, primary key (`id`), `sync_id` int(11) default '0'  NOT NULL , key `sync_id` (`sync_id`), `table_id` int(11) default '0'  NOT NULL , key `table_id` (`table_id`), `field_id` int(11) default '0'  NOT NULL , key `field_id` (`field_id`), `line_id` int(11) default '0'  NOT NULL , key `line_id` (`line_id`), `value` text character set utf8 collate utf8_general_ci NOT NULL , `upload_count` int(11) default '0'  NOT NULL , `last_upload` timestamp default '0000-00-00 00:00:00'  NOT NULL )engine=innodb default charset=utf8 collate=utf8_general_ci;
create table `f_sync_fields` (`sync_id` int(8) default '0'  NOT NULL , key `sync_id` (`sync_id`), `field_id` int(8) default '0'  NOT NULL , key `field_id` (`field_id`), `enabled` int(1) default '0'  NOT NULL , `direction` int(1) default '0'  NOT NULL , `c_field` int(11) default '0'  NOT NULL , `filter_id` int(11) default '0'  NOT NULL , key `filter_id` (`filter_id`))engine=innodb default charset=utf8 collate=utf8_general_ci;
create table `f_tables` (`id` int(11) auto_increment, primary key (`id`), `cat_id` int(11) default '0'  NOT NULL , key `cat_id` (`cat_id`), `table_num` tinyint(4) default '0'  NOT NULL , `name_table` varchar(255) character set utf8 collate utf8_general_ci NOT NULL , `full_name` varchar(255) character set utf8 collate utf8_general_ci NOT NULL , `add_text` varchar(255) character set utf8 collate utf8_general_ci NOT NULL , `edit_text` varchar(255) character set utf8 collate utf8_general_ci NOT NULL , `def_sort` varchar(255) character set utf8 collate utf8_general_ci NOT NULL , `help` text character set utf8 collate utf8_general_ci NOT NULL , `subtable` tinyint(1) default '0'  NOT NULL , `crypt` tinyint(1) default '0'  NOT NULL , `view_sql` text character set utf8 collate utf8_general_ci NOT NULL , `fixed_scroll` int(11) default '0'  NOT NULL , `fixed_scroll_width` int(11) default '0'  NOT NULL , `group_field` int(11) default '0'  NOT NULL , `desc_group` tinyint(1) default '0'  NOT NULL , `auto_save` tinyint(1) default '0'  NOT NULL , `fast_entry_add` tinyint(1) default '0'  NOT NULL , `lop` int(11) default '0'  NOT NULL , `slop` int(11) default '0'  NOT NULL , `cache_filter_count` tinyint(1) default '1'  NOT NULL , `fix_search_submit` tinyint(1) default '1'  NOT NULL , `user_table_link` text character set utf8 collate utf8_general_ci NOT NULL , `owner_id` int(11) default '0'  NOT NULL , key `owner_id` (`owner_id`), `search_in_subtables` tinyint(4) default '0'  NOT NULL , `auto_entered_field` tinyint(1) default '1'  NOT NULL , `split_columns` tinyint(1) default '0'  NOT NULL )engine=innodb default charset=utf8 collate=utf8_general_ci;
insert into `f_tables` values (281, 31, 0, 'Лог рассылок', 'Лог рассылок', '', '', '`id` desc', '', 0, 0, '', 0, 0, 0, 0, 0, 0, 100, 100, 1, 1, '', 1, 0, 1, 0);
create table `f_tips` (`id` int(11) auto_increment, primary key (`id`), `table_id` int(11) default '0'  NOT NULL , key `table_id` (`table_id`), `name` varchar(255) character set utf8 collate utf8_general_ci NOT NULL , `cond_set` text character set utf8 collate utf8_general_ci NOT NULL , `cond_value` text character set utf8 collate utf8_general_ci NOT NULL , `message` text character set utf8 collate utf8_general_ci NOT NULL , `bg_color` varchar(255) character set utf8 collate utf8_general_ci NOT NULL , `head_on` tinyint(1) default '0'  NOT NULL , `email_on` tinyint(1) default '0'  NOT NULL , `notify_on` tinyint(1) default '0'  NOT NULL , `email_template` int(11) default '0'  NOT NULL , `email_subject` varchar(255) character set utf8 collate utf8_general_ci NOT NULL , `sms_on` tinyint(1) default '0'  NOT NULL , `sms_sender` varchar(255) character set utf8 collate utf8_general_ci NOT NULL , `auto_clean` tinyint(1) default '0'  NOT NULL , `auto_repeat` int(11) default '0'  NOT NULL , `notify_repeat` int(11) default '0'  NOT NULL , `main` tinyint(1) default '0'  NOT NULL , `solution` text character set utf8 collate utf8_general_ci NOT NULL , `owner_id` int(11) default '0'  NOT NULL , key `owner_id` (`owner_id`), `notify_sound` varchar(50) character set utf8 collate utf8_general_ci NOT NULL )engine=innodb default charset=utf8 collate=utf8_general_ci;
create table `f_tips_on_day` (`id` int(11) auto_increment, primary key (`id`), `table_id` int(11) default '0'  NOT NULL , `line_id` int(11) default '0'  NOT NULL , `tip_id` int(11) default '0'  NOT NULL , `user_id` int(11) default '0'  NOT NULL )engine=innodb default charset=utf8 collate=utf8_general_ci;
create table `f_tips_show` (`id` int(11) auto_increment, primary key (`id`), `tip_id` int(11) default '0'  NOT NULL , key `tip_id` (`tip_id`), `user_id` int(11) default '0'  NOT NULL , key `user_id` (`user_id`), `message` text character set utf8 collate utf8_general_ci NOT NULL , `solution` text character set utf8 collate utf8_general_ci NOT NULL , `table_id` int(11) default '0'  NOT NULL , key `table_id` (`table_id`), `line_id` int(11) default '0'  NOT NULL , key `line_id` (`line_id`), `bg_color` varchar(10) character set utf8 collate utf8_general_ci NOT NULL , `date` timestamp default '0000-00-00 00:00:00'  NOT NULL , `hidden` tinyint(1) default '0'  NOT NULL , `custom_url` varchar(1024) character set utf8 collate utf8_general_ci NOT NULL , `inactive` tinyint(1) default '0'  NOT NULL , `flag` int(11) default '0'  NOT NULL , `popup` tinyint(1) default '0'  NOT NULL , `notify_close_date` timestamp default '0000-00-00 00:00:00'  NOT NULL )engine=innodb default charset=utf8 collate=utf8_general_ci;
create table `f_tips_show_arhive` (`id` int(11) auto_increment, primary key (`id`), `tip_id` int(11) default '0'  NOT NULL , key `tip_id` (`tip_id`), `user_id` int(11) default '0'  NOT NULL , key `user_id` (`user_id`), `message` text character set utf8 collate utf8_general_ci NOT NULL , `solution` text character set utf8 collate utf8_general_ci NOT NULL , `table_id` int(11) default '0'  NOT NULL , key `table_id` (`table_id`), `line_id` int(11) default '0'  NOT NULL , key `line_id` (`line_id`), `bg_color` varchar(10) character set utf8 collate utf8_general_ci NOT NULL , `date` timestamp default '0000-00-00 00:00:00'  NOT NULL , `custom_url` varchar(1024) character set utf8 collate utf8_general_ci NOT NULL , `inactive` tinyint(1) default '0'  NOT NULL , `close_flag` tinyint(1) default '0'  NOT NULL , `flag` int(11) default '0'  NOT NULL , `u` tinyint(1) default '0'  NOT NULL )engine=innodb default charset=utf8 collate=utf8_general_ci;
create table `f_unsubscribe` (`id` int(11) auto_increment, primary key (`id`), `email` varchar(254) character set utf8 collate utf8_general_ci NOT NULL , `date` timestamp default '0000-00-00 00:00:00'  NOT NULL , `disabled` tinyint(1) default '0'  NOT NULL , `ip` varchar(20) character set utf8 collate utf8_general_ci NOT NULL , `invalid_mail` tinyint(1) default '0'  NOT NULL , `mailbox` varchar(255) character set utf8 collate utf8_general_ci NOT NULL )engine=innodb default charset=utf8 collate=utf8_general_ci;
create table `f_update_conf_log` (`uid` varchar(255) character set utf8 collate utf8_general_ci NOT NULL , `date` timestamp default CURRENT_TIMESTAMP  NOT NULL )engine=innodb default charset=utf8 collate=utf8_general_ci;
create table `f_update_log` (`revision` int(11) default '0'  NOT NULL , `date` timestamp default CURRENT_TIMESTAMP  NOT NULL )engine=innodb default charset=utf8 collate=utf8_general_ci;
insert into `f_update_log` values (1, '2011-03-23 23:47:57');
insert into `f_update_log` values (1, '2011-03-23 23:47:57');
insert into `f_update_log` values (2, '2011-03-23 23:47:57');
insert into `f_update_log` values (1292, '2011-03-23 23:47:57');
insert into `f_update_log` values (1314, '2011-03-23 23:47:57');
insert into `f_update_log` values (1390, '2011-04-12 03:09:01');
insert into `f_update_log` values (1400, '2011-04-12 03:09:02');
insert into `f_update_log` values (1440, '2011-04-12 03:09:02');
insert into `f_update_log` values (1441, '2011-04-12 03:09:02');
insert into `f_update_log` values (1500, '2011-04-16 02:57:22');
insert into `f_update_log` values (1542, '2011-06-07 06:25:48');
insert into `f_update_log` values (1554, '2011-06-07 06:25:48');
insert into `f_update_log` values (1579, '2011-06-07 06:25:49');
insert into `f_update_log` values (1608, '2011-06-07 06:25:49');
insert into `f_update_log` values (1700, '2011-06-11 10:06:17');
insert into `f_update_log` values (1748, '2011-06-23 11:37:14');
insert into `f_update_log` values (1804, '2011-06-23 11:37:14');
insert into `f_update_log` values (1805, '2011-06-23 11:37:14');
insert into `f_update_log` values (1827, '2011-06-23 11:37:14');
insert into `f_update_log` values (1897, '2011-06-25 08:48:14');
insert into `f_update_log` values (1974, '2011-07-16 10:41:03');
insert into `f_update_log` values (2001, '2011-07-16 10:41:03');
insert into `f_update_log` values (2008, '2011-07-16 10:41:04');
insert into `f_update_log` values (2015, '2011-07-16 10:41:04');
insert into `f_update_log` values (2094, '2011-08-02 09:40:57');
insert into `f_update_log` values (2030, '2011-10-08 03:58:05');
insert into `f_update_log` values (2133, '2011-10-08 03:58:05');
insert into `f_update_log` values (2159, '2011-10-08 03:58:05');
insert into `f_update_log` values (2164, '2011-10-08 03:58:05');
insert into `f_update_log` values (2269, '2011-10-08 03:58:05');
insert into `f_update_log` values (2320, '2011-10-08 03:58:05');
insert into `f_update_log` values (2400, '2011-10-08 03:58:06');
insert into `f_update_log` values (2414, '2011-10-08 03:58:07');
insert into `f_update_log` values (2431, '2011-10-08 03:58:07');
insert into `f_update_log` values (2433, '2011-10-08 03:58:07');
insert into `f_update_log` values (2457, '2011-10-08 03:58:09');
insert into `f_update_log` values (2490, '2011-10-08 03:58:11');
insert into `f_update_log` values (2538, '2011-10-08 03:58:11');
insert into `f_update_log` values (2560, '2011-10-08 03:58:11');
insert into `f_update_log` values (2573, '2011-10-08 03:58:11');
insert into `f_update_log` values (2579, '2011-10-08 03:58:11');
insert into `f_update_log` values (2598, '2011-10-08 03:58:11');
insert into `f_update_log` values (2618, '2011-10-08 03:58:11');
insert into `f_update_log` values (2744, '2011-11-04 07:16:23');
insert into `f_update_log` values (2839, '2011-11-22 10:53:51');
insert into `f_update_log` values (2679, '2011-11-30 09:41:30');
insert into `f_update_log` values (2878, '2011-12-02 08:29:07');
insert into `f_update_log` values (2879, '2011-12-09 09:01:29');
insert into `f_update_log` values (2921, '2011-12-09 09:01:30');
insert into `f_update_log` values (2948, '2011-12-15 03:14:39');
insert into `f_update_log` values (2949, '2011-12-15 10:38:05');
insert into `f_update_log` values (2950, '2011-12-17 08:06:24');
insert into `f_update_log` values (3030, '2011-12-23 03:10:14');
insert into `f_update_log` values (3163, '2012-01-11 08:56:54');
insert into `f_update_log` values (3183, '2012-01-13 08:16:57');
insert into `f_update_log` values (3215, '2012-01-14 07:56:22');
insert into `f_update_log` values (3234, '2012-01-19 10:19:24');
insert into `f_update_log` values (3559, '2012-03-12 11:06:20');
insert into `f_update_log` values (3598, '2012-03-16 03:38:38');
insert into `f_update_log` values (3602, '2012-03-16 03:38:38');
insert into `f_update_log` values (3637, '2012-03-16 03:38:38');
insert into `f_update_log` values (3643, '2012-03-18 09:35:32');
insert into `f_update_log` values (3663, '2012-03-20 08:30:31');
insert into `f_update_log` values (3710, '2012-03-22 09:06:03');
insert into `f_update_log` values (3741, '2012-03-24 03:34:34');
insert into `f_update_log` values (3758, '2012-03-30 08:33:48');
insert into `f_update_log` values (3825, '2012-03-30 08:33:48');
insert into `f_update_log` values (3831, '2012-04-06 06:23:00');
insert into `f_update_log` values (3890, '2012-04-06 06:23:00');
insert into `f_update_log` values (3897, '2012-04-06 06:23:00');
insert into `f_update_log` values (3984, '2012-04-27 03:48:05');
insert into `f_update_log` values (3985, '2012-04-27 03:48:05');
insert into `f_update_log` values (4272, '2012-05-17 03:55:10');
insert into `f_update_log` values (4458, '2012-05-25 11:09:03');
insert into `f_update_log` values (4505, '2012-05-26 01:41:15');
insert into `f_update_log` values (4524, '2012-05-26 08:08:26');
insert into `f_update_log` values (4539, '2012-05-29 09:59:40');
insert into `f_update_log` values (4551, '2012-05-29 09:59:40');
insert into `f_update_log` values (4552, '2012-06-01 06:47:40');
insert into `f_update_log` values (4626, '2012-06-07 04:40:11');
insert into `f_update_log` values (4792, '2012-07-11 04:23:51');
insert into `f_update_log` values (4849, '2012-07-14 08:51:14');
insert into `f_update_log` values (4873, '2012-07-18 05:57:54');
insert into `f_update_log` values (4875, '2012-07-18 05:57:54');
insert into `f_update_log` values (4900, '2012-07-18 05:57:55');
insert into `f_update_log` values (4916, '2012-07-19 07:32:16');
insert into `f_update_log` values (4976, '2012-07-21 05:59:23');
insert into `f_update_log` values (5012, '2012-07-21 05:59:23');
insert into `f_update_log` values (5033, '2012-07-21 08:36:53');
insert into `f_update_log` values (5777, '2012-10-04 02:48:42');
insert into `f_update_log` values (3322, '2012-11-14 05:02:03');
insert into `f_update_log` values (3830, '2012-11-14 05:02:03');
insert into `f_update_log` values (4831, '2012-11-14 05:02:03');
insert into `f_update_log` values (5338, '2012-11-14 05:02:04');
insert into `f_update_log` values (5493, '2012-11-14 05:02:04');
insert into `f_update_log` values (5511, '2012-11-14 05:02:04');
insert into `f_update_log` values (5540, '2012-11-14 05:02:04');
insert into `f_update_log` values (5598, '2012-11-14 05:02:04');
insert into `f_update_log` values (5604, '2012-11-14 05:02:04');
insert into `f_update_log` values (5632, '2012-11-14 05:02:04');
insert into `f_update_log` values (5651, '2012-11-14 05:02:05');
insert into `f_update_log` values (5711, '2012-11-14 05:02:05');
insert into `f_update_log` values (5880, '2012-11-14 05:02:20');
insert into `f_update_log` values (5881, '2012-11-14 05:02:20');
insert into `f_update_log` values (5882, '2012-11-14 05:02:20');
insert into `f_update_log` values (6004, '2012-11-14 05:02:20');
insert into `f_update_log` values (6123, '2012-11-14 05:02:21');
insert into `f_update_log` values (6137, '2012-11-14 05:02:21');
insert into `f_update_log` values (6142, '2012-11-14 05:02:25');
insert into `f_update_log` values (6158, '2012-11-14 05:02:25');
insert into `f_update_log` values (6201, '2012-11-14 05:02:25');
insert into `f_update_log` values (6236, '2012-11-14 05:02:26');
insert into `f_update_log` values (6300, '2012-11-15 04:35:49');
insert into `f_update_log` values (6349, '2012-11-20 02:37:15');
insert into `f_update_log` values (6353, '2012-11-23 06:34:19');
insert into `f_update_log` values (6370, '2012-11-23 06:34:19');
insert into `f_update_log` values (6371, '2012-11-23 06:34:19');
insert into `f_update_log` values (6372, '2012-11-23 06:34:19');
insert into `f_update_log` values (6427, '2012-11-28 07:23:21');
insert into `f_update_log` values (6435, '2012-11-28 07:23:28');
insert into `f_update_log` values (6463, '2012-11-29 10:32:46');
insert into `f_update_log` values (6484, '2012-11-30 04:22:09');
insert into `f_update_log` values (6516, '2012-12-01 07:41:51');
insert into `f_update_log` values (6529, '2012-12-04 05:45:30');
insert into `f_update_log` values (6589, '2012-12-08 09:02:20');
insert into `f_update_log` values (6600, '2012-12-11 08:39:25');
insert into `f_update_log` values (6716, '2012-12-20 11:12:25');
insert into `f_update_log` values (6816, '2012-12-28 05:07:29');
insert into `f_update_log` values (6817, '2012-12-29 02:03:14');
insert into `f_update_log` values (6851, '2013-01-10 01:52:35');
insert into `f_update_log` values (6916, '2013-01-15 08:42:10');
insert into `f_update_log` values (6934, '2013-01-18 01:55:35');
insert into `f_update_log` values (6941, '2013-01-18 01:55:35');
insert into `f_update_log` values (6942, '2013-01-18 01:55:35');
insert into `f_update_log` values (6974, '2013-01-22 06:51:00');
insert into `f_update_log` values (7040, '2013-01-25 04:36:20');
insert into `f_update_log` values (7057, '2013-01-25 09:29:36');
insert into `f_update_log` values (7130, '2013-01-31 05:53:22');
insert into `f_update_log` values (7163, '2013-02-09 02:24:06');
insert into `f_update_log` values (7180, '2013-02-09 02:24:06');
insert into `f_update_log` values (7232, '2013-02-09 02:24:06');
insert into `f_update_log` values (7284, '2013-02-13 04:59:50');
insert into `f_update_log` values (7470, '2013-02-28 07:49:34');
insert into `f_update_log` values (7501, '2013-02-28 07:49:34');
insert into `f_update_log` values (7572, '2013-03-05 02:03:28');
insert into `f_update_log` values (7594, '2013-03-05 02:03:28');
insert into `f_update_log` values (6892, '2013-03-29 04:57:56');
insert into `f_update_log` values (7022, '2013-03-29 04:57:56');
insert into `f_update_log` values (7200, '2013-03-29 04:57:56');
insert into `f_update_log` values (7995, '2013-03-29 04:57:57');
insert into `f_update_log` values (8066, '2013-03-29 04:57:57');
insert into `f_update_log` values (8114, '2013-03-29 04:57:57');
insert into `f_update_log` values (8127, '2013-04-04 04:40:42');
insert into `f_update_log` values (8160, '2013-04-04 04:40:42');
insert into `f_update_log` values (8170, '2013-04-04 04:40:42');
insert into `f_update_log` values (8181, '2013-04-04 04:40:42');
insert into `f_update_log` values (8182, '2013-04-04 04:40:43');
insert into `f_update_log` values (8220, '2013-04-19 06:59:13');
insert into `f_update_log` values (8248, '2013-04-19 06:59:14');
insert into `f_update_log` values (8275, '2013-04-19 06:59:14');
insert into `f_update_log` values (8333, '2013-04-19 06:59:15');
insert into `f_update_log` values (8336, '2013-04-19 06:59:15');
insert into `f_update_log` values (8338, '2013-04-19 06:59:16');
insert into `f_update_log` values (8356, '2013-04-19 06:59:16');
insert into `f_update_log` values (8375, '2013-04-19 06:59:17');
insert into `f_update_log` values (7672, '2013-05-14 04:22:45');
insert into `f_update_log` values (8163, '2013-05-14 04:22:45');
insert into `f_update_log` values (8403, '2013-05-14 04:22:46');
insert into `f_update_log` values (8419, '2013-05-14 04:22:46');
insert into `f_update_log` values (8445, '2013-05-14 04:22:47');
insert into `f_update_log` values (8449, '2013-05-14 04:22:47');
insert into `f_update_log` values (8500, '2013-05-14 04:22:47');
insert into `f_update_log` values (8503, '2013-05-14 04:22:47');
insert into `f_update_log` values (8520, '2013-05-14 04:22:47');
insert into `f_update_log` values (8605, '2013-05-29 10:10:34');
insert into `f_update_log` values (8824, '2013-05-29 10:10:34');
insert into `f_update_log` values (8839, '2013-06-05 03:38:03');
insert into `f_update_log` values (8840, '2013-06-05 03:38:03');
insert into `f_update_log` values (8837, '2013-06-07 02:53:07');
insert into `f_update_log` values (8860, '2013-06-07 02:53:08');
insert into `f_update_log` values (8870, '2013-06-18 03:34:51');
insert into `f_update_log` values (8996, '2013-06-19 07:05:55');
insert into `f_update_log` values (9104, '2013-07-04 09:49:37');
insert into `f_update_log` values (9140, '2013-07-04 09:49:38');
insert into `f_update_log` values (9230, '2013-07-19 08:22:30');
insert into `f_update_log` values (9247, '2013-07-19 08:22:30');
insert into `f_update_log` values (9271, '2013-07-19 08:22:30');
insert into `f_update_log` values (9285, '2013-07-19 08:22:30');
insert into `f_update_log` values (9314, '2013-07-23 02:11:23');
insert into `f_update_log` values (9348, '2013-07-24 07:32:05');
insert into `f_update_log` values (9368, '2013-07-25 11:06:35');
insert into `f_update_log` values (9467, '2013-08-02 08:52:48');
insert into `f_update_log` values (9533, '2013-08-07 04:09:22');
insert into `f_update_log` values (9563, '2013-08-13 04:04:29');
insert into `f_update_log` values (9567, '2013-08-13 04:04:30');
insert into `f_update_log` values (9616, '2013-08-24 02:05:07');
insert into `f_update_log` values (9728, '2013-09-06 06:07:10');
insert into `f_update_log` values (9731, '2013-09-06 06:07:10');
insert into `f_update_log` values (9810, '2013-09-14 06:43:48');
insert into `f_update_log` values (9867, '2013-09-24 05:24:24');
insert into `f_update_log` values (9880, '2013-09-24 05:24:24');
insert into `f_update_log` values (9900, '2013-09-25 05:21:43');
insert into `f_update_log` values (9910, '2013-09-26 08:06:41');
insert into `f_update_log` values (9976, '2013-10-01 10:47:29');
insert into `f_update_log` values (9998, '2013-10-01 10:47:30');
insert into `f_update_log` values (10058, '2013-10-08 06:15:25');
insert into `f_update_log` values (10059, '2013-10-10 04:19:32');
insert into `f_update_log` values (10115, '2013-10-17 09:21:07');
insert into `f_update_log` values (10216, '2013-10-30 08:38:38');
insert into `f_update_log` values (10242, '2013-11-02 10:28:28');
insert into `f_update_log` values (10279, '2013-11-16 09:29:17');
insert into `f_update_log` values (8863, '2013-11-19 06:24:56');
insert into `f_update_log` values (8908, '2013-11-19 06:24:56');
insert into `f_update_log` values (9056, '2013-11-19 06:24:56');
insert into `f_update_log` values (9355, '2013-11-19 06:24:56');
insert into `f_update_log` values (9615, '2013-11-19 06:24:56');
insert into `f_update_log` values (10030, '2013-11-19 06:24:56');
insert into `f_update_log` values (10307, '2013-11-20 09:46:23');
insert into `f_update_log` values (10323, '2013-11-21 07:49:48');
insert into `f_update_log` values (10395, '2013-11-29 07:08:35');
insert into `f_update_log` values (10402, '2013-11-29 07:08:35');
insert into `f_update_log` values (10426, '2013-11-30 03:46:27');
insert into `f_update_log` values (10431, '2013-11-30 03:46:34');
insert into `f_update_log` values (10492, '2013-12-04 02:25:15');
insert into `f_update_log` values (10504, '2013-12-04 02:25:16');
insert into `f_update_log` values (10535, '2013-12-04 02:25:17');
insert into `f_update_log` values (10542, '2013-12-04 02:25:18');
insert into `f_update_log` values (10769, '2013-12-18 11:35:28');
insert into `f_update_log` values (10800, '2013-12-19 07:20:07');
insert into `f_update_log` values (10870, '2013-12-25 04:17:21');
insert into `f_update_log` values (10871, '2013-12-25 08:25:59');
insert into `f_update_log` values (10889, '2013-12-31 08:36:49');
insert into `f_update_log` values (10906, '2013-12-31 08:36:49');
insert into `f_update_log` values (11030, '2014-01-17 09:06:30');
insert into `f_update_log` values (11103, '2014-01-22 02:51:26');
insert into `f_update_log` values (11154, '2014-01-30 03:53:02');
insert into `f_update_log` values (11250, '2014-02-02 09:09:52');
insert into `f_update_log` values (11283, '2014-02-04 05:34:23');
insert into `f_update_log` values (11284, '2014-02-04 05:34:24');
insert into `f_update_log` values (11304, '2014-02-04 05:54:47');
insert into `f_update_log` values (11330, '2014-02-06 02:08:10');
insert into `f_update_log` values (11426, '2014-02-15 07:49:41');
insert into `f_update_log` values (11466, '2014-02-19 07:39:33');
insert into `f_update_log` values (11467, '2014-02-19 07:39:33');
insert into `f_update_log` values (11520, '2014-03-02 07:39:54');
insert into `f_update_log` values (11610, '2014-03-02 07:39:55');
insert into `f_update_log` values (11631, '2014-03-02 07:39:55');
insert into `f_update_log` values (11640, '2014-03-07 06:34:57');
insert into `f_update_log` values (11696, '2014-04-01 04:10:46');
insert into `f_update_log` values (11702, '2014-04-01 04:10:47');
insert into `f_update_log` values (11880, '2014-04-04 05:19:28');
insert into `f_update_log` values (11907, '2014-04-08 02:13:31');
insert into `f_update_log` values (11931, '2014-04-09 10:22:55');
insert into `f_update_log` values (10479, '2014-05-08 02:44:34');
insert into `f_update_log` values (10646, '2014-05-08 02:44:36');
insert into `f_update_log` values (10657, '2014-05-08 02:44:37');
insert into `f_update_log` values (10780, '2014-05-08 02:44:37');
insert into `f_update_log` values (10872, '2014-05-08 02:44:37');
insert into `f_update_log` values (11028, '2014-05-08 02:44:39');
insert into `f_update_log` values (11568, '2014-05-08 02:44:40');
insert into `f_update_log` values (11569, '2014-05-08 02:44:40');
insert into `f_update_log` values (11573, '2014-05-08 02:44:48');
insert into `f_update_log` values (11715, '2014-05-08 02:44:52');
insert into `f_update_log` values (11772, '2014-05-08 02:44:52');
insert into `f_update_log` values (11796, '2014-05-08 02:44:52');
insert into `f_update_log` values (11811, '2014-05-08 02:44:52');
insert into `f_update_log` values (11838, '2014-05-08 02:44:53');
insert into `f_update_log` values (11930, '2014-05-08 02:44:53');
insert into `f_update_log` values (11952, '2014-05-08 02:44:53');
insert into `f_update_log` values (11963, '2014-05-08 02:44:59');
insert into `f_update_log` values (12114, '2014-05-08 02:44:59');
insert into `f_update_log` values (12125, '2014-05-08 02:44:59');
insert into `f_update_log` values (12148, '2014-05-08 09:26:56');
insert into `f_update_log` values (12307, '2014-05-17 03:45:55');
insert into `f_update_log` values (12300, '2014-05-17 09:17:32');
insert into `f_update_log` values (12474, '2014-05-30 06:51:48');
insert into `f_update_log` values (12480, '2014-05-30 06:51:48');
insert into `f_update_log` values (12547, '2014-06-03 04:32:04');
insert into `f_update_log` values (12550, '2014-06-03 04:32:05');
insert into `f_update_log` values (12596, '2014-06-03 09:34:23');
insert into `f_update_log` values (12603, '2014-06-03 09:34:24');
insert into `f_update_log` values (12160, '2014-06-10 07:30:47');
insert into `f_update_log` values (12168, '2014-06-10 07:30:48');
insert into `f_update_log` values (12494, '2014-06-10 07:30:49');
insert into `f_update_log` values (12627, '2014-06-10 07:30:50');
insert into `f_update_log` values (12648, '2014-06-10 07:30:50');
insert into `f_update_log` values (12683, '2014-06-11 04:05:29');
insert into `f_update_log` values (12821, '2014-06-20 04:15:57');
insert into `f_update_log` values (12872, '2014-06-24 09:32:33');
insert into `f_update_log` values (12884, '2014-06-25 04:50:09');
insert into `f_update_log` values (12894, '2014-06-25 05:55:53');
insert into `f_update_log` values (12922, '2014-06-26 08:26:39');
insert into `f_update_log` values (13020, '2014-07-01 04:46:56');
insert into `f_update_log` values (13021, '2014-07-01 04:46:56');
insert into `f_update_log` values (13059, '2014-07-02 03:53:36');
insert into `f_update_log` values (13159, '2014-07-10 02:10:20');
insert into `f_update_log` values (13210, '2014-07-15 05:53:04');
insert into `f_update_log` values (12669, '2014-09-26 04:56:38');
insert into `f_update_log` values (12691, '2014-09-26 04:56:38');
insert into `f_update_log` values (12692, '2014-09-26 04:56:38');
insert into `f_update_log` values (12726, '2014-09-26 04:56:38');
insert into `f_update_log` values (12732, '2014-09-26 04:56:38');
insert into `f_update_log` values (12761, '2014-09-26 04:56:39');
insert into `f_update_log` values (12764, '2014-09-26 04:56:39');
insert into `f_update_log` values (12766, '2014-09-26 04:56:39');
insert into `f_update_log` values (12767, '2014-09-26 04:56:39');
insert into `f_update_log` values (12768, '2014-09-26 04:56:40');
insert into `f_update_log` values (12771, '2014-09-26 04:56:40');
insert into `f_update_log` values (12780, '2014-09-26 04:56:42');
insert into `f_update_log` values (12829, '2014-09-26 04:56:42');
insert into `f_update_log` values (12874, '2014-09-26 04:56:43');
insert into `f_update_log` values (12906, '2014-09-26 04:56:43');
insert into `f_update_log` values (12946, '2014-09-26 04:56:43');
insert into `f_update_log` values (12952, '2014-09-26 04:56:44');
insert into `f_update_log` values (12953, '2014-09-26 04:56:44');
insert into `f_update_log` values (13012, '2014-09-26 04:56:44');
insert into `f_update_log` values (13017, '2014-09-26 04:56:46');
insert into `f_update_log` values (13025, '2014-09-26 04:56:46');
insert into `f_update_log` values (13111, '2014-09-26 04:56:46');
insert into `f_update_log` values (13120, '2014-09-26 04:56:47');
insert into `f_update_log` values (13235, '2014-09-26 04:56:48');
insert into `f_update_log` values (13236, '2014-09-26 04:56:48');
insert into `f_update_log` values (13237, '2014-09-26 04:56:48');
insert into `f_update_log` values (13238, '2014-09-26 04:56:50');
insert into `f_update_log` values (13239, '2014-09-26 04:56:50');
insert into `f_update_log` values (13240, '2014-09-26 04:56:51');
insert into `f_update_log` values (13241, '2014-09-26 04:56:51');
insert into `f_update_log` values (13242, '2014-09-26 04:56:51');
insert into `f_update_log` values (13353, '2014-09-26 04:56:52');
insert into `f_update_log` values (13354, '2014-09-26 04:57:04');
insert into `f_update_log` values (13364, '2014-09-26 04:57:05');
insert into `f_update_log` values (13370, '2014-09-26 04:57:06');
insert into `f_update_log` values (13371, '2014-09-26 04:57:07');
insert into `f_update_log` values (13718, '2014-09-26 04:57:07');
insert into `f_update_log` values (13730, '2014-09-26 04:57:08');
insert into `f_update_log` values (13814, '2014-09-26 04:57:08');
insert into `f_update_log` values (13898, '2014-09-26 04:57:10');
insert into `f_update_log` values (13900, '2014-09-26 04:57:10');
insert into `f_update_log` values (13901, '2014-09-26 04:57:11');
insert into `f_update_log` values (13902, '2014-09-26 04:57:12');
insert into `f_update_log` values (13903, '2014-09-26 04:57:12');
insert into `f_update_log` values (14216, '2014-09-26 04:57:12');
insert into `f_update_log` values (14268, '2014-09-26 04:57:13');
insert into `f_update_log` values (14293, '2014-09-26 04:57:13');
insert into `f_update_log` values (14300, '2014-09-26 04:57:14');
insert into `f_update_log` values (14310, '2014-09-26 04:57:14');
insert into `f_update_log` values (14405, '2014-10-15 07:17:40');
insert into `f_update_log` values (14406, '2014-10-16 06:59:15');
insert into `f_update_log` values (14695, '2014-10-31 13:23:25');
insert into `f_update_log` values (14736, '2014-11-11 11:21:56');
insert into `f_update_log` values (14869, '2014-12-31 10:33:45');
insert into `f_update_log` values (14883, '2014-12-31 10:33:46');
insert into `f_update_log` values (14884, '2014-12-31 10:33:46');
insert into `f_update_log` values (14891, '2014-12-31 10:33:46');
insert into `f_update_log` values (14440, '2015-02-09 13:15:27');
insert into `f_update_log` values (14450, '2015-02-09 13:15:27');
insert into `f_update_log` values (14605, '2015-02-09 13:15:27');
insert into `f_update_log` values (14614, '2015-02-09 13:15:27');
insert into `f_update_log` values (14615, '2015-02-09 13:15:27');
insert into `f_update_log` values (14703, '2015-02-09 13:15:42');
insert into `f_update_log` values (15017, '2015-02-09 13:15:42');
insert into `f_update_log` values (15027, '2015-02-09 13:15:42');
insert into `f_update_log` values (15052, '2015-02-10 01:13:48');
insert into `f_update_log` values (15193, '2015-03-03 05:28:38');
insert into `f_update_log` values (15238, '2015-03-16 22:54:25');
insert into `f_update_log` values (15320, '2015-04-02 10:19:00');
insert into `f_update_log` values (15452, '2015-06-19 11:40:19');
insert into `f_update_log` values (15460, '2015-06-19 11:40:19');
insert into `f_update_log` values (15483, '2015-06-19 11:40:20');
insert into `f_update_log` values (15645, '2015-07-14 16:33:52');
insert into `f_update_log` values (15658, '2015-09-02 14:23:06');
insert into `f_update_log` values (15713, '2015-09-02 14:23:12');
insert into `f_update_log` values (15773, '2015-09-02 14:23:13');
insert into `f_update_log` values (15785, '2015-09-02 14:23:13');
insert into `f_update_log` values (15799, '2015-09-02 14:23:13');
insert into `f_update_log` values (15800, '2015-09-02 14:23:13');
insert into `f_update_log` values (15824, '2015-09-02 14:23:14');
insert into `f_update_log` values (15839, '2015-09-02 14:23:14');
insert into `f_update_log` values (15873, '2015-09-11 11:50:33');
insert into `f_update_log` values (15881, '2015-09-17 10:58:27');
insert into `f_update_log` values (15902, '2015-10-21 14:08:53');
insert into `f_update_log` values (15916, '2015-10-21 14:08:54');
insert into `f_update_log` values (15940, '2015-10-28 10:48:56');
insert into `f_update_log` values (15943, '2015-10-28 10:48:57');
insert into `f_update_log` values (15502, '2015-11-02 14:42:37');
insert into `f_update_log` values (15589, '2015-11-02 14:42:38');
insert into `f_update_log` values (15851, '2015-11-02 14:42:38');
insert into `f_update_log` values (15853, '2015-11-02 14:42:38');
insert into `f_update_log` values (15980, '2015-11-12 14:14:28');
insert into `f_update_log` values (15984, '2015-11-30 14:10:55');
insert into `f_update_log` values (15990, '2015-11-30 14:10:56');
insert into `f_update_log` values (16017, '2015-11-30 14:10:56');
insert into `f_update_log` values (16038, '2015-11-30 14:10:58');
insert into `f_update_log` values (16079, '2015-12-15 16:18:42');
insert into `f_update_log` values (16230, '2016-03-23 18:06:40');
insert into `f_update_log` values (16283, '2016-03-23 18:06:40');
insert into `f_update_log` values (16321, '2016-04-04 10:34:02');
insert into `f_update_log` values (16327, '2016-04-07 09:38:44');
insert into `f_update_log` values (16440, '2016-05-13 09:44:55');
insert into `f_update_log` values (16152, '2016-05-16 15:12:19');
insert into `f_update_log` values (16159, '2016-05-16 15:12:19');
insert into `f_update_log` values (16496, '2016-05-25 11:33:25');
insert into `f_update_log` values (16523, '2016-06-08 15:12:10');
insert into `f_update_log` values (16521, '2016-06-15 10:29:56');
insert into `f_update_log` values (16537, '2016-06-15 10:29:56');
insert into `f_update_log` values (16586, '2016-06-28 10:43:31');
insert into `f_update_log` values (16594, '2016-06-28 10:43:32');
insert into `f_update_log` values (16614, '2016-07-06 14:32:08');
insert into `f_update_log` values (16620, '2016-07-06 14:32:08');
insert into `f_update_log` values (16630, '2016-07-20 13:55:57');
insert into `f_update_log` values (16640, '2016-07-20 13:55:57');
insert into `f_update_log` values (16644, '2016-07-20 13:55:57');
insert into `f_update_log` values (16646, '2016-07-20 13:56:00');
insert into `f_update_log` values (16677, '2016-08-12 16:28:10');
insert into `f_update_log` values (16866, '2016-10-31 12:59:15');
insert into `f_update_log` values (16867, '2016-10-31 12:59:15');
insert into `f_update_log` values (16923, '2016-11-14 12:58:40');
insert into `f_update_log` values (16925, '2016-11-14 12:58:41');
insert into `f_update_log` values (16929, '2016-11-15 13:56:29');
insert into `f_update_log` values (16960, '2016-11-25 15:23:09');
insert into `f_update_log` values (17035, '2016-12-20 13:10:51');
insert into `f_update_log` values (17042, '2016-12-20 13:10:52');
insert into `f_update_log` values (17078, '2017-01-24 10:56:01');
insert into `f_update_log` values (17081, '2017-01-24 10:56:01');
insert into `f_update_log` values (17168, '2017-01-31 12:02:25');
insert into `f_update_log` values (17170, '2017-01-31 12:02:25');
insert into `f_update_log` values (17194, '2017-02-27 10:21:06');
insert into `f_update_log` values (17079, '2017-03-27 17:44:04');
insert into `f_update_log` values (17108, '2017-03-27 17:44:07');
insert into `f_update_log` values (17127, '2017-03-27 17:44:08');
insert into `f_update_log` values (17140, '2017-03-27 17:44:08');
insert into `f_update_log` values (17141, '2017-03-27 17:44:10');
insert into `f_update_log` values (17148, '2017-03-27 17:44:10');
insert into `f_update_log` values (17167, '2017-03-27 17:44:11');
insert into `f_update_log` values (17173, '2017-03-27 17:44:12');
insert into `f_update_log` values (17204, '2017-03-27 17:45:28');
insert into `f_update_log` values (17206, '2017-03-27 17:45:30');
insert into `f_update_log` values (17211, '2017-03-27 17:45:30');
insert into `f_update_log` values (17253, '2017-03-27 17:45:31');
insert into `f_update_log` values (17264, '2017-03-27 17:45:33');
insert into `f_update_log` values (17265, '2017-03-27 17:45:33');
insert into `f_update_log` values (17271, '2017-03-27 17:45:33');
insert into `f_update_log` values (17274, '2017-03-27 17:45:33');
insert into `f_update_log` values (17275, '2017-03-27 17:45:46');
insert into `f_update_log` values (17276, '2017-03-27 17:45:46');
insert into `f_update_log` values (17278, '2017-03-27 17:45:46');
insert into `f_update_log` values (17292, '2017-04-05 14:55:43');
insert into `f_update_log` values (17293, '2017-04-05 14:55:48');
insert into `f_update_log` values (17294, '2017-04-05 14:55:48');
insert into `f_update_log` values (17295, '2017-04-05 14:55:49');
insert into `f_update_log` values (17407, '2017-06-02 16:04:21');
insert into `f_update_log` values (17272, '2017-06-16 11:10:50');
insert into `f_update_log` values (17277, '2017-06-16 11:10:50');
insert into `f_update_log` values (17339, '2017-06-16 11:10:54');
insert into `f_update_log` values (17340, '2017-06-16 11:10:54');
insert into `f_update_log` values (17343, '2017-06-16 11:10:56');
insert into `f_update_log` values (17350, '2017-06-16 11:10:57');
insert into `f_update_log` values (17351, '2017-06-16 11:10:57');
insert into `f_update_log` values (17356, '2017-06-16 11:10:58');
insert into `f_update_log` values (17368, '2017-06-16 11:10:58');
insert into `f_update_log` values (17394, '2017-06-16 11:10:58');
insert into `f_update_log` values (17408, '2017-06-16 11:10:58');
insert into `f_update_log` values (17414, '2017-06-16 11:11:04');
insert into `f_update_log` values (17415, '2017-06-16 11:11:05');
insert into `f_update_log` values (17416, '2017-06-16 11:11:05');
insert into `f_update_log` values (17418, '2017-06-16 11:11:05');
insert into `f_update_log` values (17448, '2017-06-16 11:11:06');
insert into `f_update_log` values (17458, '2017-06-16 11:11:06');
insert into `f_update_log` values (17475, '2017-06-16 11:11:07');
insert into `f_update_log` values (17491, '2017-06-16 11:11:08');
insert into `f_update_log` values (17419, '2017-06-21 16:16:05');
insert into `f_update_log` values (17527, '2017-06-21 16:16:06');
insert into `f_update_log` values (17543, '2017-06-23 10:23:10');
insert into `f_update_log` values (17555, '2017-06-29 12:29:40');
insert into `f_update_log` values (17556, '2017-06-29 12:29:40');
insert into `f_update_log` values (17568, '2017-06-29 12:29:40');
insert into `f_update_log` values (17582, '2017-06-29 17:15:03');
insert into `f_update_log` values (17584, '2017-06-30 10:54:02');
insert into `f_update_log` values (17588, '2017-06-30 11:58:52');
insert into `f_update_log` values (17599, '2017-07-04 11:21:45');
insert into `f_update_log` values (17612, '2017-07-05 09:22:56');
insert into `f_update_log` values (17628, '2017-07-06 09:35:34');
insert into `f_update_log` values (17646, '2017-07-19 09:20:43');
insert into `f_update_log` values (17712, '2017-08-01 10:42:19');
insert into `f_update_log` values (17719, '2017-08-16 16:51:29');
insert into `f_update_log` values (17727, '2017-08-24 10:06:20');
insert into `f_update_log` values (17731, '2017-10-13 14:46:37');
insert into `f_update_log` values (17650, '2017-10-17 14:42:28');
insert into `f_update_log` values (17691, '2017-10-17 14:42:34');
insert into `f_update_log` values (17693, '2017-10-17 14:42:34');
insert into `f_update_log` values (17696, '2017-10-17 14:42:35');
insert into `f_update_log` values (17709, '2017-10-17 14:42:35');
insert into `f_update_log` values (17713, '2017-10-17 14:42:35');
insert into `f_update_log` values (17714, '2017-10-17 14:42:36');
insert into `f_update_log` values (17715, '2017-10-17 14:42:36');
insert into `f_update_log` values (17716, '2017-10-17 14:42:36');
insert into `f_update_log` values (17717, '2017-10-17 14:42:36');
insert into `f_update_log` values (17718, '2017-10-17 14:42:36');
insert into `f_update_log` values (17741, '2017-10-17 14:42:37');
insert into `f_update_log` values (17750, '2017-10-17 14:42:37');
insert into `f_update_log` values (17751, '2017-10-17 14:42:38');
insert into `f_update_log` values (17752, '2017-10-17 14:42:38');
insert into `f_update_log` values (17753, '2017-10-17 14:42:38');
insert into `f_update_log` values (17755, '2017-10-18 14:30:43');
insert into `f_update_log` values (17756, '2017-11-02 14:32:12');
insert into `f_update_log` values (17821, '2017-11-10 11:45:01');
insert into `f_update_log` values (17757, '2017-11-21 17:05:07');
insert into `f_update_log` values (17822, '2017-11-21 17:05:07');
insert into `f_update_log` values (17824, '2017-11-21 17:05:07');
insert into `f_update_log` values (18389, '2017-11-28 17:16:59');
insert into `f_update_log` values (18414, '2017-12-12 09:34:48');
insert into `f_update_log` values (18427, '2017-12-12 09:34:48');
insert into `f_update_log` values (18430, '2018-01-23 10:41:32');
insert into `f_update_log` values (18483, '2018-01-23 10:41:35');
insert into `f_update_log` values (18486, '2018-01-23 10:41:35');
insert into `f_update_log` values (18541, '2018-01-26 15:13:33');
insert into `f_update_log` values (18545, '2018-01-26 15:13:33');
insert into `f_update_log` values (18546, '2018-02-07 17:37:31');
insert into `f_update_log` values (18548, '2018-03-01 12:03:23');
insert into `f_update_log` values (18550, '2018-03-01 12:03:23');
insert into `f_update_log` values (18551, '2018-03-16 14:59:35');
insert into `f_update_log` values (18553, '2018-03-27 16:53:48');
insert into `f_update_log` values (18555, '2018-04-11 10:27:35');
insert into `f_update_log` values (18939, '2018-04-12 15:43:49');
insert into `f_update_log` values (18940, '2018-04-12 15:43:49');
insert into `f_update_log` values (18941, '2018-04-16 08:42:17');
insert into `f_update_log` values (17742, '2018-04-17 16:34:42');
insert into `f_update_log` values (17743, '2018-04-17 16:34:42');
insert into `f_update_log` values (17816, '2018-04-17 16:34:42');
insert into `f_update_log` values (17817, '2018-04-17 16:34:42');
insert into `f_update_log` values (17818, '2018-04-17 16:34:42');
insert into `f_update_log` values (17819, '2018-04-17 16:34:42');
insert into `f_update_log` values (17820, '2018-04-17 16:34:42');
insert into `f_update_log` values (17823, '2018-04-17 16:34:42');
insert into `f_update_log` values (17825, '2018-04-17 16:34:42');
insert into `f_update_log` values (18488, '2018-04-17 16:34:42');
insert into `f_update_log` values (18560, '2018-04-17 16:34:43');
insert into `f_update_log` values (18566, '2018-04-17 16:34:43');
insert into `f_update_log` values (18570, '2018-04-17 16:34:43');
insert into `f_update_log` values (18672, '2018-04-17 16:34:43');
insert into `f_update_log` values (18673, '2018-04-17 16:34:43');
insert into `f_update_log` values (18681, '2018-04-17 16:34:43');
insert into `f_update_log` values (18682, '2018-04-17 16:34:43');
insert into `f_update_log` values (18683, '2018-04-17 16:34:43');
insert into `f_update_log` values (18685, '2018-04-17 16:34:43');
insert into `f_update_log` values (18691, '2018-04-17 16:34:43');
insert into `f_update_log` values (18692, '2018-04-17 16:34:43');
insert into `f_update_log` values (18694, '2018-04-17 16:34:43');
insert into `f_update_log` values (18695, '2018-04-17 16:34:43');
insert into `f_update_log` values (18696, '2018-04-17 16:34:43');
insert into `f_update_log` values (18697, '2018-04-17 16:34:47');
insert into `f_update_log` values (18840, '2018-04-17 16:34:52');
insert into `f_update_log` values (18841, '2018-04-17 16:34:52');
insert into `f_update_log` values (18842, '2018-04-17 16:34:52');
insert into `f_update_log` values (18843, '2018-04-17 16:34:53');
insert into `f_update_log` values (18844, '2018-04-17 16:34:53');
insert into `f_update_log` values (18942, '2018-04-17 16:34:53');
insert into `f_update_log` values (18556, '2018-04-23 10:23:28');
insert into `f_update_log` values (18943, '2018-04-27 13:45:38');
insert into `f_update_log` values (18944, '2018-04-27 13:45:38');
insert into `f_update_log` values (18945, '2018-05-03 16:12:40');
insert into `f_update_log` values (18946, '2018-05-15 13:57:34');
insert into `f_update_log` values (18947, '2018-05-15 13:57:38');
insert into `f_update_log` values (18948, '2018-05-15 13:57:38');
insert into `f_update_log` values (18949, '2018-05-15 13:57:38');
insert into `f_update_log` values (18950, '2018-05-15 13:57:38');
insert into `f_update_log` values (18951, '2018-05-15 15:46:56');
insert into `f_update_log` values (18952, '2018-05-17 12:08:18');
insert into `f_update_log` values (18953, '2018-05-17 12:08:18');
insert into `f_update_log` values (18955, '2018-05-17 12:08:19');
insert into `f_update_log` values (18954, '2018-05-18 10:56:50');
insert into `f_update_log` values (18956, '2018-05-21 09:44:56');
insert into `f_update_log` values (18957, '2018-05-21 13:18:02');
insert into `f_update_log` values (18958, '2018-05-21 14:57:03');
insert into `f_update_log` values (18959, '2018-05-22 17:28:43');
insert into `f_update_log` values (19142, '2018-05-23 09:17:44');
insert into `f_update_log` values (18960, '2018-05-23 12:01:00');
insert into `f_update_log` values (18961, '2018-05-24 09:17:46');
insert into `f_update_log` values (18962, '2018-05-25 10:26:19');
insert into `f_update_log` values (18963, '2018-05-25 10:26:19');
insert into `f_update_log` values (18964, '2018-05-28 14:09:20');
insert into `f_update_log` values (18965, '2018-05-28 14:13:37');
insert into `f_update_log` values (18966, '2018-05-29 12:06:32');
insert into `f_update_log` values (18967, '2018-05-29 12:06:34');
insert into `f_update_log` values (18968, '2018-05-30 11:56:42');
insert into `f_update_log` values (18969, '2018-05-30 17:26:51');
insert into `f_update_log` values (18970, '2018-05-31 10:06:11');
insert into `f_update_log` values (18971, '2018-05-31 10:06:11');
insert into `f_update_log` values (18972, '2018-05-31 10:06:11');
insert into `f_update_log` values (18973, '2018-05-31 18:29:24');
insert into `f_update_log` values (18975, '2018-06-01 14:18:42');
insert into `f_update_log` values (18974, '2018-06-01 14:18:45');
insert into `f_update_log` values (18976, '2018-06-01 16:19:32');
insert into `f_update_log` values (18977, '2018-06-04 10:54:26');
insert into `f_update_log` values (18980, '2018-06-04 17:13:24');
insert into `f_update_log` values (18547, '2018-06-05 08:49:21');
insert into `f_update_log` values (18981, '2018-06-05 08:49:21');
insert into `f_update_log` values (18982, '2018-06-05 08:49:21');
insert into `f_update_log` values (18991, '2018-06-06 09:34:06');
insert into `f_update_log` values (19001, '2018-06-06 09:34:06');
insert into `f_update_log` values (18990, '2018-06-06 09:57:30');
insert into `f_update_log` values (19011, '2018-06-06 14:16:08');
insert into `f_update_log` values (19021, '2018-06-06 14:16:08');
insert into `f_update_log` values (19000, '2018-06-13 15:45:54');
insert into `f_update_log` values (19010, '2018-06-13 15:45:54');
insert into `f_update_log` values (19020, '2018-06-13 15:45:54');
insert into `f_update_log` values (19031, '2018-06-13 15:45:54');
insert into `f_update_log` values (19041, '2018-06-13 15:45:54');
insert into `f_update_log` values (19043, '2018-06-13 15:45:55');
insert into `f_update_log` values (19045, '2018-06-13 15:45:55');
insert into `f_update_log` values (19047, '2018-06-14 15:27:42');
insert into `f_update_log` values (19050, '2018-06-20 12:43:17');
insert into `f_update_log` values (19060, '2018-06-27 15:50:14');
insert into `f_update_log` values (19061, '2018-06-27 15:50:16');
insert into `f_update_log` values (19072, '2018-06-29 15:24:07');
insert into `f_update_log` values (19073, '2018-07-02 16:41:49');
insert into `f_update_log` values (19082, '2018-07-02 16:41:49');
insert into `f_update_log` values (19083, '2018-07-02 16:41:49');
insert into `f_update_log` values (19090, '2018-07-02 16:41:49');
insert into `f_update_log` values (19100, '2018-07-02 16:41:49');
insert into `f_update_log` values (19102, '2018-07-02 16:41:49');
insert into `f_update_log` values (19110, '2018-07-03 10:49:12');
insert into `f_update_log` values (19120, '2018-07-05 12:09:38');
insert into `f_update_log` values (19123, '2018-07-05 12:09:38');
insert into `f_update_log` values (19130, '2018-07-07 14:25:54');
insert into `f_update_log` values (19133, '2018-07-07 14:25:54');
insert into `f_update_log` values (19143, '2018-07-07 14:25:54');
insert into `f_update_log` values (19151, '2018-07-07 14:25:54');
insert into `f_update_log` values (19153, '2018-07-07 14:25:54');
insert into `f_update_log` values (19163, '2018-07-07 14:25:54');
insert into `f_update_log` values (19170, '2018-07-07 14:25:54');
insert into `f_update_log` values (19171, '2018-07-07 14:25:54');
insert into `f_update_log` values (19172, '2018-07-10 12:04:49');
insert into `f_update_log` values (19173, '2018-07-10 12:04:49');
insert into `f_update_log` values (19183, '2018-07-10 12:04:49');
insert into `f_update_log` values (19182, '2018-07-11 14:44:59');
insert into `f_update_log` values (19193, '2018-07-12 14:19:34');
insert into `f_update_log` values (19200, '2018-07-16 12:19:06');
insert into `f_update_log` values (19203, '2018-07-24 13:47:27');
insert into `f_update_log` values (19210, '2018-07-24 13:47:27');
insert into `f_update_log` values (19213, '2018-07-24 13:47:27');
insert into `f_update_log` values (19223, '2018-07-25 10:22:27');
insert into `f_update_log` values (19230, '2018-07-27 16:40:42');
insert into `f_update_log` values (19233, '2018-08-15 14:34:39');
insert into `f_update_log` values (19243, '2018-08-17 17:20:03');
insert into `f_update_log` values (19261, '2018-09-05 22:07:05');
insert into `f_update_log` values (19270, '2018-09-14 09:40:20');
insert into `f_update_log` values (19280, '2018-09-14 09:40:20');
insert into `f_update_log` values (19341, '2018-10-11 10:14:13');
insert into `f_update_log` values (19351, '2018-10-11 10:14:14');
insert into `f_update_log` values (19360, '2018-10-11 10:14:14');
insert into `f_update_log` values (19362, '2018-10-16 07:31:54');
insert into `f_update_log` values (19371, '2018-11-09 01:14:28');
insert into `f_update_log` values (19381, '2018-11-09 01:14:28');
insert into `f_update_log` values (19391, '2018-11-16 01:09:12');
insert into `f_update_log` values (19401, '2018-11-16 01:09:12');
insert into `f_update_log` values (19402, '2018-11-23 01:23:35');
insert into `f_update_log` values (19412, '2018-11-23 01:23:35');
insert into `f_update_log` values (19422, '2018-11-23 01:23:35');
insert into `f_update_log` values (19432, '2018-11-23 01:23:35');
insert into `f_update_log` values (19442, '2018-11-29 02:07:37');
insert into `f_update_log` values (19452, '2018-11-29 02:07:38');
insert into `f_update_log` values (19462, '2018-12-01 00:43:47');
insert into `f_update_log` values (19472, '2018-12-01 00:43:47');
insert into `f_update_log` values (19482, '2018-12-01 00:43:47');
insert into `f_update_log` values (19492, '2018-12-01 00:43:47');
insert into `f_update_log` values (19502, '2018-12-07 15:51:52');
insert into `f_update_log` values (19512, '2018-12-07 15:51:52');
insert into `f_update_log` values (19522, '2018-12-18 03:43:37');
insert into `f_update_log` values (19531, '2018-12-18 03:43:37');
insert into `f_update_log` values (19541, '2019-01-09 17:18:43');
insert into `f_update_log` values (19053, '2019-01-09 17:38:37');
insert into `f_update_log` values (19062, '2019-01-09 17:38:37');
insert into `f_update_log` values (19070, '2019-01-09 17:38:37');
insert into `f_update_log` values (19092, '2019-01-09 17:38:37');
insert into `f_update_log` values (19253, '2019-01-09 17:38:37');
insert into `f_update_log` values (19262, '2019-01-09 17:38:37');
insert into `f_update_log` values (19271, '2019-01-09 17:38:37');
insert into `f_update_log` values (19281, '2019-01-09 17:38:37');
insert into `f_update_log` values (19290, '2019-01-09 17:38:37');
insert into `f_update_log` values (19300, '2019-01-09 17:38:37');
insert into `f_update_log` values (19312, '2019-01-09 17:38:37');
insert into `f_update_log` values (19321, '2019-01-09 17:38:37');
insert into `f_update_log` values (19331, '2019-01-09 17:38:37');
insert into `f_update_log` values (19332, '2019-01-09 17:38:37');
insert into `f_update_log` values (19509, '2019-01-09 17:38:37');
insert into `f_update_log` values (19519, '2019-01-09 17:38:37');
insert into `f_update_log` values (19529, '2019-01-09 17:38:38');
insert into `f_update_log` values (19260, '2019-01-09 17:40:02');
insert into `f_update_log` values (19542, '2019-02-05 12:38:55');
insert into `f_update_log` values (19549, '2019-03-01 12:09:39');
insert into `f_update_log` values (19550, '2019-03-01 12:09:39');
insert into `f_update_log` values (19559, '2019-03-13 10:46:45');
insert into `f_update_log` values (19560, '2019-03-26 11:41:57');
insert into `f_update_log` values (19570, '2019-03-26 11:41:57');
insert into `f_update_log` values (19580, '2019-03-28 22:15:11');
insert into `f_update_log` values (19572, '2019-04-01 21:23:33');
insert into `f_update_log` values (19582, '2019-04-06 21:57:12');
insert into `f_update_log` values (19592, '2019-04-06 21:57:12');
insert into `f_update_log` values (19598, '2019-04-06 21:57:12');
insert into `f_update_log` values (19602, '2019-04-06 21:57:12');
insert into `f_update_log` values (19612, '2019-04-09 21:47:22');
insert into `f_update_log` values (19600, '2019-04-16 17:45:37');
insert into `f_update_log` values (19603, '2019-04-16 17:45:37');
insert into `f_update_log` values (19622, '2019-05-16 15:59:32');
insert into `f_update_log` values (19632, '2019-05-16 15:59:32');
insert into `f_update_log` values (19639, '2019-12-22 11:10:10');
insert into `f_update_log` values (19642, '2019-12-22 11:10:11');
insert into `f_update_log` values (19649, '2019-12-22 11:10:11');
insert into `f_update_log` values (19659, '2019-12-22 11:10:11');
insert into `f_update_log` values (19662, '2019-12-22 11:10:11');
insert into `f_update_log` values (19672, '2019-12-22 11:10:11');
insert into `f_update_log` values (19682, '2019-12-22 11:10:12');
insert into `f_update_log` values (19683, '2019-12-22 11:10:12');
insert into `f_update_log` values (19689, '2019-12-22 11:10:12');
insert into `f_update_log` values (19699, '2019-12-22 11:10:12');
insert into `f_update_log` values (19702, '2019-12-22 11:10:13');
insert into `f_update_log` values (19709, '2019-12-22 11:10:14');
insert into `f_update_log` values (19712, '2019-12-22 11:10:14');
insert into `f_update_log` values (19719, '2019-12-22 11:10:14');
create table `f_users` (`id` int(11) auto_increment, primary key (`id`), `fio` varchar(255) character set utf8 collate utf8_general_ci NOT NULL , `e_mail` varchar(255) character set utf8 collate utf8_general_ci NOT NULL , `phone` varchar(255) character set utf8 collate utf8_general_ci NOT NULL , `login` varchar(255) character set utf8 collate utf8_general_ci NOT NULL , `password` text character set utf8 collate utf8_general_ci NOT NULL , `code` varchar(255) character set utf8 collate utf8_general_ci NOT NULL , `date_registr` date default '0000-00-00'  NOT NULL , `arc` int(11) default '0'  NOT NULL , `group_id` int(11) default '0'  NOT NULL , key `group_id` (`group_id`), `lang` varchar(30) character set utf8 collate utf8_general_ci NOT NULL , `time_zone` varchar(255) character set utf8 collate utf8_general_ci NOT NULL , `window_scroll` tinyint(1) default '-1'  NOT NULL , `default_page` varchar(30) character set utf8 collate utf8_general_ci NOT NULL , `developer_mode` tinyint(1) default '0'  NOT NULL , `user_hash` varchar(255) character set utf8 collate utf8_general_ci NOT NULL , `last_time` timestamp default '0000-00-00 00:00:00'  NOT NULL , `last_event` timestamp default '0000-00-00 00:00:00'  NOT NULL , `last_ip` varchar(255) character set utf8 collate utf8_general_ci NOT NULL , `ot_key` text character set utf8 collate utf8_general_ci NOT NULL , `crypt_mode` varchar(255) character set utf8 collate utf8_general_ci NOT NULL , `t` tinyint(1) default '0'  NOT NULL , `sound_on` tinyint(1) default '1'  NOT NULL , `cut_notify_text` tinyint(1) default '0'  NOT NULL , `oktell_login` varchar(255) character set utf8 collate utf8_general_ci NOT NULL , `oktell_password` varchar(255) character set utf8 collate utf8_general_ci NOT NULL , `oktell_use_handsfree` int(11) default '0'  NOT NULL , `asterisk_login` varchar(255) character set utf8 collate utf8_general_ci NOT NULL , `asterisk_password` varchar(255) character set utf8 collate utf8_general_ci NOT NULL , `asterisk_use_handsfree` int(11) default '0'  NOT NULL , `asterisk_number` varchar(255) character set utf8 collate utf8_general_ci NOT NULL , `display_notification_on` tinyint(1) default '1'  NOT NULL , `api_on` tinyint(1) default '0'  NOT NULL , `telegram_on` tinyint(1) default '0'  NOT NULL , `api_on_check` tinyint(1) default '0'  NOT NULL )engine=innodb default charset=utf8 collate=utf8_general_ci;
insert into `f_users` values (1, 'Ленар', 'batl@clientbase.ru', '', 'lenar', 'HX7ob4syjFca3ROhHkDM8nSq1zMyJ37vNTOQeiJEXIMsSRxoh1FRDSUoLb3/+T4TYcOgv20xd2QQSpARW9eweVRdqYW0LlQzgcMxHN4rrbOFo7VKHxKysp98NGgqRmT51D6jzsK3N++Pfg8ECLrfDMGwe9d+ss7UujZ8SR1c5V5eWJ0PdxgH+QkacYx8sE05mkk5rvrbYtPKSu5V68UiUCXvKTNYO1FE6LQkuh8ntPEg4mj/1WmVFoh33cQmf+bkolRgJmfzmcppbyFNKqgFJQDTjV65/XI3EkHxxcH/iYWAfN8CmH71HXmgLJiVDRwcXx//z0whmmwaFkfXYp5jTKsm3rTXAjkyV3S+HWsSVL2qcoqDfqROVwkiwepOcCoL9Me5nTMUUVAs9UEO3WEY00T9wTaZjxSDPWN2xTcV37NP9/RVY+5XkU6vDorro5JCOWLtsC115MMjW4bBjUa/pWKszZ+aZs8UZnLf+FiLSUQaohEqQumyxGj05m7ILqNrOQSozulz0vAr58Ump10dkFm34MjK6IjCSZZMyV/luARGAZsz63rxdXF7XTo92MpevA90EEsQj6Ynwy4fzdC6IXWIysvfW9S38krzUFuFo4WNLvaeHwFByQ2pP0RtzdyJ467Qubeao2ic04ZOAG5wRQGpO37nzrMzm5B0/Ff6Bg8=', '', '2019-12-22', 0, 1, '', '', -1, ' ', 1, 'TQxtLtcrzgdSlmNuFMnpadFMxsojosOM', '2019-12-22 11:11:32', '2019-12-22 11:11:32', '94.180.149.1', '', '8', 1, 1, 1, '', '', 0, '', '', 0, '', 1, 0, 0, 0);
